(self.webpackChunksala_de_juego_dos=self.webpackChunksala_de_juego_dos||[]).push([[179],{8255:At=>{function ze(q){return Promise.resolve().then(()=>{var w=new Error("Cannot find module '"+q+"'");throw w.code="MODULE_NOT_FOUND",w})}ze.keys=()=>[],ze.resolve=ze,ze.id=8255,At.exports=ze},7238:(At,ze,q)=>{"use strict";q.d(ze,{l3:()=>J,_j:()=>w,LC:()=>v,ZN:()=>he,jt:()=>be,vP:()=>Be,SB:()=>ue,oB:()=>we,eR:()=>ne,X$:()=>Ee,ZE:()=>nt,k1:()=>it});class w{}class v{}const J="*";function Ee(We,ce){return{type:7,name:We,definitions:ce,options:{}}}function be(We,ce=null){return{type:4,styles:ce,timings:We}}function Be(We,ce=null){return{type:2,steps:We,options:ce}}function we(We){return{type:6,styles:We,offset:null}}function ue(We,ce,Je){return{type:0,name:We,styles:ce,options:Je}}function ne(We,ce,Je=null){return{type:1,expr:We,animation:ce,options:Je}}function Fe(We){Promise.resolve(null).then(We)}class he{constructor(ce=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ce+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}onStart(ce){this._onStartFns.push(ce)}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ce=>ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ce){this._position=this.totalTime?ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ce){const Je="start"==ce?this._onStartFns:this._onDoneFns;Je.forEach(Ot=>Ot()),Je.length=0}}class nt{constructor(ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ce;let Je=0,Ot=0,Le=0;const Qe=this.players.length;0==Qe?Fe(()=>this._onFinish()):this.players.forEach(ke=>{ke.onDone(()=>{++Je==Qe&&this._onFinish()}),ke.onDestroy(()=>{++Ot==Qe&&this._onDestroy()}),ke.onStart(()=>{++Le==Qe&&this._onStart()})}),this.totalTime=this.players.reduce((ke,Ue)=>Math.max(ke,Ue.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}init(){this.players.forEach(ce=>ce.init())}onStart(ce){this._onStartFns.push(ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ce=>ce()),this._onStartFns=[])}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ce=>ce.play())}pause(){this.players.forEach(ce=>ce.pause())}restart(){this.players.forEach(ce=>ce.restart())}finish(){this._onFinish(),this.players.forEach(ce=>ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ce=>ce.destroy()),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this.players.forEach(ce=>ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ce){const Je=ce*this.totalTime;this.players.forEach(Ot=>{const Le=Ot.totalTime?Math.min(1,Je/Ot.totalTime):1;Ot.setPosition(Le)})}getPosition(){const ce=this.players.reduce((Je,Ot)=>null===Je||Ot.totalTime>Je.totalTime?Ot:Je,null);return null!=ce?ce.getPosition():0}beforeDestroy(){this.players.forEach(ce=>{ce.beforeDestroy&&ce.beforeDestroy()})}triggerCallback(ce){const Je="start"==ce?this._onStartFns:this._onDoneFns;Je.forEach(Ot=>Ot()),Je.length=0}}const it="!"},8583:(At,ze,q)=>{"use strict";q.d(ze,{mr:()=>nt,Ov:()=>Is,ez:()=>io,K0:()=>Be,Do:()=>We,Ts:()=>$i,V_:()=>ee,Ye:()=>ce,S$:()=>Fe,mk:()=>Ht,sg:()=>Xn,O5:()=>ji,tP:()=>fi,b0:()=>it,lw:()=>we,EM:()=>Br,JF:()=>Zs,PM:()=>xs,w_:()=>me,bD:()=>Fi,q:()=>J,Mx:()=>Ge,HT:()=>be});var w=q(3018);let v=null;function J(){return v}function be(U){v||(v=U)}class me{}const Be=new w.OlP("DocumentToken");let we=(()=>{class U{historyGo(V){throw new Error("Not implemented")}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275prov=(0,w.Yz7)({factory:ue,token:U,providedIn:"platform"}),U})();function ue(){return(0,w.LFG)(ne)}const ee=new w.OlP("Location Initialized");let ne=(()=>{class U extends we{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(V){const K=J().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",V,!1),()=>K.removeEventListener("popstate",V)}onHashChange(V){const K=J().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",V,!1),()=>K.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,K,fe){ae()?this._history.pushState(V,K,fe):this.location.hash=fe}replaceState(V,K,fe){ae()?this._history.replaceState(V,K,fe):this.location.hash=fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return U.\u0275fac=function(V){return new(V||U)(w.LFG(Be))},U.\u0275prov=(0,w.Yz7)({factory:oe,token:U,providedIn:"platform"}),U})();function ae(){return!!window.history.pushState}function oe(){return new ne((0,w.LFG)(Be))}function ye(U,G){if(0==U.length)return G;if(0==G.length)return U;let V=0;return U.endsWith("/")&&V++,G.startsWith("/")&&V++,2==V?U+G.substring(1):1==V?U+G:U+"/"+G}function Ke(U){const G=U.match(/#|\?|$/),V=G&&G.index||U.length;return U.slice(0,V-("/"===U[V-1]?1:0))+U.slice(V)}function je(U){return U&&"?"!==U[0]?"?"+U:U}let Fe=(()=>{class U{historyGo(V){throw new Error("Not implemented")}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275prov=(0,w.Yz7)({factory:he,token:U,providedIn:"root"}),U})();function he(U){const G=(0,w.LFG)(Be).location;return new it((0,w.LFG)(we),G&&G.origin||"")}const nt=new w.OlP("appBaseHref");let it=(()=>{class U extends Fe{constructor(V,K){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==K&&(K=this._platformLocation.getBaseHrefFromDOM()),null==K)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=K}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return ye(this._baseHref,V)}path(V=!1){const K=this._platformLocation.pathname+je(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&V?`${K}${fe}`:K}pushState(V,K,fe,$e){const gt=this.prepareExternalUrl(fe+je($e));this._platformLocation.pushState(V,K,gt)}replaceState(V,K,fe,$e){const gt=this.prepareExternalUrl(fe+je($e));this._platformLocation.replaceState(V,K,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var K,fe;null===(fe=(K=this._platformLocation).historyGo)||void 0===fe||fe.call(K,V)}}return U.\u0275fac=function(V){return new(V||U)(w.LFG(we),w.LFG(nt,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})(),We=(()=>{class U extends Fe{constructor(V,K){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(V){const K=ye(this._baseHref,V);return K.length>0?"#"+K:K}pushState(V,K,fe,$e){let gt=this.prepareExternalUrl(fe+je($e));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.pushState(V,K,gt)}replaceState(V,K,fe,$e){let gt=this.prepareExternalUrl(fe+je($e));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.replaceState(V,K,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var K,fe;null===(fe=(K=this._platformLocation).historyGo)||void 0===fe||fe.call(K,V)}}return U.\u0275fac=function(V){return new(V||U)(w.LFG(we),w.LFG(nt,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})(),ce=(()=>{class U{constructor(V,K){this._subject=new w.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const fe=this._platformStrategy.getBaseHref();this._platformLocation=K,this._baseHref=Ke(Le(fe)),this._platformStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,K=""){return this.path()==this.normalize(V+je(K))}normalize(V){return U.stripTrailingSlash(function(U,G){return U&&G.startsWith(U)?G.substring(U.length):G}(this._baseHref,Le(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,K="",fe=null){this._platformStrategy.pushState(fe,"",V,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+je(K)),fe)}replaceState(V,K="",fe=null){this._platformStrategy.replaceState(fe,"",V,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+je(K)),fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var K,fe;null===(fe=(K=this._platformStrategy).historyGo)||void 0===fe||fe.call(K,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}))}_notifyUrlChangeListeners(V="",K){this._urlChangeListeners.forEach(fe=>fe(V,K))}subscribe(V,K,fe){return this._subject.subscribe({next:V,error:K,complete:fe})}}return U.\u0275fac=function(V){return new(V||U)(w.LFG(Fe),w.LFG(we))},U.normalizeQueryParams=je,U.joinWithSlash=ye,U.stripTrailingSlash=Ke,U.\u0275prov=(0,w.Yz7)({factory:Je,token:U,providedIn:"root"}),U})();function Je(){return new ce((0,w.LFG)(Fe),(0,w.LFG)(we))}function Le(U){return U.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Zero=0]="Zero",Ue[Ue.One=1]="One",Ue[Ue.Two=2]="Two",Ue[Ue.Few=3]="Few",Ue[Ue.Many=4]="Many",Ue[Ue.Other=5]="Other",Ue))();const Fn=w.kL8;class ve{}let re=(()=>{class U extends ve{constructor(V){super(),this.locale=V}getPluralCategory(V,K){switch(Fn(K||this.locale)(V)){case Ue.Zero:return"zero";case Ue.One:return"one";case Ue.Two:return"two";case Ue.Few:return"few";case Ue.Many:return"many";default:return"other"}}}return U.\u0275fac=function(V){return new(V||U)(w.LFG(w.soG))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();function Ge(U,G){G=encodeURIComponent(G);for(const V of U.split(";")){const K=V.indexOf("="),[fe,$e]=-1==K?[V,""]:[V.slice(0,K),V.slice(K+1)];if(fe.trim()===G)return decodeURIComponent($e)}return null}let Ht=(()=>{class U{constructor(V,K,fe,$e){this._iterableDiffers=V,this._keyValueDiffers=K,this._ngEl=fe,this._renderer=$e,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,w.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),V.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),V.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,w.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),V.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(K=>this._toggleClass(K,!0)):Object.keys(V).forEach(K=>this._toggleClass(K,!!V[K])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(K=>this._toggleClass(K,!1)):Object.keys(V).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(V,K){(V=V.trim())&&V.split(/\s+/g).forEach(fe=>{K?this._renderer.addClass(this._ngEl.nativeElement,fe):this._renderer.removeClass(this._ngEl.nativeElement,fe)})}}return U.\u0275fac=function(V){return new(V||U)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class Jn{constructor(G,V,K,fe){this.$implicit=G,this.ngForOf=V,this.index=K,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class U{constructor(V,K,fe){this._viewContainer=V,this._template=K,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;if(!this._differ&&V)try{this._differ=this._differs.find(V).create(this.ngForTrackBy)}catch(K){throw new Error(`Cannot find a differ supporting object '${V}' of type '${function(U){return U.name||typeof U}(V)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const K=[];V.forEachOperation((fe,$e,gt)=>{if(null==fe.previousIndex){const L=this._viewContainer.createEmbeddedView(this._template,new Jn(null,this._ngForOf,-1,-1),null===gt?void 0:gt),P=new cr(fe,L);K.push(P)}else if(null==gt)this._viewContainer.remove(null===$e?void 0:$e);else if(null!==$e){const L=this._viewContainer.get($e);this._viewContainer.move(L,gt);const P=new cr(fe,L);K.push(P)}});for(let fe=0;fe<K.length;fe++)this._perViewChange(K[fe].view,K[fe].record);for(let fe=0,$e=this._viewContainer.length;fe<$e;fe++){const gt=this._viewContainer.get(fe);gt.context.index=fe,gt.context.count=$e,gt.context.ngForOf=this._ngForOf}V.forEachIdentityChange(fe=>{this._viewContainer.get(fe.currentIndex).context.$implicit=fe.item})}_perViewChange(V,K){V.context.$implicit=K.item}static ngTemplateContextGuard(V,K){return!0}}return U.\u0275fac=function(V){return new(V||U)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class cr{constructor(G,V){this.record=G,this.view=V}}let ji=(()=>{class U{constructor(V,K){this._viewContainer=V,this._context=new mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Gn("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Gn("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,K){return!0}}return U.\u0275fac=function(V){return new(V||U)(w.Y36(w.s_b),w.Y36(w.Rgc))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class mr{constructor(){this.$implicit=null,this.ngIf=null}}function Gn(U,G){if(G&&!G.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,w.AaK)(G)}'.`)}let fi=(()=>{class U{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const K=this._viewContainerRef;this._viewRef&&K.remove(K.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?K.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(V){return new(V||U)(w.Y36(w.s_b))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[w.TTD]}),U})();class Mi{createSubscription(G,V){return G.subscribe({next:V,error:K=>{throw K}})}dispose(G){G.unsubscribe()}onDestroy(G){G.unsubscribe()}}class es{createSubscription(G,V){return G.then(V,K=>{throw K})}dispose(G){}onDestroy(G){}}const wr=new es,Cr=new Mi;let Is=(()=>{class U{constructor(V){this._ref=V,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,K=>this._updateLatestValue(V,K))}_selectStrategy(V){if((0,w.QGY)(V))return wr;if((0,w.F4k)(V))return Cr;throw function(U,G){return Error(`InvalidPipeArgument: '${G}' for pipe '${(0,w.AaK)(U)}'`)}(U,V)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,K){V===this._obj&&(this._latestValue=K,this._ref.markForCheck())}}return U.\u0275fac=function(V){return new(V||U)(w.Y36(w.sBO,16))},U.\u0275pipe=w.Yjl({name:"async",type:U,pure:!1}),U})(),$i=(()=>{class U{transform(V){return JSON.stringify(V,null,2)}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275pipe=w.Yjl({name:"json",type:U,pure:!1}),U})(),io=(()=>{class U{}return U.\u0275fac=function(V){return new(V||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({providers:[{provide:ve,useClass:re}]}),U})();const Fi="browser";function xs(U){return"server"===U}let Br=(()=>{class U{}return U.\u0275prov=(0,w.Yz7)({token:U,providedIn:"root",factory:()=>new Os((0,w.LFG)(Be),window)}),U})();class Os{constructor(G,V){this.document=G,this.window=V,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const V=function(U,G){const V=U.getElementById(G)||U.getElementsByName(G)[0];if(V)return V;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const K=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let fe=K.currentNode;for(;fe;){const $e=fe.shadowRoot;if($e){const gt=$e.getElementById(G)||$e.querySelector(`[name="${G}"]`);if(gt)return gt}fe=K.nextNode()}}return null}(this.document,G);V&&(this.scrollToElement(V),this.attemptFocus(V))}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=G)}}scrollToElement(G){const V=G.getBoundingClientRect(),K=V.left+this.window.pageXOffset,fe=V.top+this.window.pageYOffset,$e=this.offset();this.window.scrollTo(K-$e[0],fe-$e[1])}attemptFocus(G){return G.focus(),this.document.activeElement===G}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=jr(this.window.history)||jr(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function jr(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Zs{}},3018:(At,ze,q)=>{"use strict";q.d(ze,{deG:()=>Wd,tb:()=>jT,AFp:()=>VT,ip1:()=>UC,CZH:()=>Tg,hGG:()=>IS,z2F:()=>R_,sBO:()=>pg,Sil:()=>M_,_Vd:()=>Lu,EJc:()=>$T,SBq:()=>Vs,qLn:()=>De,vpe:()=>Hu,gxx:()=>Cu,tBr:()=>Wi,XFs:()=>at,OlP:()=>sn,zs3:()=>si,IIB:()=>yA,ZZ4:()=>dg,aQg:()=>hg,soG:()=>q0,YKP:()=>eC,v3s:()=>rS,h0i:()=>Ul,PXZ:()=>QA,R0b:()=>Ua,FiY:()=>Xs,Lbi:()=>BT,g9A:()=>UT,Qsj:()=>g0,FYo:()=>Bd,JOm:()=>Sa,Tiy:()=>ag,q3G:()=>Rr,PiD:()=>Ca,tp0:()=>Ia,EAV:()=>aS,Rgc:()=>Uu,dDg:()=>ZT,DyG:()=>Zu,q4F:()=>no,GfV:()=>l_,s_b:()=>gg,ifc:()=>qn,eFA:()=>JT,G48:()=>qA,Gpc:()=>je,X6Q:()=>zC,_c5:()=>yS,VLi:()=>$A,c2e:()=>HT,zSh:()=>gc,wAp:()=>en,vHH:()=>it,EiD:()=>jf,mCW:()=>Tl,qzn:()=>Ko,JVY:()=>Vg,pB0:()=>Lf,eBb:()=>Zn,L6k:()=>_i,LAX:()=>Ff,cg1:()=>Fd,Tjo:()=>gS,kL8:()=>kw,yhl:()=>lu,dqk:()=>ie,sIi:()=>Fr,CqO:()=>Ey,QGY:()=>wy,F4k:()=>iw,RDi:()=>V,AaK:()=>oe,z3N:()=>fo,qOj:()=>ey,TTD:()=>rs,_Bn:()=>Lb,xp6:()=>tp,uIk:()=>ty,Tol:()=>mw,ekj:()=>Ny,Suo:()=>gT,Xpm:()=>on,lG2:()=>Ar,Yz7:()=>jt,cJS:()=>_r,oAB:()=>Zr,Yjl:()=>Lr,Y36:()=>$h,_UZ:()=>nw,BQk:()=>qh,ynx:()=>Su,qZA:()=>vy,TgZ:()=>jp,EpF:()=>rw,n5z:()=>zn,Ikx:()=>Rw,LFG:()=>yr,$8M:()=>In,NdJ:()=>by,CRH:()=>mT,oxw:()=>Hp,ALo:()=>cT,lcZ:()=>dT,Q6J:()=>yy,MGl:()=>qp,WLB:()=>iT,iGM:()=>pT,MAs:()=>$v,CHM:()=>zl,oJD:()=>Dl,LSH:()=>Al,kYT:()=>ur,Udp:()=>Oy,d8E:()=>Pw,YNc:()=>iy,W1O:()=>wT,_uU:()=>Wp,Oqu:()=>Rd,hij:()=>Yh});var w=q(9765),v=q(5319),J=q(7574),Ee=q(6682),be=q(2441);var we=q(1307);function ue(){return new w.xQ}function ne(i){for(let s in i)if(i[s]===ne)return s;throw Error("Could not find renamed property on target object.")}function ae(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function oe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(oe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ye(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ke=ne({__forward_ref__:ne});function je(i){return i.__forward_ref__=je,i.toString=function(){return oe(this())},i}function Fe(i){return he(i)?i():i}function he(i){return"function"==typeof i&&i.hasOwnProperty(Ke)&&i.__forward_ref__===je}class it extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function Je(i){return"string"==typeof i?i:null==i?"":String(i)}function Ot(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Je(i)}function Ue(i,s){const a=s?` in ${s}`:"";throw new it("201",`No provider for ${Ot(i)} found${a}`)}function Ce(i,s){null==i&&function(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function _r(i){return{providers:i.providers||[],imports:i.imports||[]}}function Fn(i){return jn(i,xn)||jn(i,Hn)}function jn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Sn(i){return i&&(i.hasOwnProperty(vn)||i.hasOwnProperty(Rt))?i[vn]:null}const xn=ne({\u0275prov:ne}),vn=ne({\u0275inj:ne}),Hn=ne({ngInjectableDef:ne}),Rt=ne({ngInjectorDef:ne});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let Vt;function $n(i){const s=Vt;return Vt=i,s}function wn(i,s,a){const u=Fn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&at.Optional?null:void 0!==s?s:void Ue(oe(i),"Injector")}function Pt(i){return{toString:i}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),qn=(()=>((qn=qn||{})[qn.Emulated=0]="Emulated",qn[qn.None=2]="None",qn[qn.ShadowDom=3]="ShadowDom",qn))();const vr="undefined"!=typeof globalThis&&globalThis,zt="undefined"!=typeof window&&window,Mn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ge="undefined"!=typeof global&&global,ie=vr||ge||zt||Mn,Oe={},ot=[],xt=ne({\u0275cmp:ne}),Xt=ne({\u0275dir:ne}),un=ne({\u0275pipe:ne}),fn=ne({\u0275mod:ne}),pr=ne({\u0275loc:ne}),tn=ne({\u0275fac:ne}),On=ne({__NG_ELEMENT_ID__:ne});let Qn=0;function on(i){return Pt(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ot,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||qn.Emulated,id:"c",styles:i.styles||ot,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,h=i.features,m=i.pipes;return u.id+=Qn++,u.inputs=ir(i.inputs,a),u.outputs=ir(i.outputs),h&&h.forEach(E=>E(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(di):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ji):null,u})}function di(i){return Dt(i)||function(i){return i[Xt]||null}(i)}function Ji(i){return function(i){return i[un]||null}(i)}const hs={};function Zr(i){return Pt(()=>{const s={type:i.type,bootstrap:i.bootstrap||ot,declarations:i.declarations||ot,imports:i.imports||ot,exports:i.exports||ot,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(hs[i.id]=i.type),s})}function ur(i,s){return Pt(()=>{const a=sr(i,!0);a.declarations=s.declarations||ot,a.imports=s.imports||ot,a.exports=s.exports||ot})}function ir(i,s){if(null==i)return Oe;const a={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=u,s&&(s[d]=h)}return a}const Ar=on;function Lr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Dt(i){return i[xt]||null}function sr(i,s){const a=i[fn]||null;if(!a&&!0===s)throw new Error(`Type ${oe(i)} does not have '\u0275mod' property.`);return a}function Ur(i){return Array.isArray(i)&&"object"==typeof i[1]}function Cn(i){return Array.isArray(i)&&!0===i[1]}function Mi(i){return 0!=(8&i.flags)}function es(i){return 2==(2&i.flags)}function wr(i){return 1==(1&i.flags)}function Cr(i){return null!==i.template}function Is(i){return 0!=(512&i[2])}function mi(i,s){return i.hasOwnProperty(tn)?i[tn]:null}class bi{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function rs(){return xs}function xs(i){return i.type.prototype.ngOnChanges&&(i.setInput=zs),Kr}function Kr(){const i=Br(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Oe)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function zs(i,s,a,u){const d=Br(i)||function(i,s){return i[so]=s}(i,{previous:Oe,current:null}),h=d.current||(d.current={}),m=d.previous,E=this.declaredInputs[a],A=m[E];h[E]=new bi(A&&A.currentValue,s,m===Oe),i[u]=s}rs.ngInherit=!0;const so="__ngSimpleChanges__";function Br(i){return i[so]||null}let G;function V(i){G=i}function K(){return void 0!==G?G:"undefined"!=typeof document?document:void 0}function $e(i){return!!i.listen}const L={createRenderer:(i,s)=>K()};function O(i){for(;Array.isArray(i);)i=i[0];return i}function bt(i,s){return O(s[i])}function It(i,s){return O(s[i.index])}function li(i,s){return i.data[s]}function Yr(i,s){return i[s]}function Un(i,s){const a=s[i];return Ur(a)?a:a[0]}function Hr(i){return 4==(4&i[2])}function ps(i){return 128==(128&i[2])}function Gi(i,s){return null==s?null:i[s]}function vo(i){i[18]=0}function la(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const nn={lFrame:ha(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ua(){return nn.bindingsEnabled}function dt(){return nn.lFrame.lView}function Rn(){return nn.lFrame.tView}function zl(i){return nn.lFrame.contextLView=i,i[8]}function or(){let i=$a();for(;null!==i&&64===i.type;)i=i.parent;return i}function $a(){return nn.lFrame.currentTNode}function Li(i,s){const a=nn.lFrame;a.currentTNode=i,a.isParent=s}function qa(){return nn.lFrame.isParent}function ms(){nn.lFrame.isParent=!1}function da(){return nn.isInCheckNoChangesMode}function ao(i){nn.isInCheckNoChangesMode=i}function Qr(){const i=nn.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ms(){return nn.lFrame.bindingIndex++}function Rs(i){const s=nn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function $u(i,s){const a=nn.lFrame;a.bindingIndex=a.bindingRootIndex=i,Bo(s)}function Bo(i){nn.lFrame.currentDirectiveIndex=i}function cl(i){const s=nn.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function ys(){return nn.lFrame.currentQueryIndex}function dl(i){nn.lFrame.currentQueryIndex=i}function Wl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ga(i,s,a){if(a&at.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||a&at.Host||(d=Wl(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,i=h}const u=nn.lFrame=za();return u.currentTNode=s,u.lView=i,!0}function jo(i){const s=za(),a=i[1];nn.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function za(){const i=nn.lFrame,s=null===i?null:i.child;return null===s?ha(i):s}function ha(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Kl(){const i=nn.lFrame;return nn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ws=Kl;function Za(){const i=Kl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Xr(){return nn.lFrame.selectedIndex}function uo(i){nn.lFrame.selectedIndex=i}function dr(){const i=nn.lFrame;return li(i.tView,i.selectedIndex)}function N(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:A,ngAfterViewChecked:k,ngOnDestroy:j}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),A&&(i.viewHooks||(i.viewHooks=[])).push(-a,A),k&&((i.viewHooks||(i.viewHooks=[])).push(a,k),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,k)),null!=j&&(i.destroyHooks||(i.destroyHooks=[])).push(a,j)}}function $(i,s,a){Wt(i,s,3,a)}function pe(i,s,a,u){(3&i[2])===a&&Wt(i,s,a,u)}function ct(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Wt(i,s,a,u){const h=null!=u?u:-1,m=s.length-1;let E=0;for(let A=void 0!==u?65535&i[18]:0;A<m;A++)if("number"==typeof s[A+1]){if(E=s[A],null!=u&&E>=u)break}else s[A]<0&&(i[18]+=65536),(E<h||-1==h)&&(Pn(i,a,s,A),i[18]=(4294901760&i[18])+A+2),A++}function Pn(i,s,a,u){const d=a[u]<0,h=a[u+1],E=i[d?-a[u]:a[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class Tr{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Nr(i,s,a){const u=$e(i);let d=0;for(;d<a.length;){const h=a[d];if("number"==typeof h){if(0!==h)break;d++;const m=a[d++],E=a[d++],A=a[d++];u?i.setAttribute(s,E,A,m):s.setAttributeNS(m,E,A)}else{const m=h,E=a[++d];Qs(m)?u&&i.setProperty(s,m,E):u?i.setAttribute(s,m,E):s.setAttribute(m,E),d++}}return d}function Ql(i){return 3===i||4===i||6===i}function Qs(i){return 64===i.charCodeAt(0)}function ga(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||Jl(i,a,d,null,-1===a||2===a?s[++u]:null)}}return i}function Jl(i,s,a,u,d){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const E=i[h++];if("number"==typeof E){if(E===s){m=-1;break}if(E>s){m=h-1;break}}}for(;h<i.length;){const E=i[h];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==d&&(i[h+1]=d));if(u===i[h+1])return void(i[h+2]=d)}h++,null!==u&&h++,null!==d&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,a),null!==u&&i.splice(h++,0,u),null!==d&&i.splice(h++,0,d)}function Js(i){return-1!==i}function $o(i){return 32767&i}function qo(i,s){let a=function(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let ma=!0;function Eo(i){const s=ma;return ma=i,s}let ei=0;function ss(i,s){const a=_a(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,fl(u.data,i),fl(s,null),fl(u.blueprint,null));const d=Et(i,s),h=i.injectorIndex;if(Js(d)){const m=$o(d),E=qo(d,s),A=E[1].data;for(let k=0;k<8;k++)s[h+k]=E[m+k]|A[m+k]}return s[h+8]=d,h}function fl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function _a(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Et(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(u=2===m?h.declTNode:1===m?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Mr(i,s,a){!function(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(On)&&(u=a[On]),null==u&&(u=a[On]=ei++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Gu(i,s,a){if(a&at.Optional)return i;Ue(s,"NodeInjector")}function Ft(i,s,a,u){if(a&at.Optional&&void 0===u&&(u=null),0==(a&(at.Self|at.Host))){const d=i[9],h=$n(void 0);try{return d?d.get(s,u,a&at.Optional):wn(s,u,a&at.Optional)}finally{$n(h)}}return Gu(u,s,a)}function S(i,s,a,u=at.Default,d){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(On)?i[On]:void 0;return"number"==typeof s?s>=0?255&s:b:s}(a);if("function"==typeof h){if(!Ga(s,i,u))return u&at.Host?Gu(d,a,u):Ft(s,a,u,d);try{const m=h(u);if(null!=m||u&at.Optional)return m;Ue(a)}finally{Ws()}}else if("number"==typeof h){let m=null,E=_a(i,s),A=-1,k=u&at.Host?s[16][6]:null;for((-1===E||u&at.SkipSelf)&&(A=-1===E?Et(i,s):s[E+8],-1!==A&&st(u,!1)?(m=s[1],E=$o(A),s=qo(A,s)):E=-1);-1!==E;){const j=s[1];if(_e(h,E,j.data)){const Y=x(E,s,a,m,u,k);if(Y!==D)return Y}A=s[E+8],-1!==A&&st(u,s[1].data[E+8]===k)&&_e(h,E,s)?(m=j,E=$o(A),s=qo(A,s)):E=-1}}}return Ft(s,a,u,d)}const D={};function b(){return new St(or(),dt())}function x(i,s,a,u,d,h){const m=s[1],E=m.data[i+8],j=F(E,m,a,null==u?es(E)&&ma:u!=m&&0!=(3&E.type),d&at.Host&&h===E);return null!==j?z(s,m,j,E):D}function F(i,s,a,u,d){const h=i.providerIndexes,m=s.data,E=1048575&h,A=i.directiveStart,j=h>>20,X=d?E+j:i.directiveEnd;for(let de=u?E:E+j;de<X;de++){const Te=m[de];if(de<A&&a===Te||de>=A&&Te.type===a)return de}if(d){const de=m[A];if(de&&Cr(de)&&de.type===a)return A}return null}function z(i,s,a,u){let d=i[a];const h=s.data;if(function(i){return i instanceof Tr}(d)){const m=d;m.resolving&&function(i,s){throw new it("200",`Circular dependency in DI detected for ${i}`)}(Ot(h[a]));const E=Eo(m.canSeeViewProviders);m.resolving=!0;const A=m.injectImpl?$n(m.injectImpl):null;Ga(i,u,at.Default);try{d=i[a]=m.factory(void 0,h,i,u),s.firstCreatePass&&a>=u.directiveStart&&function(i,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(u){const m=xs(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==A&&$n(A),Eo(E),m.resolving=!1,Ws()}}return d}function _e(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function st(i,s){return!(i&at.Self||i&at.Host&&s)}class St{constructor(s,a){this._tNode=s,this._lView=a}get(s,a){return S(this._tNode,this._lView,s,void 0,a)}}function zn(i){return Pt(()=>{const s=i.prototype.constructor,a=s[tn]||Kt(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const h=d[tn]||Kt(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Kt(i){return he(i)?()=>{const s=Kt(Fe(i));return s&&s()}:mi(i)}function In(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const h=a[d];if(Ql(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(h===s)return a[d+1];d+=2}}}return null}(or(),i)}const os="__parameters__",an="__prop__metadata__";function Go(i){return function(...a){if(i){const u=i(...a);for(const d in u)this[d]=u[d]}}}function er(i,s,a){return Pt(()=>{const u=Go(s);function d(...h){if(this instanceof d)return u.apply(this,h),this;const m=new d(...h);return E.annotation=m,E;function E(A,k,j){const Y=A.hasOwnProperty(os)?A[os]:Object.defineProperty(A,os,{value:[]})[os];for(;Y.length<=j;)Y.push(null);return(Y[j]=Y[j]||[]).push(m),A}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function rn(i,s,a,u){return Pt(()=>{const d=Go(s);function h(...m){if(this instanceof h)return d.apply(this,m),this;const E=new h(...m);return function(k,j){const Y=k.constructor,X=Y.hasOwnProperty(an)?Y[an]:Object.defineProperty(Y,an,{value:{}})[an];X[j]=X.hasOwnProperty(j)&&X[j]||[],X[j].unshift(E),u&&u(k,j,...m)}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class sn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=jt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wd=new sn("AnalyzeForEntryComponents"),Zu=Function;function as(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),as(u,s)):s!==i&&s.push(u)}return s}function Zi(i,s){i.forEach(a=>Array.isArray(a)?Zi(a,s):s(a))}function Wu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Co(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Di(i,s,a){let u=wa(i,s);return u>=0?i[1|u]=a:(u=~u,function(i,s,a,u){let d=i.length;if(d==s)i.push(a,u);else if(1===d)i.push(u,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function yi(i,s){const a=wa(i,s);if(a>=0)return i[1|a]}function wa(i,s){return function(i,s,a){let u=0,d=i.length>>a;for(;d!==u;){const h=u+(d-u>>1),m=i[h<<a];if(s===m)return h<<a;m>s?d=h:u=h+1}return~(d<<a)}(i,s,1)}const El={},Vc="__NG_DI_FLAG__",Ya="ngTempTokenPath",Xd=/\n/gm,Ea="__source",ba=ne({provide:String,useValue:ne});let ru;function Qa(i){const s=ru;return ru=i,s}function Af(i,s=at.Default){if(void 0===ru)throw new Error("inject() must be called from an injection context");return null===ru?wn(i,void 0,s):ru.get(i,s&at.Optional?null:void 0,s)}function yr(i,s=at.Default){return(Vt||Af)(Fe(i),s)}function Wo(i){const s=[];for(let a=0;a<i.length;a++){const u=Fe(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,h=at.Default;for(let m=0;m<u.length;m++){const E=u[m],A=tc(E);"number"==typeof A?-1===A?d=E.token:h|=A:d=E}s.push(yr(d,h))}else s.push(yr(u))}return s}function Ja(i,s){return i[Vc]=s,i.prototype[Vc]=s,i}function tc(i){return i[Vc]}function Bc(i,s,a,u){const d=i[Ya];throw s[Ea]&&d.unshift(s[Ea]),i.message=function(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=oe(s);if(Array.isArray(s))d=s.map(oe).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let E=s[m];h.push(m+":"+("string"==typeof E?JSON.stringify(E):oe(E)))}d=`{${h.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${i.replace(Xd,"\n  ")}`}("\n"+i.message,d,a,u),i.ngTokenPath=d,i[Ya]=null,i}const Wi=Ja(er("Inject",i=>({token:i})),-1),Xs=Ja(er("Optional"),8),Ca=Ja(er("Self"),2),Ia=Ja(er("SkipSelf"),4);let Il,Da;function ho(i){var s;return(null===(s=function(){if(void 0===Il&&(Il=null,ie.trustedTypes))try{Il=ie.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Il}())||void 0===s?void 0:s.createHTML(i))||i}function Nf(i){var s;return(null===(s=function(){if(void 0===Da&&(Da=null,ie.trustedTypes))try{Da=ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Da}())||void 0===s?void 0:s.createHTML(i))||i}class el{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rf extends el{getTypeName(){return"HTML"}}class Zc extends el{getTypeName(){return"Style"}}class Ps extends el{getTypeName(){return"Script"}}class Pf extends el{getTypeName(){return"URL"}}class kf extends el{getTypeName(){return"ResourceURL"}}function fo(i){return i instanceof el?i.changingThisBreaksApplicationSecurity:i}function Ko(i,s){const a=lu(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function lu(i){return i instanceof el&&i.getTypeName()||null}function Vg(i){return new Rf(i)}function _i(i){return new Zc(i)}function Zn(i){return new Ps(i)}function Ff(i){return new Pf(i)}function Lf(i){return new kf(i)}class Wc{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ho(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Ki{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ho(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ho(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Vf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,eo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tl(i){return(i=String(i)).match(Vf)||i.match(eo)?i:"unsafe:"+i}function Yo(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function tl(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const Yc=Yo("area,br,col,hr,img,wbr"),hr=Yo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uf=Yo("rp,rt"),cu=tl(Yc,tl(hr,Yo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tl(Uf,Yo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tl(Uf,hr)),rc=Yo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xc=Yo("srcset"),rh=tl(rc,Xc,Yo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ic=Yo("script,style,template");class Bg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!cu.hasOwnProperty(a))return this.sanitizedSomething=!0,!ic.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const h=u.item(d),m=h.name,E=m.toLowerCase();if(!rh.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let A=h.value;rc[E]&&(A=Tl(A)),Xc[E]&&(i=A,A=(i=String(i)).split(",").map(s=>Tl(s.trim())).join(", ")),this.buf.push(" ",m,'="',du(A),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();cu.hasOwnProperty(a)&&!Yc.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(du(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Bf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jg=/([^\#-~ |!])/g;function du(i){return i.replace(/&/g,"&amp;").replace(Bf,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(jg,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sc;function jf(i,s){let a=null;try{sc=sc||function(i){const s=new Ki(i);return function(){try{return!!(new window.DOMParser).parseFromString(ho(""),"text/html")}catch(i){return!1}}()?new Wc(s):s}(i);let u=s?String(s):"";a=sc.getInertBodyElement(u);let d=5,h=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=h,h=a.innerHTML,a=sc.getInertBodyElement(u)}while(u!==h);return ho((new Bg).sanitizeChildren(ci(a)||a))}finally{if(a){const u=ci(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ci(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();function Dl(i){const s=hu();return s?Nf(s.sanitize(Rr.HTML,i)||""):Ko(i,"HTML")?Nf(fo(i)):jf(K(),Je(i))}function Al(i){const s=hu();return s?s.sanitize(Rr.URL,i)||"":Ko(i,"URL")?fo(i):Tl(Je(i))}function hu(){const i=dt();return i&&i[12]}const ah="__ngContext__";function ls(i,s){i[ah]=s}function Yi(i){const s=function(i){return i[ah]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function T(i){return i.ngOriginalError}function Q(i,...s){i.error(...s)}class De{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=this._findContext(s),d=(i=s)&&i.ngErrorLogger||Q;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(T(s)):null}_findOriginalError(s){let a=s&&T(s);for(;a&&T(a);)a=T(a);return a||null}}const ft=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ie))();function us(i){return i instanceof Function?i():i}var Sa=(()=>((Sa=Sa||{})[Sa.Important=1]="Important",Sa[Sa.DashCase=2]="DashCase",Sa))();function hh(i,s){return undefined(i,s)}function ad(i){const s=i[3];return Cn(s)?s[3]:s}function fh(i){return cc(i[13])}function Wf(i){return cc(i[4])}function cc(i){for(;null!==i&&!Cn(i);)i=i[4];return i}function xa(i,s,a,u,d){if(null!=u){let h,m=!1;Cn(u)?h=u:Ur(u)&&(m=!0,u=u[0]);const E=O(u);0===i&&null!==a?null==d?mu(s,a,E):gu(s,a,E,d||null,!0):1===i&&null!==a?gu(s,a,E,d||null,!0):2===i?function(i,s,a){const u=gh(i,s);u&&function(i,s,a,u){$e(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,E,m):3===i&&s.destroyNode(E),null!=h&&function(i,s,a,u,d){const h=a[7];h!==O(a)&&xa(s,i,u,h,d);for(let E=10;E<a.length;E++){const A=a[E];yh(A[1],A,i,s,u,h)}}(s,i,h,a,d)}}function Zg(i,s,a){return $e(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Kg(i,s){const a=i[9],u=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,la(d,-1)),a.splice(u,1)}function Fs(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const d=u[17];null!==d&&d!==i&&Kg(d,u),s>0&&(i[a-1][4]=u[4]);const h=Co(i,10+s);!function(i,s){yh(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Yg(i,s){if(!(256&s[2])){const a=s[11];$e(a)&&a.destroyNode&&yh(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return ld(i[1],i);for(;s;){let a=null;if(Ur(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Ur(s)&&ld(s[1],s),s=s[3];null===s&&(s=i),Ur(s)&&ld(s[1],s),a=s&&s[4]}s=a}}(s)}}function ld(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof Tr)){const h=a[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const E=d[h[m]],A=h[m+1];try{A.call(E)}finally{}}else try{h.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,u=s[7];let d=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const m=a[h+1],E="function"==typeof m?m(s):O(s[m]),A=u[d=a[h+2]],k=a[h+3];"boolean"==typeof k?E.removeEventListener(a[h],A,k):k>=0?u[d=k]():u[d=-k].unsubscribe(),h+=2}else{const m=u[d=a[h+1]];a[h].call(m)}if(null!==u){for(let h=d+1;h<u.length;h++)u[h]();s[7]=null}}(i,s),1===s[1].type&&$e(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Cn(s[3])){a!==s[3]&&Kg(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function Nl(i,s,a){return function(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===qn.None||d===qn.Emulated)return null}return It(u,a)}(i,s.parent,a)}function gu(i,s,a,u,d){$e(i)?i.insertBefore(s,a,u,d):s.insertBefore(a,u,d)}function mu(i,s,a){$e(i)?i.appendChild(s,a):s.appendChild(a)}function K_(i,s,a,u,d){null!==u?gu(i,s,a,u,d):mu(i,s,a)}function gh(i,s){return $e(i)?i.parentNode(s):s.parentNode}let Jg=function(i,s,a){return 40&i.type?It(i,a):null};function Yf(i,s,a,u){const d=Nl(i,u,s),h=s[11],E=function(i,s,a){return Jg(i,s,a)}(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(a))for(let A=0;A<a.length;A++)K_(h,d,a[A],E,!1);else K_(h,d,a,E,!1)}function Qf(i,s){if(null!==s){const a=s.type;if(3&a)return It(s,i);if(4&a)return vu(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Qf(i,u);{const d=i[s.index];return Cn(d)?vu(-1,d):O(d)}}if(32&a)return hh(s,i)()||O(i[s.index]);{const u=mh(i,s);return null!==u?Array.isArray(u)?u[0]:Qf(ad(i[16]),u):Qf(i,s.next)}}return null}function mh(i,s){return null!==s?i[16][6].projection[s.projection]:null}function vu(i,s){const a=10+i+1;if(a<s.length){const u=s[a],d=u[1].firstChild;if(null!==d)return Qf(u,d)}return s[7]}function tm(i,s,a,u,d,h,m){for(;null!=a;){const E=u[a.index],A=a.type;if(m&&0===s&&(E&&ls(O(E),u),a.flags|=4),64!=(64&a.flags))if(8&A)tm(i,s,a.child,u,d,h,!1),xa(s,i,d,E,h);else if(32&A){const k=hh(a,u);let j;for(;j=k();)xa(s,i,d,j,h);xa(s,i,d,E,h)}else 16&A?Ml(i,s,u,a,d,h):xa(s,i,d,E,h);a=m?a.projectionNext:a.next}}function yh(i,s,a,u,d,h){tm(a,u,i.firstChild,s,d,h,!1)}function Ml(i,s,a,u,d,h){const m=a[16],A=m[6].projection[u.projection];if(Array.isArray(A))for(let k=0;k<A.length;k++)xa(s,i,d,A[k],h);else tm(i,s,A,m[3],d,h,!0)}function nm(i,s,a){$e(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function _h(i,s,a){$e(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Xf(i,s,a){let u=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===u||i.charCodeAt(d+h)<=32)return d}a=d+1}}const vh="ng-template";function rm(i,s,a){let u=0;for(;u<i.length;){let d=i[u++];if(a&&"class"===d){if(d=i[u],-1!==Xf(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function J_(i){return 4===i.type&&i.value!==vh}function X_(i,s,a){return s===(4!==i.type||a?i.value:vh)}function im(i,s,a){let u=4;const d=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(Ql(i[s]))return s;return i.length}(d);let m=!1;for(let E=0;E<s.length;E++){const A=s[E];if("number"!=typeof A){if(!m)if(4&u){if(u=2|1&u,""!==A&&!X_(i,A,a)||""===A&&1===s.length){if(ea(u))return!1;m=!0}}else{const k=8&u?A:s[++E];if(8&u&&null!==i.attrs){if(!rm(i.attrs,k,a)){if(ea(u))return!1;m=!0}continue}const Y=iE(8&u?"class":A,d,J_(i),a);if(-1===Y){if(ea(u))return!1;m=!0;continue}if(""!==k){let X;X=Y>h?"":d[Y+1].toLowerCase();const de=8&u?X:null;if(de&&-1!==Xf(de,k,0)||2&u&&k!==X){if(ea(u))return!1;m=!0}}}}else{if(!m&&!ea(u)&&!ea(A))return!1;if(m&&ea(A))continue;m=!1,u=A|1&u}}return ea(u)||m}function ea(i){return 0==(1&i)}function iE(i,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let h=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let E=s[++d];for(;"string"==typeof E;)E=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function sm(i,s,a=!1){for(let u=0;u<s.length;u++)if(im(i,s[u],a))return!0;return!1}function nv(i,s){return i?":not("+s.trim()+")":s}function rv(i){let s=i[0],a=1,u=2,d="",h=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&u){const E=i[++a];d+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?d+="."+m:4&u&&(d+=" "+m);else""!==d&&!ea(m)&&(s+=nv(h,d),d=""),u=m,h=h||!ea(u);a++}return""!==d&&(s+=nv(h,d)),s}const cn={};function tp(i){wh(Rn(),dt(),Xr()+i,da())}function wh(i,s,a,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&$(s,h,a)}else{const h=i.preOrderHooks;null!==h&&pe(s,h,0,a)}uo(a)}function Eh(i,s){return i<<17|s<<2}function ta(i){return i>>17&32767}function lm(i){return 2|i}function Oa(i){return(131068&i)>>2}function um(i,s){return-131069&i|s<<2}function cm(i){return 1|i}function up(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],h=a[u+1];if(-1!==h){const m=i.data[h];dl(d),m.contentQueries(2,s[h],h)}}}function hd(i,s,a,u,d,h,m,E,A,k){const j=s.blueprint.slice();return j[0]=d,j[2]=140|u,vo(j),j[3]=j[15]=i,j[8]=a,j[10]=m||i&&i[10],j[11]=E||i&&i[11],j[12]=A||i&&i[12]||null,j[9]=k||i&&i[9]||null,j[6]=h,j[16]=2==s.type?i[16]:j,j}function fd(i,s,a,u,d){let h=i.data[s];if(null===h)h=function(i,s,a,u,d){const h=$a(),m=qa(),A=i.data[s]=function(i,s,a,u,d,h){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,a,s,u,d);return null===i.firstChild&&(i.firstChild=A),null!==h&&(m?null==h.child&&null!==A.parent&&(h.child=A):null===h.next&&(h.next=A)),A}(i,s,a,u,d),nn.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=u,h.attrs=d;const m=function(){const i=nn.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Li(h,!0),h}function pd(i,s,a,u){if(0===a)return-1;const d=s.length;for(let h=0;h<a;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function pc(i,s,a){jo(s);try{const u=i.viewQuery;null!==u&&Ep(1,u,a);const d=i.template;null!==d&&Dh(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&up(i,s),i.staticViewQueries&&Ep(2,i.viewQuery,a);const h=i.components;null!==h&&function(i,s){for(let a=0;a<s.length;a++)CE(i,s[a])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Za()}}function gd(i,s,a,u){const d=s[2];if(256==(256&d))return;jo(s);const h=da();try{vo(s),function(i){nn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Dh(i,s,a,2,u);const m=3==(3&d);if(!h)if(m){const k=i.preOrderCheckHooks;null!==k&&$(s,k,null)}else{const k=i.preOrderHooks;null!==k&&pe(s,k,0,null),ct(s,0)}if(function(i){for(let s=fh(i);null!==s;s=Wf(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const d=a[u],h=d[3];0==(1024&d[2])&&la(h,1),d[2]|=1024}}}(s),function(i){for(let s=fh(i);null!==s;s=Wf(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1];ps(u)&&gd(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&up(i,s),!h)if(m){const k=i.contentCheckHooks;null!==k&&$(s,k)}else{const k=i.contentHooks;null!==k&&pe(s,k,1),ct(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)uo(~d);else{const h=d,m=a[++u],E=a[++u];$u(m,h),E(2,s[h])}}}finally{uo(-1)}}(i,s);const E=i.components;null!==E&&function(i,s){for(let a=0;a<s.length;a++)bE(i,s[a])}(s,E);const A=i.viewQuery;if(null!==A&&Ep(2,A,u),!h)if(m){const k=i.viewCheckHooks;null!==k&&$(s,k)}else{const k=i.viewHooks;null!==k&&pe(s,k,2),ct(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,la(s[3],-1))}finally{Za()}}function bm(i,s,a,u){const d=s[10],h=!da(),m=Hr(s);try{h&&!m&&d.begin&&d.begin(),m&&pc(i,s,u),gd(i,s,a,u)}finally{h&&!m&&d.end&&d.end()}}function Dh(i,s,a,u,d){const h=Xr(),m=2&u;try{uo(-1),m&&s.length>20&&wh(i,s,20,da()),a(u,d)}finally{uo(h)}}function cp(i,s,a){if(Mi(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,a[h],h)}}}function dp(i,s,a){!ua()||(function(i,s,a,u){const d=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||ss(a,s),ls(u,s);const m=a.initialInputs;for(let E=d;E<h;E++){const A=i.data[E],k=Cr(A);k&&Om(s,a,A);const j=z(s,i,E,a);ls(j,s),null!==m&&vE(0,E-d,j,A,0,m),k&&(Un(a.index,s)[8]=j)}}(i,s,a,It(a,s)),128==(128&a.flags)&&function(i,s,a){const u=a.directiveStart,d=a.directiveEnd,m=a.index,E=nn.lFrame.currentDirectiveIndex;try{uo(m);for(let A=u;A<d;A++){const k=i.data[A],j=s[A];Bo(A),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&mp(k,j)}}finally{uo(-1),Bo(E)}}(i,s,a))}function Eu(i,s,a=It){const u=s.localNames;if(null!==u){let d=s.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],E=-1===m?a(s,i):i[m];i[d++]=E}}}function hp(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=fp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function fp(i,s,a,u,d,h,m,E,A,k){const j=20+u,Y=j+d,X=function(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:cn);return a}(j,Y),de="function"==typeof k?k():k;return X[1]={type:i,blueprint:X,template:a,queries:null,viewQuery:E,declTNode:s,data:X.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:de,incompleteFirstPass:!1}}function pp(i,s,a,u){const d=_v(s);null===a?d.push(u):(d.push(a),i.firstCreatePass&&bp(i).push(u,d.length-1))}function gp(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function Ao(i,s,a,u,d,h,m,E){const A=It(s,a);let j,k=s.inputs;!E&&null!=k&&(j=k[u])?(wv(i,a,j,u,d),es(s)&&function(i,s){const a=Un(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=m?m(d,s.value||"",u):d,$e(h)?h.setProperty(A,u,d):Qs(u)||(A.setProperty?A.setProperty(u,d):A[u]=d))}function bu(i,s,a,u){let d=!1;if(ua()){const h=function(i,s,a){const u=i.directiveRegistry;let d=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];sm(a,m.selectors,!1)&&(d||(d=[]),Mr(ss(a,s),i,m.type),Cr(m)?(yp(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===u?null:{"":-1};if(null!==h){d=!0,pv(a,i.data.length,h.length);for(let j=0;j<h.length;j++){const Y=h[j];Y.providersResolver&&Y.providersResolver(Y)}let E=!1,A=!1,k=pd(i,s,h.length,null);for(let j=0;j<h.length;j++){const Y=h[j];a.mergedAttrs=ga(a.mergedAttrs,Y.hostAttrs),_p(i,a,s,k,Y),_E(k,Y,m),null!==Y.contentQueries&&(a.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(a.flags|=128);const X=Y.type.prototype;!E&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!A&&(X.ngOnChanges||X.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),A=!0),k++}!function(i,s){const u=s.directiveEnd,d=i.data,h=s.attrs,m=[];let E=null,A=null;for(let k=s.directiveStart;k<u;k++){const j=d[k],Y=j.inputs,X=null===h||J_(s)?null:gv(Y,h);m.push(X),E=gp(Y,k,E),A=gp(j.outputs,k,A)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=E,s.outputs=A}(i,a)}m&&function(i,s,a){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=a[s[d+1]];if(null==h)throw new it("301",`Export of name '${s[d+1]}' not found!`);u.push(s[d],h)}}}(a,u,m)}return a.mergedAttrs=ga(a.mergedAttrs,a.attrs),d}function Am(i,s,a,u,d,h){const m=h.hostBindings;if(m){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const A=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=A&&E.push(A),E.push(u,d,m)}}function mp(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function yp(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function _E(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Cr(s)&&(a[""]=i)}}function pv(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function _p(i,s,a,u,d){i.data[u]=d;const h=d.factory||(d.factory=mi(d.type)),m=new Tr(h,Cr(d),null);i.blueprint[u]=m,a[u]=m,Am(i,s,0,u,pd(i,a,d.hostVars,cn),d)}function Om(i,s,a){const u=It(s,i),d=hp(a),h=i[10],m=_d(i,hd(i,d,null,a.onPush?64:16,u,s,h,h.createRenderer(u,a),null,null));i[s.index]=m}function nl(i,s,a,u,d,h){const m=It(i,s);!function(i,s,a,u,d,h,m){if(null==h)$e(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const E=null==m?Je(h):m(h,u||"",d);$e(i)?i.setAttribute(s,d,E,a):a?s.setAttributeNS(a,d,E):s.setAttribute(d,E)}}(s[11],m,h,i.value,a,u,d)}function vE(i,s,a,u,d,h){const m=h[s];if(null!==m){const E=u.setInput;for(let A=0;A<m.length;){const k=m[A++],j=m[A++],Y=m[A++];null!==E?u.setInput(a,Y,k,j):a[j]=Y}}}function gv(i,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Nm(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function bE(i,s){const a=Un(s,i);if(ps(a)){const u=a[1];80&a[2]?gd(u,a,u.template,a[8]):a[5]>0&&Mm(a)}}function Mm(i){for(let u=fh(i);null!==u;u=Wf(u))for(let d=10;d<u.length;d++){const h=u[d];if(1024&h[2]){const m=h[1];gd(m,h,m.template,h[8])}else h[5]>0&&Mm(h)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Un(a[u],i);ps(d)&&d[5]>0&&Mm(d)}}function CE(i,s){const a=Un(s,i),u=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),pc(u,a,a[8])}function _d(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Sh(i){for(;i;){i[2]|=64;const s=ad(i);if(Is(i)&&!s)return i;i=s}return null}function Pm(i,s,a){const u=s[10];u.begin&&u.begin();try{gd(i,s,i.template,a)}catch(d){throw Cp(s,d),d}finally{u.end&&u.end()}}function wp(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=Yi(a),d=u[1];bm(d,u,d.template,a)}}(i[8])}function Ep(i,s,a){dl(0),s(i,a)}const Fm=(()=>Promise.resolve(null))();function _v(i){return i[7]||(i[7]=[])}function bp(i){return i.cleanup||(i.cleanup=[])}function Cp(i,s){const a=i[9],u=a?a.get(De,null):null;u&&u.handleError(s)}function wv(i,s,a,u,d){for(let h=0;h<a.length;){const m=a[h++],E=a[h++],A=s[m],k=i.data[m];null!==k.setInput?k.setInput(A,d,u,E):A[E]=d}}function Na(i,s,a){const u=bt(s,i);!function(i,s,a){$e(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function vd(i,s,a){let u=a?i.styles:null,d=a?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const E=s[m];"number"==typeof E?h=E:1==h?d=ye(d,E):2==h&&(u=ye(u,E+": "+s[++m]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=d:i.classesWithoutHost=d}const Cu=new sn("INJECTOR",-1);class Ev{get(s,a=El){if(a===El){const u=new Error(`NullInjectorError: No provider for ${oe(s)}!`);throw u.name="NullInjectorError",u}return a}}const gc=new sn("Set Injector scope."),So={},Vm={};let Um;function Ip(){return void 0===Um&&(Um=new Ev),Um}function bv(i,s=null,a=null,u){return new Bm(i,a,s||Ip(),u)}class Bm{constructor(s,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];a&&Zi(a,E=>this.processProvider(E,s,a)),Zi([s],E=>this.processInjectorType(E,[],h)),this.records.set(Cu,Ed(void 0,this));const m=this.records.get(gc);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:oe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=El,u=at.Default){this.assertNotDestroyed();const d=Qa(this),h=$n(void 0);try{if(!(u&at.SkipSelf)){let E=this.records.get(s);if(void 0===E){const A=("function"==typeof(i=s)||"object"==typeof i&&i instanceof sn)&&Fn(s);E=A&&this.injectableDefInScope(A)?Ed(jm(s),So):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&at.Self?Ip():this.parent).get(s,a=u&at.Optional&&a===El?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[Ya]=m[Ya]||[]).unshift(oe(s)),d)throw m;return Bc(m,s,"R3InjectorError",this.source)}throw m}finally{$n(h),Qa(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(oe(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,u){if(!(s=Fe(s)))return!1;let d=Sn(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,E=-1!==u.indexOf(m);if(void 0!==h&&(d=Sn(h)),null==d)return!1;if(null!=d.imports&&!E){let j;u.push(m);try{Zi(d.imports,Y=>{this.processInjectorType(Y,a,u)&&(void 0===j&&(j=[]),j.push(Y))})}finally{}if(void 0!==j)for(let Y=0;Y<j.length;Y++){const{ngModule:X,providers:de}=j[Y];Zi(de,Te=>this.processProvider(Te,X,de||ot))}}this.injectorDefTypes.add(m);const A=mi(m)||(()=>new m);this.records.set(m,Ed(A,So));const k=d.providers;if(null!=k&&!E){const j=s;Zi(k,Y=>this.processProvider(Y,j,k))}return void 0!==h&&void 0!==s.providers}processProvider(s,a,u){let d=mc(s=Fe(s))?s:Fe(s&&s.provide);const h=Dp(i=s)?Ed(void 0,i.useValue):Ed(Tp(i),So);var i;if(mc(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=Ed(void 0,So,!0),m.factory=()=>Wo(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,a){return a.value===So&&(a.value=Vm,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Fe(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function jm(i){const s=Fn(i),a=null!==s?s.factory:mi(i);if(null!==a)return a;if(i instanceof sn)throw new Error(`Token ${oe(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?");throw new Error(`Can't resolve all parameters for ${oe(i)}: (${u.join(", ")}).`)}const a=function(i){const s=i&&(i[xn]||i[Hn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Tp(i,s,a){let u;if(mc(i)){const d=Fe(i);return mi(d)||jm(d)}if(Dp(i))u=()=>Fe(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Wo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>yr(Fe(i.useExisting));else{const d=Fe(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return mi(d)||jm(d);u=()=>new d(...Wo(i.deps))}return u}function Ed(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Dp(i){return null!==i&&"object"==typeof i&&ba in i}function mc(i){return"function"==typeof i}const Ap=function(i,s,a){return function(i,s=null,a=null,u){const d=bv(i,s,a,u);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let si=(()=>{class i{static create(a,u){return Array.isArray(a)?Ap(a,u,""):Ap(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=El,i.NULL=new Ev,i.\u0275prov=jt({token:i,providedIn:"any",factory:()=>yr(Cu)}),i.__NG_ELEMENT_ID__=-1,i})();function kv(i,s){N(Yi(i)[1],or())}function ey(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let d;if(Cr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){u.push(d);const m=i;m.inputs=cs(i.inputs),m.declaredInputs=cs(i.declaredInputs),m.outputs=cs(i.outputs);const E=d.hostBindings;E&&BE(i,E);const A=d.viewQuery,k=d.contentQueries;if(A&&rl(i,A),k&&Fv(i,k),ae(i.inputs,d.inputs),ae(i.declaredInputs,d.declaredInputs),ae(i.outputs,d.outputs),Cr(d)&&d.data.animation){const j=i.data;j.animation=(j.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const E=h[m];E&&E.ngInherit&&E(i),E===ey&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=ga(d.hostAttrs,a=ga(a,d.hostAttrs))}}(u)}function cs(i){return i===Oe?{}:i===ot?[]:i}function rl(i,s){const a=i.viewQuery;i.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function Fv(i,s){const a=i.contentQueries;i.contentQueries=a?(u,d,h)=>{s(u,d,h),a(u,d,h)}:s}function BE(i,s){const a=i.hostBindings;i.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let Pp=null;function Iu(){if(!Pp){const i=ie.Symbol;if(i&&i.iterator)Pp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Pp=u)}}}return Pp}class Ma{constructor(s){this.wrapped=s}static wrap(s){return new Ma(s)}static unwrap(s){return Ma.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Ma}}function Fr(i){return!!xi(i)&&(Array.isArray(i)||!(i instanceof Map)&&Iu()in i)}function xi(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ra(i,s,a){return i[s]=a}function Ls(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ty(i,s,a,u){const d=dt();return Ls(d,Ms(),s)&&(Rn(),nl(dr(),d,i,s,a,u)),ty}function Fh(i,s,a,u){return Ls(i,Ms(),a)?s+Je(a)+u:cn}function iy(i,s,a,u,d,h,m,E){const A=dt(),k=Rn(),j=i+20,Y=k.firstCreatePass?function(i,s,a,u,d,h,m,E,A){const k=s.consts,j=fd(s,i,4,m||null,Gi(k,E));bu(s,a,j,Gi(k,A)),N(s,j);const Y=j.tViews=fp(2,j,u,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,k);return null!==s.queries&&(s.queries.template(s,j),Y.queries=s.queries.embeddedTView(j)),j}(j,k,A,s,a,u,d,h,m):k.data[j];Li(Y,!1);const X=A[11].createComment("");Yf(k,A,X,Y),ls(X,A),_d(A,A[j]=Nm(X,A,X,Y)),wr(Y)&&dp(k,A,Y),null!=m&&Eu(A,Y,E)}function $v(i){return Yr(nn.lFrame.contextLView,20+i)}function $h(i,s=at.Default){const a=dt();return null===a?yr(i,s):S(or(),a,Fe(i),s)}function yy(i,s,a){const u=dt();return Ls(u,Ms(),s)&&Ao(Rn(),dr(),u,i,s,u[11],a,!1),yy}function _y(i,s,a,u,d){const m=d?"class":"style";wv(i,a,s.inputs[m],m,u)}function jp(i,s,a,u){const d=dt(),h=Rn(),m=20+i,E=d[11],A=d[m]=Zg(E,s,nn.lFrame.currentNamespace),k=h.firstCreatePass?function(i,s,a,u,d,h,m){const E=s.consts,k=fd(s,i,2,d,Gi(E,h));return bu(s,a,k,Gi(E,m)),null!==k.attrs&&vd(k,k.attrs,!1),null!==k.mergedAttrs&&vd(k,k.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,k),k}(m,h,d,0,s,a,u):h.data[m];Li(k,!0);const j=k.mergedAttrs;null!==j&&Nr(E,A,j);const Y=k.classes;null!==Y&&_h(E,A,Y);const X=k.styles;null!==X&&nm(E,A,X),64!=(64&k.flags)&&Yf(h,d,A,k),0===nn.lFrame.elementDepthCount&&ls(A,d),nn.lFrame.elementDepthCount++,wr(k)&&(dp(h,d,k),cp(h,k,d)),null!==u&&Eu(d,k)}function vy(){let i=or();qa()?ms():(i=i.parent,Li(i,!1));const s=i;nn.lFrame.elementDepthCount--;const a=Rn();a.firstCreatePass&&(N(a,i),Mi(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&_y(a,s,dt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&_y(a,s,dt(),s.stylesWithoutHost,!1)}function nw(i,s,a,u){jp(i,s,a,u),vy()}function Su(i,s,a){const u=dt(),d=Rn(),h=i+20,m=d.firstCreatePass?function(i,s,a,u,d){const h=s.consts,m=Gi(h,u),E=fd(s,i,8,"ng-container",m);return null!==m&&vd(E,m,!0),bu(s,a,E,Gi(h,d)),null!==s.queries&&s.queries.elementStart(s,E),E}(h,d,u,s,a):d.data[h];Li(m,!0);const E=u[h]=u[11].createComment("");Yf(d,u,E,m),ls(E,u),wr(m)&&(dp(d,u,m),cp(d,m,u)),null!=a&&Eu(u,m)}function qh(){let i=or();const s=Rn();qa()?ms():(i=i.parent,Li(i,!1)),s.firstCreatePass&&(N(s,i),Mi(i)&&s.queries.elementEnd(i))}function rw(){return dt()}function wy(i){return!!i&&"function"==typeof i.then}function iw(i){return!!i&&"function"==typeof i.subscribe}const Ey=iw;function by(i,s,a,u){const d=dt(),h=Rn(),m=or();return function(i,s,a,u,d,h,m,E){const A=wr(u),j=i.firstCreatePass&&bp(i),Y=s[8],X=_v(s);let de=!0;if(3&u.type||E){const Ve=It(u,s),vt=E?E(Ve):Ve,ut=X.length,Yt=E?yn=>E(O(yn[u.index])):u.index;if($e(a)){let yn=null;if(!E&&A&&(yn=function(i,s,a,u){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===a&&d[h+1]===u){const E=s[7],A=d[h+2];return E.length>A?E[A]:null}"string"==typeof m&&(h+=2)}return null}(i,s,d,u.index)),null!==yn)(yn.__ngLastListenerFn__||yn).__ngNextListenerFn__=h,yn.__ngLastListenerFn__=h,de=!1;else{h=Cy(u,s,Y,h,!1);const nr=a.listen(vt,d,h);X.push(h,nr),j&&j.push(d,Yt,ut,ut+1)}}else h=Cy(u,s,Y,h,!0),vt.addEventListener(d,h,m),X.push(h),j&&j.push(d,Yt,ut,m)}else h=Cy(u,s,Y,h,!1);const Te=u.outputs;let tt;if(de&&null!==Te&&(tt=Te[d])){const Ve=tt.length;if(Ve)for(let vt=0;vt<Ve;vt+=2){const Es=s[tt[vt]][tt[vt+1]].subscribe(h),ll=X.length;X.push(h,Es),j&&j.push(d,u.index,ll,-(ll+1))}}}(h,d,d[11],m,i,s,!!a,u),by}function aw(i,s,a,u){try{return!1!==a(u)}catch(d){return Cp(i,d),!1}}function Cy(i,s,a,u,d){return function h(m){if(m===Function)return u;const E=2&i.flags?Un(i.index,s):s;0==(32&s[2])&&Sh(E);let A=aw(s,0,u,m),k=h.__ngNextListenerFn__;for(;k;)A=aw(s,0,k,m)&&A,k=k.__ngNextListenerFn__;return d&&!1===A&&(m.preventDefault(),m.returnValue=!1),A}}function Hp(i=1){return function(i){return(nn.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,nn.lFrame.contextLView))[8]}(i)}function qp(i,s,a,u,d){const h=dt(),m=Fh(h,s,a,u);return m!==cn&&Ao(Rn(),dr(),h,i,m,h[11],d,!1),qp}function Sd(i,s,a,u,d){const h=i[a+1],m=null===s;let E=u?ta(h):Oa(h),A=!1;for(;0!==E&&(!1===A||m);){const j=i[E+1];Zh(i[E],s)&&(A=!0,i[E+1]=u?cm(j):lm(j)),E=u?ta(j):Oa(j)}A&&(i[a+1]=u?lm(h):cm(h))}function Zh(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&wa(i,s)>=0}const ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pw(i){return i.substring(ar.key,ar.keyEnd)}function Ou(i,s){const a=ar.textEnd;return a===s?-1:(s=ar.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,ar.key=s,a),Od(i,s,a))}function Od(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Oy(i,s,a){return ka(i,s,a,!1),Oy}function Ny(i,s){return ka(i,s,null,!0),Ny}function mw(i){!function(i,s,a,u){const d=Rn(),h=Rs(2);d.firstUpdatePass&&Gp(d,null,h,u);const m=dt();if(a!==cn&&Ls(m,h,a)){const E=d.data[Xr()];if(Iw(E,u)&&!My(d,h)){let A=u?E.classesWithoutHost:E.stylesWithoutHost;null!==A&&(a=ye(A,a||"")),_y(d,E,m,a,u)}else!function(i,s,a,u,d,h,m,E){d===cn&&(d=ot);let A=0,k=0,j=0<d.length?d[0]:null,Y=0<h.length?h[0]:null;for(;null!==j||null!==Y;){const X=A<d.length?d[A+1]:void 0,de=k<h.length?h[k+1]:void 0;let tt,Te=null;j===Y?(A+=2,k+=2,X!==de&&(Te=Y,tt=de)):null===Y||null!==j&&j<Y?(A+=2,Te=j):(k+=2,Te=Y,tt=de),null!==Te&&Md(i,s,a,u,Te,tt,m,E),j=A<d.length?d[A]:null,Y=k<h.length?h[k]:null}}(d,E,m,m[11],m[h+1],m[h+1]=function(i,s,a){if(null==a||""===a)return ot;const u=[],d=fo(a);if(Array.isArray(d))for(let h=0;h<d.length;h++)i(u,d[h],!0);else if("object"==typeof d)for(const h in d)d.hasOwnProperty(h)&&i(u,h,d[h]);else"string"==typeof d&&s(u,d);return u}(i,s,a),u,h)}}(Di,Oo,i,!0)}function Oo(i,s){for(let a=function(i){return function(i){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=i.length}(i),Ou(i,Od(i,0,ar.textEnd))}(s);a>=0;a=Ou(s,a))Di(i,pw(s),!0)}function ka(i,s,a,u){const d=dt(),h=Rn(),m=Rs(2);h.firstUpdatePass&&Gp(h,i,m,u),s!==cn&&Ls(d,m,s)&&Md(h,h.data[Xr()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=oe(fo(i)))),i}(s,a),u,m)}function My(i,s){return s>=i.expandoStartIndex}function Gp(i,s,a,u){const d=i.data;if(null===d[a+1]){const h=d[Xr()],m=My(i,a);Iw(h,u)&&null===s&&!m&&(s=!1),s=function(i,s,a,u){const d=cl(i);let h=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=Nd(a=zp(null,i,s,a,u),s.attrs,u),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=zp(d,i,s,a,u),null===h){let A=function(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Oa(u))return i[ta(u)]}(i,s,u);void 0!==A&&Array.isArray(A)&&(A=zp(null,i,s,A[1],u),A=Nd(A,s.attrs,u),function(i,s,a,u){i[ta(a?s.classBindings:s.styleBindings)]=u}(i,s,u,A))}else h=function(i,s,a){let u;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)u=Nd(u,i[h].hostAttrs,a);return Nd(u,s.attrs,a)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),a}(d,h,s,u),function(i,s,a,u,d,h){let m=h?s.classBindings:s.styleBindings,E=ta(m),A=Oa(m);i[u]=a;let j,k=!1;if(Array.isArray(a)){const Y=a;j=Y[1],(null===j||wa(Y,j)>0)&&(k=!0)}else j=a;if(d)if(0!==A){const X=ta(i[E+1]);i[u+1]=Eh(X,E),0!==X&&(i[X+1]=um(i[X+1],u)),i[E+1]=function(i,s){return 131071&i|s<<17}(i[E+1],u)}else i[u+1]=Eh(E,0),0!==E&&(i[E+1]=um(i[E+1],u)),E=u;else i[u+1]=Eh(A,0),0===E?E=u:i[A+1]=um(i[A+1],u),A=u;k&&(i[u+1]=lm(i[u+1])),Sd(i,j,u,!0),Sd(i,j,u,!1),function(i,s,a,u,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&wa(h,s)>=0&&(a[u+1]=cm(a[u+1]))}(s,j,i,u,h),m=Eh(E,A),h?s.classBindings=m:s.styleBindings=m}(d,h,s,a,m,u)}}function zp(i,s,a,u,d){let h=null;const m=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<m&&(h=s[E],u=Nd(u,h.hostAttrs,d),h!==i);)E++;return null!==i&&(a.directiveStylingLast=E),u}function Nd(i,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Di(i,m,!!a||s[++h]))}return void 0===i?null:i}function Md(i,s,a,u,d,h,m,E){if(!(3&s.type))return;const A=i.data,k=A[E+1];Zp(function(i){return 1==(1&i)}(k)?bw(A,s,a,d,Oa(k),m):void 0)||(Zp(h)||function(i){return 2==(2&i)}(k)&&(h=bw(A,null,a,d,E,m)),function(i,s,a,u,d){const h=$e(i);if(s)d?h?i.addClass(a,u):a.classList.add(u):h?i.removeClass(a,u):a.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:Sa.DashCase;if(null==d)h?i.removeStyle(a,u,m):a.style.removeProperty(u);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),m|=Sa.Important),h?i.setStyle(a,u,d,m):a.style.setProperty(u,d,E?"important":"")}}}(u,m,bt(Xr(),a),d,h))}function bw(i,s,a,u,d,h){const m=null===s;let E;for(;d>0;){const A=i[d],k=Array.isArray(A),j=k?A[1]:A,Y=null===j;let X=a[d+1];X===cn&&(X=Y?ot:void 0);let de=Y?yi(X,u):j===u?X:void 0;if(k&&!Zp(de)&&(de=yi(A,u)),Zp(de)&&(E=de,m))return E;const Te=i[d+1];d=m?ta(Te):Oa(Te)}if(null!==s){let A=h?s.residualClasses:s.residualStyles;null!=A&&(E=yi(A,u))}return E}function Zp(i){return void 0!==i}function Iw(i,s){return 0!=(i.flags&(s?16:32))}function Wp(i,s=""){const a=dt(),u=Rn(),d=i+20,h=u.firstCreatePass?fd(u,d,1,s,null):u.data[d],m=a[d]=function(i,s){return $e(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Yf(u,a,m,h),Li(h,!1)}function Rd(i){return Yh("",i,""),Rd}function Yh(i,s,a){const u=dt(),d=Fh(u,i,s,a);return d!==cn&&Na(u,Xr(),d),Yh}function Rw(i,s,a){const u=dt();return Ls(u,Ms(),s)&&Ao(Rn(),dr(),u,i,s,u[11],a,!0),Rw}function Pw(i,s,a){const u=dt();if(Ls(u,Ms(),s)){const h=Rn(),m=dr();Ao(h,m,u,i,s,function(i,s,a){return(null===i||Cr(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}(cl(h.data),m,u),a,!0)}return Pw}const Pd=void 0;var gb=["en",[["a","p"],["AM","PM"],Pd],[["AM","PM"],Pd,Pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pd,"{1} 'at' {0}",Pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let kd={};function Fd(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Fw(s);if(a)return a;const u=s.split("-")[0];if(a=Fw(u),a)return a;if("en"===u)return gb;throw new Error(`Missing locale data for the locale "${i}".`)}function kw(i){return Fd(i)[en.PluralCase]}function Fw(i){return i in kd||(kd[i]=ie.ng&&ie.ng.common&&ie.ng.common.locales&&ie.ng.common.locales[i]),kd[i]}var en=(()=>((en=en||{})[en.LocaleId=0]="LocaleId",en[en.DayPeriodsFormat=1]="DayPeriodsFormat",en[en.DayPeriodsStandalone=2]="DayPeriodsStandalone",en[en.DaysFormat=3]="DaysFormat",en[en.DaysStandalone=4]="DaysStandalone",en[en.MonthsFormat=5]="MonthsFormat",en[en.MonthsStandalone=6]="MonthsStandalone",en[en.Eras=7]="Eras",en[en.FirstDayOfWeek=8]="FirstDayOfWeek",en[en.WeekendRange=9]="WeekendRange",en[en.DateFormat=10]="DateFormat",en[en.TimeFormat=11]="TimeFormat",en[en.DateTimeFormat=12]="DateTimeFormat",en[en.NumberSymbols=13]="NumberSymbols",en[en.NumberFormats=14]="NumberFormats",en[en.CurrencyCode=15]="CurrencyCode",en[en.CurrencySymbol=16]="CurrencySymbol",en[en.CurrencyName=17]="CurrencyName",en[en.Currencies=18]="Currencies",en[en.Directionality=19]="Directionality",en[en.PluralCase=20]="PluralCase",en[en.ExtraData=21]="ExtraData",en))();const Jh="en-US";let Uw=Jh;function Uy(i){Ce(i,"Expected localeId to be defined"),"string"==typeof i&&(Uw=i.toLowerCase().replace(/_/g,"-"))}function ng(i,s,a,u,d){if(i=Fe(i),Array.isArray(i))for(let h=0;h<i.length;h++)ng(i[h],s,a,u,d);else{const h=Rn(),m=dt();let E=mc(i)?i:Fe(i.provide),A=Tp(i);const k=or(),j=1048575&k.providerIndexes,Y=k.directiveStart,X=k.providerIndexes>>20;if(mc(i)||!i.multi){const de=new Tr(A,d,$h),Te=n_(E,s,d?j:j+X,Y);-1===Te?(Mr(ss(k,m),h,E),rg(h,i,s.length),s.push(E),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),a.push(de),m.push(de)):(a[Te]=de,m[Te]=de)}else{const de=n_(E,s,j+X,Y),Te=n_(E,s,j,j+X),tt=de>=0&&a[de],Ve=Te>=0&&a[Te];if(d&&!Ve||!d&&!tt){Mr(ss(k,m),h,E);const vt=function(i,s,a,u,d){const h=new Tr(i,a,$h);return h.multi=[],h.index=s,h.componentProviders=0,ig(h,d,u&&!a),h}(d?Fb:d0,a.length,d,u,A);!d&&Ve&&(a[Te].providerFactory=vt),rg(h,i,s.length,0),s.push(E),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),a.push(vt),m.push(vt)}else rg(h,i,de>-1?de:Te,ig(a[d?Te:de],A,!d&&u));!d&&u&&Ve&&a[Te].componentProviders++}}}function rg(i,s,a,u){const d=mc(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const E=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const A=E.indexOf(a);-1===A?E.push(a,[u,m]):E[A+1].push(u,m)}else E.push(a,m)}}}function ig(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function n_(i,s,a,u){for(let d=a;d<u;d++)if(s[d]===i)return d;return-1}function d0(i,s,a,u){return sf(this.multi,[])}function Fb(i,s,a,u){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=z(a,a[1],this.providerFactory.index,u);h=E.slice(0,m),sf(d,h);for(let A=m;A<E.length;A++)h.push(E[A])}else h=[],sf(d,h);return h}function sf(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Lb(i,s=[]){return a=>{a.providersResolver=(u,d)=>function(i,s,a){const u=Rn();if(u.firstCreatePass){const d=Cr(i);ng(a,u.data,u.blueprint,d,!0),ng(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class of{}const r_="ngComponent";class Tc{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${oe(i)}. Did you add it to @NgModule.entryComponents?`);return s[r_]=i,s}(s)}}let Lu=(()=>{class i{}return i.NULL=new Tc,i})();function Vl(...i){}function No(i,s){return new Vs(It(i,s))}const ol=function(){return No(or(),dt())};let Vs=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=ol,i})();function Ud(i){return i instanceof Vs?i.nativeElement:i}class Bd{}let g0=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Ub(),i})();const Ub=function(){const i=dt(),a=Un(or().index,i);return function(i){return i[11]}(Ur(a)?a:i)};let ag=(()=>{class i{}return i.\u0275prov=jt({token:i,providedIn:"root",factory:()=>null}),i})();class l_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const no=new l_("12.2.7");class lg{constructor(){}supports(s){return Fr(s)}create(s){return new jb(s)}}const ug=(i,s)=>s;class jb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ug}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,h=null;for(;a||u;){const m=!u||a&&a.currentIndex<u_(u,d,h)?a:u,E=u_(m,d,h),A=m.currentIndex;if(m===u)d--,u=u._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{h||(h=[]);const k=E-d,j=A-d;if(k!=j){for(let X=0;X<k;X++){const de=X<h.length?h[X]:h[X]=0,Te=de+X;j<=Te&&Te<k&&(h[X]=de+1)}h[m.previousIndex]=j-k}}E!==A&&s(m,E,A)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Fr(s))throw new Error(`Error trying to diff '${oe(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)h=s[E],m=this._trackByFn(E,h),null!==a&&Object.is(a.trackById,m)?(u&&(a=this._verifyReinsertion(a,h,m,E)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,m,E),u=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Iu()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{m=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,m)?(u&&(a=this._verifyReinsertion(a,E,m,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,m,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,d)):s=this._addAfter(new Hb(a,u),h,d),s}_verifyReinsertion(s,a,u,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new lf),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lf),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Hb{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cg{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class lf{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new cg,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u_(i,s,a){const u=i.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class c_{constructor(){}supports(s){return s instanceof Map||xi(s)}create(){return new $b}}class $b{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||xi(s)))throw new Error(`Error trying to diff '${oe(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const u=new d_(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class d_{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function h_(){return new dg([new lg])}let dg=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||h_()),deps:[[i,new Ia,new Xs]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:h_}),i})();function m0(){return new hg([new c_])}let hg=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||m0()),deps:[[i,new Ia,new Xs]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:m0}),i})();function fg(i,s,a,u,d=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&u.push(O(h)),Cn(h))for(let E=10;E<h.length;E++){const A=h[E],k=A[1].firstChild;null!==k&&fg(A[1],A,k,u)}const m=a.type;if(8&m)fg(i,s,a.child,u);else if(32&m){const E=hh(a,s);let A;for(;A=E();)u.push(A)}else if(16&m){const E=mh(s,a);if(Array.isArray(E))u.push(...E);else{const A=ad(s[16]);fg(A[1],A,E,u,!0)}}a=d?a.projectionNext:a.next}return u}class Vu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return fg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Cn(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Fs(s,u),Co(a,u))}this._attachedToViewContainer=!1}Yg(this._lView[1],this._lView)}onDestroy(s){pp(this._lView[1],this._lView,null,s)}markForCheck(){Sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){ao(!0);try{Pm(i,s,a)}finally{ao(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,yh(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Gb extends Vu{constructor(s){super(s),this._view=s}detectChanges(){wp(this._view)}checkNoChanges(){!function(i){ao(!0);try{wp(i)}finally{ao(!1)}}(this._view)}get context(){return null}}const f_=function(i){return function(i,s,a){if(es(i)&&!a){const u=Un(i.index,s);return new Vu(u,u)}return 47&i.type?new Vu(s[16],s):null}(or(),dt(),16==(16&i))};let pg=(()=>{class i{}return i.__NG_ELEMENT_ID__=f_,i})();const Wb=[new c_],Yb=new dg([new lg]),p_=new hg(Wb),m_=function(){return y_(or(),dt())};let Uu=(()=>{class i{}return i.__NG_ELEMENT_ID__=m_,i})();const Jb=Uu,_0=class extends Jb{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=hd(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(a)),pc(a,u,s),new Vu(u)}};function y_(i,s){return 4&i.type?new _0(s,i,No(i,s)):null}class Ul{}class eC{}const nC=function(){return E0(or(),dt())};let gg=(()=>{class i{}return i.__NG_ELEMENT_ID__=nC,i})();const __=gg,v_=class extends __{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new St(this._hostTNode,this._hostLView)}get parentInjector(){const s=Et(this._hostTNode,this._hostLView);if(Js(s)){const a=qo(s,this._hostLView),u=$o(s);return new St(a[1].data[u+8],a)}return new St(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=w0(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const d=s.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(s,a,u,d,h){const m=u||this.parentInjector;if(!h&&null==s.ngModule&&m){const A=m.get(Ul,null);A&&(h=A)}const E=s.create(m,d,void 0,h);return this.insert(E.hostView,a),E}insert(s,a){const u=s._lView,d=u[1];if(Cn(u[3])){const j=this.indexOf(s);if(-1!==j)this.detach(j);else{const Y=u[3],X=new v_(Y,Y[6],Y[3]);X.detach(X.indexOf(s))}}const h=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,u){const d=10+u,h=a.length;u>0&&(a[d-1][4]=s),u<h-10?(s[4]=a[d],Wu(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=128}(d,u,m,h);const E=vu(h,m),A=u[11],k=gh(A,m[7]);return null!==k&&function(i,s,a,u,d,h){u[0]=d,u[6]=s,yh(i,u,a,1,d,h)}(d,m[6],A,u,k,E),s.attachToViewContainerRef(),Wu(w_(m),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=w0(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Fs(this._lContainer,a);u&&(Co(w_(this._lContainer),a),Yg(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Fs(this._lContainer,a);return u&&null!=Co(w_(this._lContainer),a)?new Vu(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function w0(i){return i[8]}function w_(i){return i[8]||(i[8]=[])}function E0(i,s){let a;const u=s[i.index];if(Cn(u))a=u;else{let d;if(8&i.type)d=O(u);else{const h=s[11];d=h.createComment("");const m=It(i,s);gu(h,gh(h,m),d,function(i,s){return $e(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=a=Nm(u,s,d,i),_d(s,a)}return new v_(a,i,s)}const Dn={};class D_ extends Lu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Dt(s);return new $t(a,this.ngModule)}}function qd(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const U0=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ft});class $t extends of{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(rv).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return qd(this.componentDef.inputs)}get outputs(){return qd(this.componentDef.outputs)}create(s,a,u,d){const h=(d=d||this.ngModule)?function(i,s){return{get:(a,u,d)=>{const h=i.get(a,Dn,d);return h!==Dn||u===Dn?h:s.get(a,u,d)}}}(s,d.injector):s,m=h.get(Bd,L),E=h.get(ag,null),A=m.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",j=u?function(i,s,a){if($e(i))return i.selectRootElement(s,a===qn.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(A,u,this.componentDef.encapsulation):Zg(m.createRenderer(null,this.componentDef),k,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(k)),Y=this.componentDef.onPush?576:528,X=function(i,s){return{components:[],scheduler:i||ft,clean:Fm,playerHandler:s||null,flags:0}}(),de=fp(0,null,null,1,0,null,null,null,null,null),Te=hd(null,de,X,Y,null,null,m,A,E,h);let tt,Ve;jo(Te);try{const vt=function(i,s,a,u,d,h){const m=a[1];a[20]=i;const A=fd(m,20,2,"#host",null),k=A.mergedAttrs=s.hostAttrs;null!==k&&(vd(A,k,!0),null!==i&&(Nr(d,i,k),null!==A.classes&&_h(d,i,A.classes),null!==A.styles&&nm(d,i,A.styles)));const j=u.createRenderer(i,s),Y=hd(a,hp(s),null,s.onPush?64:16,a[20],A,u,j,h||null,null);return m.firstCreatePass&&(Mr(ss(A,a),m,s.type),yp(m,A),pv(A,a.length,1)),_d(a,Y),a[20]=Y}(j,this.componentDef,Te,m,A);if(j)if(u)Nr(A,j,["ng-version",no.full]);else{const{attrs:ut,classes:Yt}=function(i){const s=[],a=[];let u=1,d=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++u]):8===d&&a.push(h);else{if(!ea(d))break;d=h}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ut&&Nr(A,j,ut),Yt&&Yt.length>0&&_h(A,j,Yt.join(" "))}if(Ve=li(de,20),void 0!==a){const ut=Ve.projection=[];for(let Yt=0;Yt<this.ngContentSelectors.length;Yt++){const yn=a[Yt];ut.push(null!=yn?Array.from(yn):null)}}tt=function(i,s,a,u,d){const h=a[1],m=function(i,s,a){const u=or();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),_p(i,u,s,pd(i,s,1,null),a));const d=z(s,i,u.directiveStart,u);ls(d,s);const h=It(u,s);return h&&ls(h,s),d}(h,a,s);if(u.components.push(m),i[8]=m,d&&d.forEach(A=>A(m,s)),s.contentQueries){const A=or();s.contentQueries(1,m,A.directiveStart)}const E=or();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(uo(E.index),Am(a[1],E,0,E.directiveStart,E.directiveEnd,s),mp(s,m)),m}(vt,this.componentDef,Te,X,[kv]),pc(de,Te,null)}finally{Za()}return new lr(this.componentType,tt,No(Ve,Te),Te,Ve)}}class lr extends class{}{constructor(s,a,u,d,h){super(),this.location=u,this._rootLView=d,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new Gb(d),this.componentType=s}get injector(){return new St(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const ro=new Map;class Cf extends Ul{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new D_(this);const u=sr(s),d=s[pr]||null;d&&Uy(d),this._bootstrapComponents=us(u.bootstrap),this._r3Injector=bv(s,a,[{provide:Ul,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],oe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=si.THROW_IF_NOT_FOUND,u=at.Default){return s===si||s===Ul||s===Cu?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Gd extends eC{constructor(s){super(),this.moduleType=s,null!==sr(s)&&function(i){const s=new Set;!function a(u){const d=sr(u,!0),h=d.id;null!==h&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${oe(s)} vs ${oe(s.name)}`)}(h,ro.get(h),u),ro.set(h,u));const m=us(d.imports);for(const E of m)s.has(E)||(s.add(E),a(E))}(i)}(s)}create(s){return new Cf(this.moduleType,s)}}function iT(i,s,a,u,d){return function(i,s,a,u,d,h,m){const E=s+a;return function(i,s,a,u){const d=Ls(i,s,a);return Ls(i,s+1,u)||d}(i,E,d,h)?Ra(i,E+2,m?u.call(m,d,h):u(d,h)):S_(i,E+2)}(dt(),Qr(),i,s,a,u,d)}function S_(i,s){const a=i[s];return a===cn?void 0:a}function cT(i,s){const a=Rn();let u;const d=i+20;a.firstCreatePass?(u=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}throw new it("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const h=u.factory||(u.factory=mi(u.type)),m=$n($h);try{const E=Eo(!1),A=h();return Eo(E),function(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,dt(),d,A),A}finally{$n(m)}}function dT(i,s,a){const u=i+20,d=dt(),h=Yr(d,u);return function(i,s){Ma.isWrapped(s)&&(s=Ma.unwrap(s),i[nn.lFrame.bindingIndex]=cn);return s}(d,function(i,s){return i[1].data[s].pure}(d,u)?function(i,s,a,u,d,h){const m=s+a;return Ls(i,m,d)?Ra(i,m+1,h?u.call(h,d):u(d)):S_(i,m+1)}(d,Qr(),s,h.transform,a,h):h.transform(a))}function SC(i){return s=>{setTimeout(i,void 0,s)}}const Hu=class extends w.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var d,h,m;let E=s,A=a||(()=>null),k=u;if(s&&"object"==typeof s){const Y=s;E=null===(d=Y.next)||void 0===d?void 0:d.bind(Y),A=null===(h=Y.error)||void 0===h?void 0:h.bind(Y),k=null===(m=Y.complete)||void 0===m?void 0:m.bind(Y)}this.__isAsync&&(A=SC(A),E&&(E=SC(E)),k&&(k=SC(k)));const j=super.subscribe({next:E,error:A,complete:k});return s instanceof v.w&&s.add(j),j}};function qD(){return this._results[Iu()]()}class j0{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Iu(),u=j0.prototype;u[a]||(u[a]=qD)}get changes(){return this._changes||(this._changes=new Hu)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=as(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],h=s[u];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class xC{constructor(s){this.queryList=s,this.matches=null}clone(){return new xC(this.queryList)}setDirty(){this.queryList.setDirty()}}class OC{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let h=0;h<u;h++){const m=a.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new OC(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==vT(s,a).matches&&this.queries[a].setDirty()}}class hT{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class NC{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,h=this.getByIndex(u).embeddedTView(s,d);h&&(h.indexInDeclarationView=u,null!==a?a.push(h):a=[h])}return null!==a?new NC(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class MC{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new MC(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const h=u[d];this.matchTNodeWithReadOption(s,a,ZD(a,h)),this.matchTNodeWithReadOption(s,a,F(a,s,h,!1,!1))}else u===Uu?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,F(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Vs||d===gg||d===Uu&&4&a.type)this.addMatch(a.index,-2);else{const h=F(a,s,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function ZD(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function KD(i,s,a,u){return-1===a?function(i,s){return 11&i.type?No(i,s):4&i.type?y_(i,s):null}(s,i):-2===a?function(i,s,a){return a===Vs?No(s,i):a===Uu?y_(s,i):a===gg?E0(s,i):void 0}(i,s,u):z(i,i[1],a,s)}function fT(i,s,a,u){const d=s[19].queries[u];if(null===d.matches){const h=i.data,m=a.matches,E=[];for(let A=0;A<m.length;A+=2){const k=m[A];E.push(k<0?null:KD(s,h[k],m[A+1],a.metadata.read))}d.matches=E}return d.matches}function RC(i,s,a,u){const d=i.queries.getByIndex(a),h=d.matches;if(null!==h){const m=fT(i,s,d,a);for(let E=0;E<h.length;E+=2){const A=h[E];if(A>0)u.push(m[E/2]);else{const k=h[E+1],j=s[-A];for(let Y=10;Y<j.length;Y++){const X=j[Y];X[17]===X[3]&&RC(X[1],X,k,u)}if(null!==j[9]){const Y=j[9];for(let X=0;X<Y.length;X++){const de=Y[X];RC(de[1],de,k,u)}}}}}return u}function pT(i){const s=dt(),a=Rn(),u=ys();dl(u+1);const d=vT(a,u);if(i.dirty&&Hr(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?RC(a,s,u,[]):fT(a,s,d,u);i.reset(h,Ud),i.notifyOnChanges()}return!0}return!1}function gT(i,s,a,u){const d=Rn();if(d.firstCreatePass){const h=or();(function(i,s,a){null===i.queries&&(i.queries=new NC),i.queries.track(new MC(s,a))})(d,new hT(s,a,u),h.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function(i,s,a){const u=new j0(4==(4&a));pp(i,s,u,u.destroy),null===s[19]&&(s[19]=new OC),s[19].queries.push(new xC(u))}(d,dt(),a)}function mT(){return i=dt(),s=ys(),i[19].queries[s].queryList;var i,s}function vT(i,s){return i.queries.getByIndex(s)}function wT(i,s){return y_(i,s)}const yA=rn("Input",i=>({bindingPropertyName:i})),UC=new sn("Application Initializer");let Tg=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Vl,this.reject=Vl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(wy(h))a.push(h);else if(Ey(h)){const m=new Promise((E,A)=>{h.subscribe({complete:E,error:A})});a.push(m)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(yr(UC,8))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const VT=new sn("AppId"),AA={provide:VT,useFactory:function(){return`${BC()}${BC()}${BC()}`},deps:[]};function BC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UT=new sn("Platform Initializer"),BT=new sn("Platform ID"),jT=new sn("appBootstrapListener");let HT=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const q0=new sn("LocaleId"),$T=new sn("DefaultCurrencyCode");class xA{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const jC=function(i){return new Gd(i)},OA=jC,NA=function(i){return Promise.resolve(jC(i))},qT=function(i){const s=jC(i),u=us(sr(i).declarations).reduce((d,h)=>{const m=Dt(h);return m&&d.push(new $t(m)),d},[]);return new xA(s,u)},MA=qT,RA=function(i){return Promise.resolve(qT(i))};let M_=(()=>{class i{constructor(){this.compileModuleSync=OA,this.compileModuleAsync=NA,this.compileModuleAndAllComponentsSync=MA,this.compileModuleAndAllComponentsAsync=RA}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const FA=(()=>Promise.resolve(0))();function HC(i){"undefined"==typeof Zone?FA.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ua{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hu(!1),this.onMicrotaskEmpty=new Hu(!1),this.onStable=new Hu(!1),this.onError=new Hu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=ie.requestAnimationFrame,s=ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ie,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,qC(i),i.isCheckStableRunning=!0,$C(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),qC(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,h,m,E)=>{try{return GT(i),a.invokeTask(d,h,m,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),zT(i)}},onInvoke:(a,u,d,h,m,E,A)=>{try{return GT(i),a.invoke(d,h,m,E,A)}finally{i.shouldCoalesceRunChangeDetection&&s(),zT(i)}},onHasTask:(a,u,d,h)=>{a.hasTask(d,h),u===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,qC(i),$C(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,u,d,h)=>(a.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,VA,Vl,Vl);try{return h.runTask(m,a,u)}finally{h.cancelTask(m)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const VA={};function $C(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function qC(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function GT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zT(i){i._nesting--,$C(i)}class jA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hu,this.onMicrotaskEmpty=new Hu,this.onStable=new Hu,this.onError=new Hu}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}let ZT=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ua.assertNotInAngularZone(),HC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())HC(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(yr(Ua))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})(),WT=(()=>{class i{constructor(){this._applications=new Map,GC.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return GC.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();class HA{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function $A(i){GC=i}let GC=new HA,KT=!0,YT=!1;function zC(){return YT=!0,KT}function qA(){if(YT)throw new Error("Cannot enable prod mode after platform setup.");KT=!1}let Hl;const QT=new sn("AllowMultipleToken");class QA{constructor(s,a){this.name=s,this.token=a}}function JT(i,s,a=[]){const u=`Platform: ${s}`,d=new sn(u);return(h=[])=>{let m=XT();if(!m||m.injector.get(QT,!1))if(i)i(a.concat(h).concat({provide:d,useValue:!0}));else{const E=a.concat(h).concat({provide:d,useValue:!0},{provide:gc,useValue:"platform"});!function(i){if(Hl&&!Hl.destroyed&&!Hl.injector.get(QT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hl=i.get(eD);const s=i.get(UT,null);s&&s.forEach(a=>a())}(si.create({providers:E,name:u}))}return function(i){const s=XT();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function XT(){return Hl&&!Hl.destroyed?Hl:null}let eD=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const E=function(i,s){let a;return a="noop"===i?new jA:("zone.js"===i?void 0:i)||new Ua({enableLongStackTrace:zC(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),A=[{provide:Ua,useValue:E}];return E.run(()=>{const k=si.create({providers:A,parent:this.injector,name:a.moduleType.name}),j=a.create(k),Y=j.injector.get(De,null);if(!Y)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const X=E.onError.subscribe({next:de=>{Y.handleError(de)}});j.onDestroy(()=>{ZC(this._modules,j),X.unsubscribe()})}),function(i,s,a){try{const u=a();return wy(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(Y,E,()=>{const X=j.injector.get(Tg);return X.runInitializers(),X.donePromise.then(()=>(Uy(j.injector.get(q0,Jh)||Jh),this._moduleDoBootstrap(j),j))})})}bootstrapModule(a,u=[]){const d=tD({},u);return function(i,s,a){const u=new Gd(a);return Promise.resolve(u)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const u=a.injector.get(R_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${oe(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(yr(si))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function tD(i,s){return Array.isArray(s)?s.reduce(tD,i):Object.assign(Object.assign({},i),s)}let R_=(()=>{class i{constructor(a,u,d,h,m){this._zone=a,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new J.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),A=new J.y(k=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{Ua.assertNotInAngularZone(),HC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{j.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,Ee.T)(E,A.pipe(i=>(0,we.x)()(function(i,s){return function(u){let d;d="function"==typeof i?i:function(){return i};const h=Object.create(u,be.N);return h.source=u,h.subjectFactory=d,h}}(ue)(i))))}bootstrap(a,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof of?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const h=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ul),E=d.create(si.NULL,[],u||d.selector,h),A=E.location.nativeElement,k=E.injector.get(ZT,null),j=k&&E.injector.get(WT);return k&&j&&j.registerApplication(A,k),E.onDestroy(()=>{this.detachView(E.hostView),ZC(this.components,E),j&&j.unregisterApplication(A)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;ZC(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(jT,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(yr(Ua),yr(si),yr(De),yr(Lu),yr(Tg))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function ZC(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class rS{}class sS{}const oS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let aS=(()=>{class i{constructor(a,u){this._compiler=a,this._config=u||oS}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[u,d]=a.split("#");return void 0===d&&(d="default"),q(8255)(u).then(h=>h[d]).then(h=>sD(h,u,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(a){let[u,d]=a.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),q(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>sD(m,u,d))}}return i.\u0275fac=function(a){return new(a||i)(yr(M_),yr(sS,8))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function sD(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const gS=function(i){return null},yS=JT(null,"core",[{provide:BT,useValue:"unknown"},{provide:eD,deps:[si]},{provide:WT,deps:[]},{provide:HT,deps:[]}]),bS=[{provide:R_,useClass:R_,deps:[Ua,si,De,Lu,Tg]},{provide:U0,deps:[Ua],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Tg,useClass:Tg,deps:[[new Xs,UC]]},{provide:M_,useClass:M_,deps:[]},AA,{provide:dg,useFactory:function(){return Yb},deps:[]},{provide:hg,useFactory:function(){return p_},deps:[]},{provide:q0,useFactory:function(i){return Uy(i=i||"undefined"!=typeof $localize&&$localize.locale||Jh),i},deps:[[new Wi(q0),new Xs,new Ia]]},{provide:$T,useValue:"USD"}];let IS=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(yr(R_))},i.\u0275mod=Zr({type:i}),i.\u0275inj=_r({providers:bS}),i})()},8939:(At,ze,q)=>{"use strict";q.d(ze,{hO:()=>oe,xv:()=>ue,Dh:()=>we,GT:()=>me,on:()=>ee,pX:()=>be});var w=q(3018),v=q(7841),J=q(9126);At=q.hmd(At);const Ee=["ngOnDestroy"],be=(ye,Ke,je,Fe={})=>new Proxy(ye,{get:(he,nt)=>je.runOutsideAngular(()=>{var it;if(ye[nt])return(null===(it=null==Fe?void 0:Fe.spy)||void 0===it?void 0:it.get)&&Fe.spy.get(nt,ye[nt]),ye[nt];if(Ee.indexOf(nt)>-1)return()=>{};const We=Ke.toPromise().then(ce=>{const Je=ce&&ce[nt];return"function"==typeof Je?Je.bind(ce):Je&&Je.then?Je.then(Ot=>je.run(()=>Ot)):je.run(()=>Je)});return new Proxy(()=>{},{get:(ce,Je)=>We[Je],apply:(ce,Je,Ot)=>We.then(Le=>{var Qe;const ke=Le&&Le(...Ot);return(null===(Qe=null==Fe?void 0:Fe.spy)||void 0===Qe?void 0:Qe.apply)&&Fe.spy.apply(nt,Ot,ke),ke})})})}),me=(ye,Ke)=>{Ke.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Fe=>{Object.defineProperty(ye.prototype,Fe,Object.getOwnPropertyDescriptor(je.prototype||je,Fe))})})};class Be{constructor(Ke){return Ke}}const we=new w.OlP("angularfire2.app.options"),ue=new w.OlP("angularfire2.app.name");function ee(ye,Ke,je){const he="object"==typeof je&&je||{};he.name=he.name||"string"==typeof je&&je||"[DEFAULT]";const it=v.Z.apps.filter(We=>We&&We.name===he.name)[0]||Ke.runOutsideAngular(()=>v.Z.initializeApp(ye,he));try{JSON.stringify(ye)!==JSON.stringify(it.options)&&ne("error",`${it.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new Be(it)}const ne=(ye,...Ke)=>{(0,w.X6Q)()&&"undefined"!=typeof console&&console[ye](...Ke)},ae={provide:Be,useFactory:ee,deps:[we,w.R0b,[new w.FiY,ue]]};let oe=(()=>{class ye{constructor(je){v.Z.registerVersion("angularfire",J.q4.full,"core"),v.Z.registerVersion("angularfire",J.q4.full,"app-compat"),v.Z.registerVersion("angular",w.q4F.full,je.toString())}static initializeApp(je,Fe){return{ngModule:ye,providers:[{provide:we,useValue:je},{provide:ue,useValue:Fe}]}}}return ye.\u0275fac=function(je){return new(je||ye)(w.LFG(w.Lbi))},ye.\u0275mod=w.oAB({type:ye}),ye.\u0275inj=w.cJS({providers:[ae]}),ye})()},9126:(At,ze,q)=>{"use strict";q.d(ze,{q4:()=>ee,iC:()=>ke,HU:()=>We,cc:()=>oe});var w=q(3018);(0,q(5452).registerVersion)("firebase","9.0.2","app");var be=q(7771),me=q(3637),Be=q(8307),we=q(3101),ue=q(309);At=q.hmd(At);const ee=new w.GfV("7.0.4"),ne=!!At.hot,ae=(He,...Ae)=>{(0,w.X6Q)()&&"undefined"!=typeof console&&console[He](...Ae)};function oe(He,Ae,lt,Xe,qt){const[,ht,Gt]=globalThis.\u0275AngularfireInstanceCache.find(gn=>gn[0]===He)||[];if(ht)return function(He,Ae){try{return He.toString()===Ae.toString()}catch(lt){return He===Ae}}(qt,Gt)||(ae("error",`${Ae} was already initialized on the ${lt} Firebase App with different settings.${ne?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:qt,was:Gt})),ht;{const gn=Xe();return globalThis.\u0275AngularfireInstanceCache.push([He,gn,qt]),gn}}function he(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class nt{constructor(Ae,lt=be.N){this.zone=Ae,this.delegate=lt}now(){return this.delegate.now()}schedule(Ae,lt,Xe){const qt=this.zone;return this.delegate.schedule(function(Gt){qt.runGuarded(()=>{Ae.apply(this,[Gt])})},lt,Xe)}}class it{constructor(Ae){this.zone=Ae,this.task=null}call(Ae,lt){const Xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",he,{},he,he)),lt.pipe((0,Be.b)({next:Xe,complete:Xe,error:Xe})).subscribe(Ae).add(Xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let We=(()=>{class He{constructor(lt){this.ngZone=lt,this.outsideAngular=lt.runOutsideAngular(()=>new nt(Zone.current)),this.insideAngular=lt.run(()=>new nt(Zone.current,me.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return He.\u0275fac=function(lt){return new(lt||He)(w.LFG(w.R0b))},He.\u0275prov=w.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function ce(){const He=globalThis.\u0275AngularFireScheduler;if(!He)throw new Error("AngularFireModule has not been provided");return He}function ke(He){return ce(),function(He){return function(lt){return(lt=lt.lift(new it(He.ngZone))).pipe((0,we.R)(He.outsideAngular),(0,ue.QV)(He.insideAngular))}}(ce())(He)}},665:(At,ze,q)=>{"use strict";q.d(ze,{gN:()=>kt,Fj:()=>he,NI:()=>wt,u:()=>Ts,cw:()=>Qt,sg:()=>es,u5:()=>V,a5:()=>Ln,JJ:()=>Hn,JL:()=>Rt,F:()=>ve,On:()=>ji,UX:()=>K,Q7:()=>bi,kI:()=>Ot,_Y:()=>mr});var w=q(3018),v=q(8583),J=q(7574),Ee=q(9796),be=q(8002),me=q(1555),Be=q(4402);function ue(L,P){return new J.y(O=>{const Z=L.length;if(0===Z)return void O.complete();const Pe=new Array(Z);let bt=0,It=0;for(let Wn=0;Wn<Z;Wn++){const li=(0,Be.D)(L[Wn]);let Yr=!1;O.add(li.subscribe({next:Un=>{Yr||(Yr=!0,It++),Pe[Wn]=Un},error:Un=>O.error(Un),complete:()=>{bt++,(bt===Z||!Yr)&&(It===Z&&O.next(P?P.reduce((Un,Hr,ps)=>(Un[Hr]=Pe[ps],Un),{}):Pe),O.complete())}}))}})}let ee=(()=>{class L{constructor(O,Z){this._renderer=O,this._elementRef=Z,this.onChange=Pe=>{},this.onTouched=()=>{}}setProperty(O,Z){this._renderer.setProperty(this._elementRef.nativeElement,O,Z)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(w.Qsj),w.Y36(w.SBq))},L.\u0275dir=w.lG2({type:L}),L})(),ne=(()=>{class L extends ee{}return L.\u0275fac=function(){let P;return function(Z){return(P||(P=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,features:[w.qOj]}),L})();const ae=new w.OlP("NgValueAccessor"),Ke={provide:ae,useExisting:(0,w.Gpc)(()=>he),multi:!0},Fe=new w.OlP("CompositionEventMode");let he=(()=>{class L extends ee{constructor(O,Z,Pe){super(O,Z),this._compositionMode=Pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const L=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(O){this.setProperty("value",null==O?"":O)}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Fe,8))},L.\u0275dir=w.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,Z){1&O&&w.NdJ("input",function(bt){return Z._handleInput(bt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(bt){return Z._compositionEnd(bt.target.value)})},features:[w._Bn([Ke]),w.qOj]}),L})();function nt(L){return null==L||0===L.length}function it(L){return null!=L&&"number"==typeof L.length}const We=new w.OlP("NgValidators"),ce=new w.OlP("NgAsyncValidators"),Je=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ot{static min(P){return L=P,P=>{if(nt(P.value)||nt(L))return null;const O=parseFloat(P.value);return!isNaN(O)&&O<L?{min:{min:L,actual:P.value}}:null};var L}static max(P){return L=P,P=>{if(nt(P.value)||nt(L))return null;const O=parseFloat(P.value);return!isNaN(O)&&O>L?{max:{max:L,actual:P.value}}:null};var L}static required(P){return ke(P)}static requiredTrue(P){return!0===P.value?null:{required:!0}}static email(P){return nt((L=P).value)||Je.test(L.value)?null:{email:!0};var L}static minLength(P){return L=P,P=>nt(P.value)||!it(P.value)?null:P.value.length<L?{minlength:{requiredLength:L,actualLength:P.value.length}}:null;var L}static maxLength(P){return L=P,P=>it(P.value)&&P.value.length>L?{maxlength:{requiredLength:L,actualLength:P.value.length}}:null;var L}static pattern(P){return function(L){if(!L)return lt;let P,O;return"string"==typeof L?(O="","^"!==L.charAt(0)&&(O+="^"),O+=L,"$"!==L.charAt(L.length-1)&&(O+="$"),P=new RegExp(O)):(O=L.toString(),P=L),Z=>{if(nt(Z.value))return null;const Pe=Z.value;return P.test(Pe)?null:{pattern:{requiredPattern:O,actualValue:Pe}}}}(P)}static nullValidator(P){return null}static compose(P){return rt(P)}static composeAsync(P){return Ce(P)}}function ke(L){return nt(L.value)?{required:!0}:null}function lt(L){return null}function Xe(L){return null!=L}function qt(L){const P=(0,w.QGY)(L)?(0,Be.D)(L):L;return(0,w.CqO)(P),P}function ht(L){let P={};return L.forEach(O=>{P=null!=O?Object.assign(Object.assign({},P),O):P}),0===Object.keys(P).length?null:P}function Gt(L,P){return P.map(O=>O(L))}function kn(L){return L.map(P=>function(L){return!L.validate}(P)?P:O=>P.validate(O))}function rt(L){if(!L)return null;const P=L.filter(Xe);return 0==P.length?null:function(O){return ht(Gt(O,P))}}function mt(L){return null!=L?rt(kn(L)):null}function Ce(L){if(!L)return null;const P=L.filter(Xe);return 0==P.length?null:function(O){return function(...L){if(1===L.length){const P=L[0];if((0,Ee.k)(P))return ue(P,null);if((0,me.K)(P)&&Object.getPrototypeOf(P)===Object.prototype){const O=Object.keys(P);return ue(O.map(Z=>P[Z]),O)}}if("function"==typeof L[L.length-1]){const P=L.pop();return ue(L=1===L.length&&(0,Ee.k)(L[0])?L[0]:L,null).pipe((0,be.U)(O=>P(...O)))}return ue(L,null)}(Gt(O,P).map(qt)).pipe((0,be.U)(ht))}}function xe(L){return null!=L?Ce(kn(L)):null}function yt(L,P){return null===L?[P]:Array.isArray(L)?[...L,P]:[L,P]}function _t(L){return L._rawValidators}function _n(L){return L._rawAsyncValidators}function jt(L){return L?Array.isArray(L)?L:[L]:[]}function hn(L,P){return Array.isArray(L)?L.includes(P):L===P}function _r(L,P){const O=jt(P);return jt(L).forEach(Pe=>{hn(O,Pe)||O.push(Pe)}),O}function Fn(L,P){return jt(P).filter(O=>!hn(L,O))}let jn=(()=>{class L{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=mt(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,Z){return!!this.control&&this.control.hasError(O,Z)}getError(O,Z){return this.control?this.control.getError(O,Z):null}}return L.\u0275fac=function(O){return new(O||L)},L.\u0275dir=w.lG2({type:L}),L})(),kt=(()=>{class L extends jn{get formDirective(){return null}get path(){return null}}return L.\u0275fac=function(){let P;return function(Z){return(P||(P=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,features:[w.qOj]}),L})();class Ln extends jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sn{constructor(P){this._cd=P}is(P){var O,Z,Pe;return"submitted"===P?!!(null===(O=this._cd)||void 0===O?void 0:O.submitted):!!(null===(Pe=null===(Z=this._cd)||void 0===Z?void 0:Z.control)||void 0===Pe?void 0:Pe[P])}}let Hn=(()=>{class L extends Sn{constructor(O){super(O)}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(Ln,2))},L.\u0275dir=w.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,Z){2&O&&w.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))},features:[w.qOj]}),L})(),Rt=(()=>{class L extends Sn{constructor(O){super(O)}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(kt,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,Z){2&O&&w.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))("ng-submitted",Z.is("submitted"))},features:[w.qOj]}),L})();function zt(L,P){return[...P.path,L]}function Mn(L,P){Ze(L,P),P.valueAccessor.writeValue(L.value),function(L,P){P.valueAccessor.registerOnChange(O=>{L._pendingValue=O,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&Xt(L,P)})}(L,P),function(L,P){const O=(Z,Pe)=>{P.valueAccessor.writeValue(Z),Pe&&P.viewToModelUpdate(Z)};L.registerOnChange(O),P._registerOnDestroy(()=>{L._unregisterOnChange(O)})}(L,P),function(L,P){P.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&Xt(L,P),"submit"!==L.updateOn&&L.markAsTouched()})}(L,P),function(L,P){if(P.valueAccessor.setDisabledState){const O=Z=>{P.valueAccessor.setDisabledState(Z)};L.registerOnDisabledChange(O),P._registerOnDestroy(()=>{L._unregisterOnDisabledChange(O)})}}(L,P)}function ge(L,P,O=!0){const Z=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(Z),P.valueAccessor.registerOnTouched(Z)),Oe(L,P),L&&(P._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function ie(L,P){L.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(P)})}function Ze(L,P){const O=_t(L);null!==P.validator?L.setValidators(yt(O,P.validator)):"function"==typeof O&&L.setValidators([O]);const Z=_n(L);null!==P.asyncValidator?L.setAsyncValidators(yt(Z,P.asyncValidator)):"function"==typeof Z&&L.setAsyncValidators([Z]);const Pe=()=>L.updateValueAndValidity();ie(P._rawValidators,Pe),ie(P._rawAsyncValidators,Pe)}function Oe(L,P){let O=!1;if(null!==L){if(null!==P.validator){const Pe=_t(L);if(Array.isArray(Pe)&&Pe.length>0){const bt=Pe.filter(It=>It!==P.validator);bt.length!==Pe.length&&(O=!0,L.setValidators(bt))}}if(null!==P.asyncValidator){const Pe=_n(L);if(Array.isArray(Pe)&&Pe.length>0){const bt=Pe.filter(It=>It!==P.asyncValidator);bt.length!==Pe.length&&(O=!0,L.setAsyncValidators(bt))}}}const Z=()=>{};return ie(P._rawValidators,Z),ie(P._rawAsyncValidators,Z),O}function Xt(L,P){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function fn(L,P){Ze(L,P)}function Qn(L,P){if(!L.hasOwnProperty("model"))return!1;const O=L.model;return!!O.isFirstChange()||!Object.is(P,O.currentValue)}function bs(L,P){L._syncPendingControls(),P.forEach(O=>{const Z=O.control;"submit"===Z.updateOn&&Z._pendingChange&&(O.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}function di(L,P){if(!P)return null;let O,Z,Pe;return Array.isArray(P),P.forEach(bt=>{bt.constructor===he?O=bt:function(L){return Object.getPrototypeOf(L.constructor)===ne}(bt)?Z=bt:Pe=bt}),Pe||Z||O||null}function Ji(L,P){const O=L.indexOf(P);O>-1&&L.splice(O,1)}const Zr="VALID",ur="INVALID",ir="PENDING",Ar="DISABLED";function Dt(L){return(Cs(L)?L.validators:L)||null}function Sr(L){return Array.isArray(L)?mt(L):L||null}function wi(L,P){return(Cs(P)?P.asyncValidators:L)||null}function sr(L){return Array.isArray(L)?xe(L):L||null}function Cs(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}class En{constructor(P,O){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=P,this._rawAsyncValidators=O,this._composedValidatorFn=Sr(this._rawValidators),this._composedAsyncValidatorFn=sr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Zr}get invalid(){return this.status===ur}get pending(){return this.status==ir}get disabled(){return this.status===Ar}get enabled(){return this.status!==Ar}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._rawValidators=P,this._composedValidatorFn=Sr(P)}setAsyncValidators(P){this._rawAsyncValidators=P,this._composedAsyncValidatorFn=sr(P)}addValidators(P){this.setValidators(_r(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(_r(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(Fn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(Fn(P,this._rawAsyncValidators))}hasValidator(P){return hn(this._rawValidators,P)}hasAsyncValidator(P){return hn(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=ir,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const O=this._parentMarkedDirty(P.onlySelf);this.status=Ar,this.errors=null,this._forEachChild(Z=>{Z.disable(Object.assign(Object.assign({},P),{onlySelf:!0}))}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},P),{skipPristineCheck:O})),this._onDisabledChange.forEach(Z=>Z(!0))}enable(P={}){const O=this._parentMarkedDirty(P.onlySelf);this.status=Zr,this._forEachChild(Z=>{Z.enable(Object.assign(Object.assign({},P),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},P),{skipPristineCheck:O})),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zr||this.status===ir)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ar:Zr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=ir,this._hasOwnPendingAsyncValidator=!0;const O=qt(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,O={}){this.errors=P,this._updateControlsErrors(!1!==O.emitEvent)}get(P){return function(L,P,O){if(null==P||(Array.isArray(P)||(P=P.split(".")),Array.isArray(P)&&0===P.length))return null;let Z=L;return P.forEach(Pe=>{Z=Z instanceof Qt?Z.controls.hasOwnProperty(Pe)?Z.controls[Pe]:null:Z instanceof Bn&&Z.at(Pe)||null}),Z}(this,P)}getError(P,O){const Z=O?this.get(O):this;return Z&&Z.errors?Z.errors[P]:null}hasError(P,O){return!!this.getError(P,O)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?Ar:this.errors?ur:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ir)?ir:this._anyControlsHaveStatus(ur)?ur:Zr}_anyControlsHaveStatus(P){return this._anyControls(O=>O.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_isBoxedValue(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){Cs(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wt extends En{constructor(P=null,O,Z){super(Dt(O),wi(Z,O)),this._onChange=[],this._applyFormState(P),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(P,O={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(P,O={}){this.setValue(P,O)}reset(P=null,O={}){this._applyFormState(P),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){Ji(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){Ji(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){this._isBoxedValue(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}}class Qt extends En{constructor(P,O,Z){super(Dt(O),wi(Z,O)),this.controls=P,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,O){return this.controls[P]?this.controls[P]:(this.controls[P]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(P,O,Z={}){this.registerControl(P,O),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(P,O={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(P,O,Z={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],O&&this.registerControl(P,O),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,O={}){this._checkAllValuesPresent(P),Object.keys(P).forEach(Z=>{this._throwIfControlMissing(Z),this.controls[Z].setValue(P[Z],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(P,O={}){null!=P&&(Object.keys(P).forEach(Z=>{this.controls[Z]&&this.controls[Z].patchValue(P[Z],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(P={},O={}){this._forEachChild((Z,Pe)=>{Z.reset(P[Pe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(P,O,Z)=>(P[Z]=O instanceof wt?O.value:O.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(O,Z)=>!!Z._syncPendingControls()||O);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_throwIfControlMissing(P){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[P])throw new Error(`Cannot find form control with name: ${P}.`)}_forEachChild(P){Object.keys(this.controls).forEach(O=>{const Z=this.controls[O];Z&&P(Z,O)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const O of Object.keys(this.controls)){const Z=this.controls[O];if(this.contains(O)&&P(Z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(P,O,Z)=>((O.enabled||this.disabled)&&(P[Z]=O.value),P))}_reduceChildren(P,O){let Z=P;return this._forEachChild((Pe,bt)=>{Z=O(Z,Pe,bt)}),Z}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(P){this._forEachChild((O,Z)=>{if(void 0===P[Z])throw new Error(`Must supply a value for form control with name: '${Z}'.`)})}}class Bn extends En{constructor(P,O,Z){super(Dt(O),wi(Z,O)),this.controls=P,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[P]}push(P,O={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(P,O,Z={}){this.controls.splice(P,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(P,O={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(P,O,Z={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),O&&(this.controls.splice(P,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,O={}){this._checkAllValuesPresent(P),P.forEach((Z,Pe)=>{this._throwIfControlMissing(Pe),this.at(Pe).setValue(Z,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(P,O={}){null!=P&&(P.forEach((Z,Pe)=>{this.at(Pe)&&this.at(Pe).patchValue(Z,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(P=[],O={}){this._forEachChild((Z,Pe)=>{Z.reset(P[Pe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(P=>P instanceof wt?P.value:P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_syncPendingControls(){let P=this.controls.reduce((O,Z)=>!!Z._syncPendingControls()||O,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_throwIfControlMissing(P){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(P))throw new Error(`Cannot find form control at index ${P}`)}_forEachChild(P){this.controls.forEach((O,Z)=>{P(O,Z)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(O=>O.enabled&&P(O))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_checkAllValuesPresent(P){this._forEachChild((O,Z)=>{if(void 0===P[Z])throw new Error(`Must supply a value for form control at index: ${Z}.`)})}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}}const gr={provide:kt,useExisting:(0,w.Gpc)(()=>ve)},Vn=(()=>Promise.resolve(null))();let ve=(()=>{class L extends kt{constructor(O,Z){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new w.vpe,this.form=new Qt({},mt(O),xe(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Vn.then(()=>{const Z=this._findContainer(O.path);O.control=Z.registerControl(O.name,O.control),Mn(O.control,O),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Vn.then(()=>{const Z=this._findContainer(O.path);Z&&Z.removeControl(O.name),Ji(this._directives,O)})}addFormGroup(O){Vn.then(()=>{const Z=this._findContainer(O.path),Pe=new Qt({});fn(Pe,O),Z.registerControl(O.name,Pe),Pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Vn.then(()=>{const Z=this._findContainer(O.path);Z&&Z.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,Z){Vn.then(()=>{this.form.get(O.path).setValue(Z)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,bs(this.form,this._directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(We,10),w.Y36(ce,10))},L.\u0275dir=w.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(O,Z){1&O&&w.NdJ("submit",function(bt){return Z.onSubmit(bt)})("reset",function(){return Z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([gr]),w.qOj]}),L})();const Xn={provide:Ln,useExisting:(0,w.Gpc)(()=>ji)},Ni=(()=>Promise.resolve(null))();let ji=(()=>{class L extends Ln{constructor(O,Z,Pe,bt){super(),this.control=new wt,this._registered=!1,this.update=new w.vpe,this._parent=O,this._setValidators(Z),this._setAsyncValidators(Pe),this.valueAccessor=di(0,bt)}ngOnChanges(O){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in O&&this._updateDisabled(O),Qn(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Ni.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1})})}_updateDisabled(O){const Z=O.isDisabled.currentValue,Pe=""===Z||Z&&"false"!==Z;Ni.then(()=>{Pe&&!this.control.disabled?this.control.disable():!Pe&&this.control.disabled&&this.control.enable()})}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(kt,9),w.Y36(We,10),w.Y36(ce,10),w.Y36(ae,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w._Bn([Xn]),w.qOj,w.TTD]}),L})(),mr=(()=>{class L{}return L.\u0275fac=function(O){return new(O||L)},L.\u0275dir=w.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),Wr=(()=>{class L{}return L.\u0275fac=function(O){return new(O||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({}),L})();const fi=new w.OlP("NgModelWithFormControlWarning"),Mi={provide:kt,useExisting:(0,w.Gpc)(()=>es)};let es=(()=>{class L extends kt{constructor(O,Z){super(),this.validators=O,this.asyncValidators=Z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(O),this._setAsyncValidators(Z)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Oe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const Z=this.form.get(O.path);return Mn(Z,O),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),Z}getControl(O){return this.form.get(O.path)}removeControl(O){ge(O.control||null,O,!1),Ji(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,Z){this.form.get(O.path).setValue(Z)}onSubmit(O){return this.submitted=!0,bs(this.form,this.directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const Z=O.control,Pe=this.form.get(O.path);Z!==Pe&&(ge(Z||null,O),Pe instanceof wt&&(Mn(Pe,O),O.control=Pe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const Z=this.form.get(O.path);fn(Z,O),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const Z=this.form.get(O.path);Z&&function(L,P){return Oe(L,P)}(Z,O)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ze(this.form,this),this._oldForm&&Oe(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(We,10),w.Y36(ce,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(O,Z){1&O&&w.NdJ("submit",function(bt){return Z.onSubmit(bt)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Mi]),w.qOj,w.TTD]}),L})();const ts={provide:Ln,useExisting:(0,w.Gpc)(()=>Ts)};let Ts=(()=>{class L extends Ln{constructor(O,Z,Pe,bt,It){super(),this._ngModelWarningConfig=It,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(Z),this._setAsyncValidators(Pe),this.valueAccessor=di(0,bt)}set isDisabled(O){}ngOnChanges(O){this._added||this._setUpControl(),Qn(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return L.\u0275fac=function(O){return new(O||L)(w.Y36(kt,13),w.Y36(We,10),w.Y36(ce,10),w.Y36(ae,10),w.Y36(fi,8))},L.\u0275dir=w.lG2({type:L,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([ts]),w.qOj,w.TTD]}),L._ngModelWarningSentOnce=!1,L})();const Ba={provide:We,useExisting:(0,w.Gpc)(()=>bi),multi:!0};let bi=(()=>{class L{constructor(){this._required=!1}get required(){return this._required}set required(O){this._required=null!=O&&!1!==O&&"false"!=`${O}`,this._onChange&&this._onChange()}validate(O){return this.required?ke(O):null}registerOnValidatorChange(O){this._onChange=O}}return L.\u0275fac=function(O){return new(O||L)},L.\u0275dir=w.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(O,Z){2&O&&w.uIk("required",Z.required?"":null)},inputs:{required:"required"},features:[w._Bn([Ba])]}),L})(),G=(()=>{class L{}return L.\u0275fac=function(O){return new(O||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({imports:[[Wr]]}),L})(),V=(()=>{class L{}return L.\u0275fac=function(O){return new(O||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({imports:[G]}),L})(),K=(()=>{class L{static withConfig(O){return{ngModule:L,providers:[{provide:fi,useValue:O.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(O){return new(O||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({imports:[G]}),L})()},9075:(At,ze,q)=>{"use strict";q.d(ze,{b2:()=>on,H7:()=>ie,q6:()=>On,se:()=>_n});var w=q(8583),v=q(3018);class J extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends J{static makeCurrent(){(0,w.HT)(new Ee)}onAndCancel(le,re,Re){return le.addEventListener(re,Re,!1),()=>{le.removeEventListener(re,Re,!1)}}dispatchEvent(le,re){le.dispatchEvent(re)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,re){return(re=re||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,re){return"window"===re?window:"document"===re?le:"body"===re?le.body:null}getBaseHref(le){const re=(be=be||document.querySelector("base"),be?be.getAttribute("href"):null);return null==re?null:function(ve){Be=Be||document.createElement("a"),Be.setAttribute("href",ve);const le=Be.pathname;return"/"===le.charAt(0)?le:`/${le}`}(re)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,w.Mx)(document.cookie,le)}}let Be,be=null;const ue=new v.OlP("TRANSITION_ID"),ne=[{provide:v.ip1,useFactory:function(ve,le,re){return()=>{re.get(v.CZH).donePromise.then(()=>{const Re=(0,w.q)(),Ge=le.querySelectorAll(`style[ng-transition="${ve}"]`);for(let Ht=0;Ht<Ge.length;Ht++)Re.remove(Ge[Ht])})}},deps:[ue,w.K0,v.zs3],multi:!0}];class ae{static init(){(0,v.VLi)(new ae)}addToWindow(le){v.dqk.getAngularTestability=(Re,Ge=!0)=>{const Ht=le.findTestabilityInTree(Re,Ge);if(null==Ht)throw new Error("Could not find testability for element.");return Ht},v.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(Re=>{const Ge=v.dqk.getAllAngularTestabilities();let Ht=Ge.length,Jt=!1;const Jn=function(Xn){Jt=Jt||Xn,Ht--,0==Ht&&Re(Jt)};Ge.forEach(function(Xn){Xn.whenStable(Jn)})})}findTestabilityInTree(le,re,Re){if(null==re)return null;const Ge=le.getTestability(re);return null!=Ge?Ge:Re?(0,w.q)().isShadowRoot(re)?this.findTestabilityInTree(le,re.host,!0):this.findTestabilityInTree(le,re.parentElement,!0):null}}let oe=(()=>{class ve{build(){return new XMLHttpRequest}}return ve.\u0275fac=function(re){return new(re||ve)},ve.\u0275prov=v.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Se=new v.OlP("EventManagerPlugins");let Ne=(()=>{class ve{constructor(re,Re){this._zone=Re,this._eventNameToPlugin=new Map,re.forEach(Ge=>Ge.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Re,Ge){return this._findPluginFor(Re).addEventListener(re,Re,Ge)}addGlobalEventListener(re,Re,Ge){return this._findPluginFor(Re).addGlobalEventListener(re,Re,Ge)}getZone(){return this._zone}_findPluginFor(re){const Re=this._eventNameToPlugin.get(re);if(Re)return Re;const Ge=this._plugins;for(let Ht=0;Ht<Ge.length;Ht++){const Jt=Ge[Ht];if(Jt.supports(re))return this._eventNameToPlugin.set(re,Jt),Jt}throw new Error(`No event manager plugin found for event ${re}`)}}return ve.\u0275fac=function(re){return new(re||ve)(v.LFG(Se),v.LFG(v.R0b))},ve.\u0275prov=v.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class He{constructor(le){this._doc=le}addGlobalEventListener(le,re,Re){const Ge=(0,w.q)().getGlobalEventTarget(this._doc,le);if(!Ge)throw new Error(`Unsupported event target ${Ge} for event ${re}`);return this.addEventListener(Ge,re,Re)}}let Ae=(()=>{class ve{constructor(){this._stylesSet=new Set}addStyles(re){const Re=new Set;re.forEach(Ge=>{this._stylesSet.has(Ge)||(this._stylesSet.add(Ge),Re.add(Ge))}),this.onStylesAdded(Re)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return ve.\u0275fac=function(re){return new(re||ve)},ve.\u0275prov=v.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),lt=(()=>{class ve extends Ae{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Re,Ge){re.forEach(Ht=>{const Jt=this._doc.createElement("style");Jt.textContent=Ht,Ge.push(Re.appendChild(Jt))})}addHost(re){const Re=[];this._addStylesToHost(this._stylesSet,re,Re),this._hostNodes.set(re,Re)}removeHost(re){const Re=this._hostNodes.get(re);Re&&Re.forEach(Xe),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Re,Ge)=>{this._addStylesToHost(re,Ge,Re)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(Xe))}}return ve.\u0275fac=function(re){return new(re||ve)(v.LFG(w.K0))},ve.\u0275prov=v.Yz7({token:ve,factory:ve.\u0275fac}),ve})();function Xe(ve){(0,w.q)().remove(ve)}const qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ht=/%COMP%/g;function xe(ve,le,re){for(let Re=0;Re<le.length;Re++){let Ge=le[Re];Array.isArray(Ge)?xe(ve,Ge,re):(Ge=Ge.replace(ht,ve),re.push(Ge))}return re}function yt(ve){return le=>{if("__ngUnwrap__"===le)return ve;!1===ve(le)&&(le.preventDefault(),le.returnValue=!1)}}let _n=(()=>{class ve{constructor(re,Re,Ge){this.eventManager=re,this.sharedStylesHost=Re,this.appId=Ge,this.rendererByCompId=new Map,this.defaultRenderer=new jt(re)}createRenderer(re,Re){if(!re||!Re)return this.defaultRenderer;switch(Re.encapsulation){case v.ifc.Emulated:{let Ge=this.rendererByCompId.get(Re.id);return Ge||(Ge=new jn(this.eventManager,this.sharedStylesHost,Re,this.appId),this.rendererByCompId.set(Re.id,Ge)),Ge.applyToHost(re),Ge}case 1:case v.ifc.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,re,Re);default:if(!this.rendererByCompId.has(Re.id)){const Ge=xe(Re.id,Re.styles,[]);this.sharedStylesHost.addStyles(Ge),this.rendererByCompId.set(Re.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ve.\u0275fac=function(re){return new(re||ve)(v.LFG(Ne),v.LFG(lt),v.LFG(v.AFp))},ve.\u0275prov=v.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class jt{constructor(le){this.eventManager=le,this.data=Object.create(null)}destroy(){}createElement(le,re){return re?document.createElementNS(qt[re]||re,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,re){le.appendChild(re)}insertBefore(le,re,Re){le&&le.insertBefore(re,Re)}removeChild(le,re){le&&le.removeChild(re)}selectRootElement(le,re){let Re="string"==typeof le?document.querySelector(le):le;if(!Re)throw new Error(`The selector "${le}" did not match any elements`);return re||(Re.textContent=""),Re}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,re,Re,Ge){if(Ge){re=Ge+":"+re;const Ht=qt[Ge];Ht?le.setAttributeNS(Ht,re,Re):le.setAttribute(re,Re)}else le.setAttribute(re,Re)}removeAttribute(le,re,Re){if(Re){const Ge=qt[Re];Ge?le.removeAttributeNS(Ge,re):le.removeAttribute(`${Re}:${re}`)}else le.removeAttribute(re)}addClass(le,re){le.classList.add(re)}removeClass(le,re){le.classList.remove(re)}setStyle(le,re,Re,Ge){Ge&(v.JOm.DashCase|v.JOm.Important)?le.style.setProperty(re,Re,Ge&v.JOm.Important?"important":""):le.style[re]=Re}removeStyle(le,re,Re){Re&v.JOm.DashCase?le.style.removeProperty(re):le.style[re]=""}setProperty(le,re,Re){le[re]=Re}setValue(le,re){le.nodeValue=re}listen(le,re,Re){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,re,yt(Re)):this.eventManager.addEventListener(le,re,yt(Re))}}class jn extends jt{constructor(le,re,Re,Ge){super(le),this.component=Re;const Ht=xe(Ge+"-"+Re.id,Re.styles,[]);re.addStyles(Ht),this.contentAttr="_ngcontent-%COMP%".replace(ht,Ge+"-"+Re.id),this.hostAttr="_nghost-%COMP%".replace(ht,Ge+"-"+Re.id)}applyToHost(le){super.setAttribute(le,this.hostAttr,"")}createElement(le,re){const Re=super.createElement(le,re);return super.setAttribute(Re,this.contentAttr,""),Re}}class kt extends jt{constructor(le,re,Re,Ge){super(le),this.sharedStylesHost=re,this.hostEl=Re,this.shadowRoot=Re.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ht=xe(Ge.id,Ge.styles,[]);for(let Jt=0;Jt<Ht.length;Jt++){const Jn=document.createElement("style");Jn.textContent=Ht[Jt],this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(le,re){return super.appendChild(this.nodeOrShadowRoot(le),re)}insertBefore(le,re,Re){return super.insertBefore(this.nodeOrShadowRoot(le),re,Re)}removeChild(le,re){return super.removeChild(this.nodeOrShadowRoot(le),re)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}}let Ln=(()=>{class ve extends He{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Re,Ge){return re.addEventListener(Re,Ge,!1),()=>this.removeEventListener(re,Re,Ge)}removeEventListener(re,Re,Ge){return re.removeEventListener(Re,Ge)}}return ve.\u0275fac=function(re){return new(re||ve)(v.LFG(w.K0))},ve.\u0275prov=v.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const wn=["alt","control","meta","shift"],Pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zt={alt:ve=>ve.altKey,control:ve=>ve.ctrlKey,meta:ve=>ve.metaKey,shift:ve=>ve.shiftKey};let Mn=(()=>{class ve extends He{constructor(re){super(re)}supports(re){return null!=ve.parseEventName(re)}addEventListener(re,Re,Ge){const Ht=ve.parseEventName(Re),Jt=ve.eventCallback(Ht.fullKey,Ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(re,Ht.domEventName,Jt))}static parseEventName(re){const Re=re.toLowerCase().split("."),Ge=Re.shift();if(0===Re.length||"keydown"!==Ge&&"keyup"!==Ge)return null;const Ht=ve._normalizeKey(Re.pop());let Jt="";if(wn.forEach(Xn=>{const cr=Re.indexOf(Xn);cr>-1&&(Re.splice(cr,1),Jt+=Xn+".")}),Jt+=Ht,0!=Re.length||0===Ht.length)return null;const Jn={};return Jn.domEventName=Ge,Jn.fullKey=Jt,Jn}static getEventFullKey(re){let Re="",Ge=function(ve){let le=ve.key;if(null==le){if(le=ve.keyIdentifier,null==le)return"Unidentified";le.startsWith("U+")&&(le=String.fromCharCode(parseInt(le.substring(2),16)),3===ve.location&&Yn.hasOwnProperty(le)&&(le=Yn[le]))}return Pt[le]||le}(re);return Ge=Ge.toLowerCase()," "===Ge?Ge="space":"."===Ge&&(Ge="dot"),wn.forEach(Ht=>{Ht!=Ge&&zt[Ht](re)&&(Re+=Ht+".")}),Re+=Ge,Re}static eventCallback(re,Re,Ge){return Ht=>{ve.getEventFullKey(Ht)===re&&Ge.runGuarded(()=>Re(Ht))}}static _normalizeKey(re){switch(re){case"esc":return"escape";default:return re}}}return ve.\u0275fac=function(re){return new(re||ve)(v.LFG(w.K0))},ve.\u0275prov=v.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),ie=(()=>{class ve{}return ve.\u0275fac=function(re){return new(re||ve)},ve.\u0275prov=(0,v.Yz7)({factory:function(){return(0,v.LFG)(Ze)},token:ve,providedIn:"root"}),ve})(),Ze=(()=>{class ve extends ie{constructor(re){super(),this._doc=re}sanitize(re,Re){if(null==Re)return null;switch(re){case v.q3G.NONE:return Re;case v.q3G.HTML:return(0,v.qzn)(Re,"HTML")?(0,v.z3N)(Re):(0,v.EiD)(this._doc,String(Re)).toString();case v.q3G.STYLE:return(0,v.qzn)(Re,"Style")?(0,v.z3N)(Re):Re;case v.q3G.SCRIPT:if((0,v.qzn)(Re,"Script"))return(0,v.z3N)(Re);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.yhl)(Re),(0,v.qzn)(Re,"URL")?(0,v.z3N)(Re):(0,v.mCW)(String(Re));case v.q3G.RESOURCE_URL:if((0,v.qzn)(Re,"ResourceURL"))return(0,v.z3N)(Re);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,v.JVY)(re)}bypassSecurityTrustStyle(re){return(0,v.L6k)(re)}bypassSecurityTrustScript(re){return(0,v.eBb)(re)}bypassSecurityTrustUrl(re){return(0,v.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,v.pB0)(re)}}return ve.\u0275fac=function(re){return new(re||ve)(v.LFG(w.K0))},ve.\u0275prov=(0,v.Yz7)({factory:function(){return function(ve){return new Ze(ve.get(w.K0))}((0,v.LFG)(v.gxx))},token:ve,providedIn:"root"}),ve})();const On=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:w.bD},{provide:v.g9A,useValue:function(){Ee.makeCurrent(),ae.init()},multi:!0},{provide:w.K0,useFactory:function(){return(0,v.RDi)(document),document},deps:[]}]),Qn=[[],{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function(){return new v.qLn},deps:[]},{provide:Se,useClass:Ln,multi:!0,deps:[w.K0,v.R0b,v.Lbi]},{provide:Se,useClass:Mn,multi:!0,deps:[w.K0]},[],{provide:_n,useClass:_n,deps:[Ne,lt,v.AFp]},{provide:v.FYo,useExisting:_n},{provide:Ae,useExisting:lt},{provide:lt,useClass:lt,deps:[w.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:Ne,useClass:Ne,deps:[Se,v.R0b]},{provide:w.JF,useClass:oe,deps:[]},[]];let on=(()=>{class ve{constructor(re){if(re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(re){return{ngModule:ve,providers:[{provide:v.AFp,useValue:re.appId},{provide:ue,useExisting:v.AFp},ne]}}}return ve.\u0275fac=function(re){return new(re||ve)(v.LFG(ve,12))},ve.\u0275mod=v.oAB({type:ve}),ve.\u0275inj=v.cJS({providers:Qn,imports:[w.ez,v.hGG]}),ve})();"undefined"!=typeof window&&window},6575:(At,ze,q)=>{"use strict";q.d(ze,{F0:()=>Pn,rH:()=>Ks,yS:()=>Ci,Bz:()=>Eo,lC:()=>Yl});var w=q(8583),v=q(3018),J=q(9765),Ee=q(7971);class be extends J.xQ{constructor(D){super(),this._value=D}get value(){return this.getValue()}_subscribe(D){const b=super._subscribe(D);return b&&!b.closed&&D.next(this._value),b}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ee.N;return this._value}next(D){super.next(this._value=D)}}var me=q(4869),Be=q(9796),we=q(7393);class ue extends we.L{notifyNext(D,b,x,F,z){this.destination.next(b)}notifyError(D,b){this.destination.error(D)}notifyComplete(D){this.destination.complete()}}class ee extends we.L{constructor(D,b,x){super(),this.parent=D,this.outerValue=b,this.outerIndex=x,this.index=0}_next(D){this.parent.notifyNext(this.outerValue,D,this.outerIndex,this.index++,this)}_error(D){this.parent.notifyError(D,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ne=q(7444),ae=q(7574);function oe(S,D,b,x,F=new ee(S,b,x)){if(!F.closed)return D instanceof ae.y?D.subscribe(F):(0,ne.s)(D)(F)}var ye=q(6693);const Ke={};class Fe{constructor(D){this.resultSelector=D}call(D,b){return b.subscribe(new he(D,this.resultSelector))}}class he extends ue{constructor(D,b){super(D),this.resultSelector=b,this.active=0,this.values=[],this.observables=[]}_next(D){this.values.push(Ke),this.observables.push(D)}_complete(){const D=this.observables,b=D.length;if(0===b)this.destination.complete();else{this.active=b,this.toRespond=b;for(let x=0;x<b;x++)this.add(oe(this,D[x],void 0,x))}}notifyComplete(D){0==(this.active-=1)&&this.destination.complete()}notifyNext(D,b,x){const F=this.values,se=this.toRespond?F[x]===Ke?--this.toRespond:this.toRespond:0;F[x]=b,0===se&&(this.resultSelector?this._tryResultSelector(F):this.destination.next(F.slice()))}_tryResultSelector(D){let b;try{b=this.resultSelector.apply(this,D)}catch(x){return void this.destination.error(x)}this.destination.next(b)}}var nt=q(4402),it=q(9193);function We(S){return new ae.y(D=>{let b;try{b=S()}catch(F){return void D.error(F)}return(b?(0,nt.D)(b):(0,it.c)()).subscribe(D)})}var ce=q(5917),Je=q(3410),Ot=q(8071),Le=q(2441),Qe=q(5345);function ke(S){return function(b){const x=new Ue(S),F=b.lift(x);return x.caught=F}}class Ue{constructor(D){this.selector=D}call(D,b){return b.subscribe(new Se(D,this.selector,this.caught))}}class Se extends Qe.Ds{constructor(D,b,x){super(D),this.selector=b,this.caught=x}error(D){if(!this.isStopped){let b;try{b=this.selector(D,this.caught)}catch(z){return void super.error(z)}this._unsubscribeAndRecycle();const x=new Qe.IY(this);this.add(x);const F=(0,Qe.ft)(b,x);F!==x&&this.add(F)}}}var Ne=q(9773);function He(S,D){return(0,Ne.zg)(S,D,1)}var Ae=q(5435),lt=q(7108);function Xe(S){return function(b){return 0===S?(0,it.c)():b.lift(new qt(S))}}class qt{constructor(D){if(this.total=D,this.total<0)throw new lt.W}call(D,b){return b.subscribe(new ht(D,this.total))}}class ht extends we.L{constructor(D,b){super(D),this.total=b,this.ring=new Array,this.count=0}_next(D){const b=this.ring,x=this.total,F=this.count++;b.length<x?b.push(D):b[F%x]=D}_complete(){const D=this.destination;let b=this.count;if(b>0){const x=this.count>=this.total?this.total:this.count,F=this.ring;for(let z=0;z<x;z++){const se=b++%x;D.next(F[se])}}D.complete()}}var Gt=q(4635),gn=q(5242),kn=q(4487),mt=q(5319);class xe{constructor(D){this.callback=D}call(D,b){return b.subscribe(new yt(D,this.callback))}}class yt extends we.L{constructor(D,b){super(D),this.add(new mt.w(b))}}var _t=q(8002),_n=q(3190),jt=q(5257),hn=q(9761),_r=q(2145),Fn=q(8049),jn=q(8307),kt=q(1307),Ln=q(3282);class Sn{constructor(D,b){this.id=D,this.url=b}}class xn extends Sn{constructor(D,b,x="imperative",F=null){super(D,b),this.navigationTrigger=x,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vn extends Sn{constructor(D,b,x){super(D,b),this.urlAfterRedirects=x}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hn extends Sn{constructor(D,b,x){super(D,b),this.reason=x}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rt extends Sn{constructor(D,b,x){super(D,b),this.error=x}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class at extends Sn{constructor(D,b,x,F){super(D,b),this.urlAfterRedirects=x,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends Sn{constructor(D,b,x,F){super(D,b),this.urlAfterRedirects=x,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends Sn{constructor(D,b,x,F,z){super(D,b),this.urlAfterRedirects=x,this.state=F,this.shouldActivate=z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $n extends Sn{constructor(D,b,x,F){super(D,b),this.urlAfterRedirects=x,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends Sn{constructor(D,b,x,F){super(D,b),this.urlAfterRedirects=x,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pt{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yn{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(D,b,x){this.routerEvent=D,this.position=b,this.anchor=x}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zt="primary";class Mn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b[0]:b}return null}getAll(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function ge(S){return new Mn(S)}const ie="ngNavigationCancelingError";function Me(S){const D=Error("NavigationCancelingError: "+S);return D[ie]=!0,D}function Oe(S,D,b){const x=b.path.split("/");if(x.length>S.length||"full"===b.pathMatch&&(D.hasChildren()||x.length<S.length))return null;const F={};for(let z=0;z<x.length;z++){const se=x[z],_e=S[z];if(se.startsWith(":"))F[se.substring(1)]=_e;else if(se!==_e.path)return null}return{consumed:S.slice(0,x.length),posParams:F}}function xt(S,D){const b=S?Object.keys(S):void 0,x=D?Object.keys(D):void 0;if(!b||!x||b.length!=x.length)return!1;let F;for(let z=0;z<b.length;z++)if(F=b[z],!Xt(S[F],D[F]))return!1;return!0}function Xt(S,D){if(Array.isArray(S)&&Array.isArray(D)){if(S.length!==D.length)return!1;const b=[...S].sort(),x=[...D].sort();return b.every((F,z)=>x[z]===F)}return S===D}function un(S){return Array.prototype.concat.apply([],S)}function fn(S){return S.length>0?S[S.length-1]:null}function tn(S,D){for(const b in S)S.hasOwnProperty(b)&&D(S[b],b)}function On(S){return(0,v.CqO)(S)?S:(0,v.QGY)(S)?(0,nt.D)(Promise.resolve(S)):(0,ce.of)(S)}const on={exact:function hs(S,D,b){if(!sr(S.segments,D.segments)||!Ar(S.segments,D.segments,b)||S.numberOfChildren!==D.numberOfChildren)return!1;for(const x in D.children)if(!S.children[x]||!hs(S.children[x],D.children[x],b))return!1;return!0},subset:ur},bs={exact:function(S,D){return xt(S,D)},subset:function(S,D){return Object.keys(D).length<=Object.keys(S).length&&Object.keys(D).every(b=>Xt(S[b],D[b]))},ignored:()=>!0};function di(S,D,b){return on[b.paths](S.root,D.root,b.matrixParams)&&bs[b.queryParams](S.queryParams,D.queryParams)&&!("exact"===b.fragment&&S.fragment!==D.fragment)}function ur(S,D,b){return ir(S,D,D.segments,b)}function ir(S,D,b,x){if(S.segments.length>b.length){const F=S.segments.slice(0,b.length);return!(!sr(F,b)||D.hasChildren()||!Ar(F,b,x))}if(S.segments.length===b.length){if(!sr(S.segments,b)||!Ar(S.segments,b,x))return!1;for(const F in D.children)if(!S.children[F]||!ur(S.children[F],D.children[F],x))return!1;return!0}{const F=b.slice(0,S.segments.length),z=b.slice(S.segments.length);return!!(sr(S.segments,F)&&Ar(S.segments,F,x)&&S.children[zt])&&ir(S.children[zt],D,z,x)}}function Ar(S,D,b){return D.every((x,F)=>bs[b](S[F].parameters,x.parameters))}class Lr{constructor(D,b,x){this.root=D,this.queryParams=b,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ge(this.queryParams)),this._queryParamMap}toString(){return Qt.serialize(this)}}class Dt{constructor(D,b){this.segments=D,this.children=b,this.parent=null,tn(b,(x,F)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bn(this)}}class Sr{constructor(D,b){this.path=D,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=ge(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function sr(S,D){return S.length===D.length&&S.every((b,x)=>b.path===D[x].path)}class En{}class wt{parse(D){const b=new Gn(D);return new Lr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(D){var S;return`${`/${gr(D.root,!0)}`}${function(S){const D=Object.keys(S).map(b=>{const x=S[b];return Array.isArray(x)?x.map(F=>`${Vn(b)}=${Vn(F)}`).join("&"):`${Vn(b)}=${Vn(x)}`}).filter(b=>!!b);return D.length?`?${D.join("&")}`:""}(D.queryParams)}${"string"==typeof D.fragment?`#${S=D.fragment,encodeURI(S)}`:""}`}}const Qt=new wt;function Bn(S){return S.segments.map(D=>Ge(D)).join("/")}function gr(S,D){if(!S.hasChildren())return Bn(S);if(D){const b=S.children[zt]?gr(S.children[zt],!1):"",x=[];return tn(S.children,(F,z)=>{z!==zt&&x.push(`${z}:${gr(F,!1)}`)}),x.length>0?`${b}(${x.join("//")})`:b}{const b=function(S,D){let b=[];return tn(S.children,(x,F)=>{F===zt&&(b=b.concat(D(x,F)))}),tn(S.children,(x,F)=>{F!==zt&&(b=b.concat(D(x,F)))}),b}(S,(x,F)=>F===zt?[gr(S.children[zt],!1)]:[`${F}:${gr(x,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[zt]?`${Bn(S)}/${b[0]}`:`${Bn(S)}/(${b.join("//")})`}}function hi(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vn(S){return hi(S).replace(/%3B/gi,";")}function le(S){return hi(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(S){return decodeURIComponent(S)}function Re(S){return re(S.replace(/\+/g,"%20"))}function Ge(S){return`${le(S.path)}${function(S){return Object.keys(S).map(D=>`;${le(D)}=${le(S[D])}`).join("")}(S.parameters)}`}const Jn=/^[^\/()?;=#]+/;function Xn(S){const D=S.match(Jn);return D?D[0]:""}const cr=/^[^=?&#]+/,ji=/^[^?&#]+/;class Gn{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(D.length>0||Object.keys(b).length>0)&&(x[zt]=new Dt(D,b)),x}parseSegment(){const D=Xn(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new Sr(re(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const b=Xn(this.remaining);if(!b)return;this.capture(b);let x="";if(this.consumeOptional("=")){const F=Xn(this.remaining);F&&(x=F,this.capture(x))}D[re(b)]=re(x)}parseQueryParam(D){const b=function(S){const D=S.match(cr);return D?D[0]:""}(this.remaining);if(!b)return;this.capture(b);let x="";if(this.consumeOptional("=")){const se=function(S){const D=S.match(ji);return D?D[0]:""}(this.remaining);se&&(x=se,this.capture(x))}const F=Re(b),z=Re(x);if(D.hasOwnProperty(F)){let se=D[F];Array.isArray(se)||(se=[se],D[F]=se),se.push(z)}else D[F]=z}parseParens(D){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=Xn(this.remaining),F=this.remaining[x.length];if("/"!==F&&")"!==F&&";"!==F)throw new Error(`Cannot parse url '${this.url}'`);let z;x.indexOf(":")>-1?(z=x.substr(0,x.indexOf(":")),this.capture(z),this.capture(":")):D&&(z=zt);const se=this.parseChildren();b[z]=1===Object.keys(se).length?se[zt]:new Dt([],se),this.consumeOptional("//")}return b}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class fs{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const b=this.pathFromRoot(D);return b.length>1?b[b.length-2]:null}children(D){const b=Zt(D,this._root);return b?b.children.map(x=>x.value):[]}firstChild(D){const b=Zt(D,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(D){const b=Hi(D,this._root);return b.length<2?[]:b[b.length-2].children.map(F=>F.value).filter(F=>F!==D)}pathFromRoot(D){return Hi(D,this._root).map(b=>b.value)}}function Zt(S,D){if(S===D.value)return D;for(const b of D.children){const x=Zt(S,b);if(x)return x}return null}function Hi(S,D){if(S===D.value)return[D];for(const b of D.children){const x=Hi(S,b);if(x.length)return x.unshift(D),x}return[]}class Wr{constructor(D,b){this.value=D,this.children=b}toString(){return`TreeNode(${this.value})`}}function Ei(S){const D={};return S&&S.children.forEach(b=>D[b.value.outlet]=b),D}class Xi extends fs{constructor(D,b){super(D),this.snapshot=b,wr(this,D)}toString(){return this.snapshot.toString()}}function Vr(S,D){const b=function(S,D){const se=new Mi([],{},{},"",{},zt,D,null,S.root,-1,{});return new es("",new Wr(se,[]))}(S,D),x=new be([new Sr("",{})]),F=new be({}),z=new be({}),se=new be({}),_e=new be(""),st=new fi(x,F,se,_e,z,zt,D,b.root);return st.snapshot=b.root,new Xi(new Wr(st,[]),b)}class fi{constructor(D,b,x,F,z,se,_e,st){this.url=D,this.params=b,this.queryParams=x,this.fragment=F,this.data=z,this.outlet=se,this.component=_e,this._futureSnapshot=st}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(D=>ge(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(D=>ge(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ur(S,D="emptyOnly"){const b=S.pathFromRoot;let x=0;if("always"!==D)for(x=b.length-1;x>=1;){const F=b[x],z=b[x-1];if(F.routeConfig&&""===F.routeConfig.path)x--;else{if(z.component)break;x--}}return function(S){return S.reduce((D,b)=>({params:Object.assign(Object.assign({},D.params),b.params),data:Object.assign(Object.assign({},D.data),b.data),resolve:Object.assign(Object.assign({},D.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(x))}class Mi{constructor(D,b,x,F,z,se,_e,st,St,zn,Kt){this.url=D,this.params=b,this.queryParams=x,this.fragment=F,this.data=z,this.outlet=se,this.component=_e,this.routeConfig=st,this._urlSegment=St,this._lastPathIndex=zn,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class es extends fs{constructor(D,b){super(b),this.url=D,wr(this,b)}toString(){return Cr(this._root)}}function wr(S,D){D.value._routerState=S,D.children.forEach(b=>wr(S,b))}function Cr(S){const D=S.children.length>0?` { ${S.children.map(Cr).join(", ")} } `:"";return`${S.value}${D}`}function Is(S){if(S.snapshot){const D=S.snapshot,b=S._futureSnapshot;S.snapshot=b,xt(D.queryParams,b.queryParams)||S.queryParams.next(b.queryParams),D.fragment!==b.fragment&&S.fragment.next(b.fragment),xt(D.params,b.params)||S.params.next(b.params),function(S,D){if(S.length!==D.length)return!1;for(let b=0;b<S.length;++b)if(!xt(S[b],D[b]))return!1;return!0}(D.url,b.url)||S.url.next(b.url),xt(D.data,b.data)||S.data.next(b.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Ri(S,D){return xt(S.params,D.params)&&function(S,D){return sr(S,D)&&S.every((b,x)=>xt(b.parameters,D[x].parameters))}(S.url,D.url)&&!(!S.parent!=!D.parent)&&(!S.parent||Ri(S.parent,D.parent))}function ts(S,D,b){if(b&&S.shouldReuseRoute(D.value,b.value.snapshot)){const x=b.value;x._futureSnapshot=D.value;const F=function(S,D,b){return D.children.map(x=>{for(const F of b.children)if(S.shouldReuseRoute(x.value,F.value.snapshot))return ts(S,x,F);return ts(S,x)})}(S,D,b);return new Wr(x,F)}{if(S.shouldAttach(D.value)){const z=S.retrieve(D.value);if(null!==z){const se=z.route;return Ts(D,se),se}}const x=function(S){return new fi(new be(S.url),new be(S.params),new be(S.queryParams),new be(S.fragment),new be(S.data),S.outlet,S.component,S)}(D.value),F=D.children.map(z=>ts(S,z));return new Wr(x,F)}}function Ts(S,D){if(S.value.routeConfig!==D.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(S.children.length!==D.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");D.value._futureSnapshot=S.value;for(let b=0;b<S.children.length;++b)Ts(S.children[b],D.children[b])}function pi(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function $i(S){return"object"==typeof S&&null!=S&&S.outlets}function Gs(S,D,b,x,F){let z={};return x&&tn(x,(se,_e)=>{z[_e]=Array.isArray(se)?se.map(st=>`${st}`):`${se}`}),new Lr(b.root===S?D:ns(b.root,S,D),z,F)}function ns(S,D,b){const x={};return tn(S.children,(F,z)=>{x[z]=F===D?b:ns(F,D,b)}),new Dt(S.segments,x)}class _o{constructor(D,b,x){if(this.isAbsolute=D,this.numberOfDoubleDots=b,this.commands=x,D&&x.length>0&&pi(x[0]))throw new Error("Root segment cannot have matrix parameters");const F=x.find($i);if(F&&F!==fn(x))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gi{constructor(D,b,x){this.segmentGroup=D,this.processChildren=b,this.index=x}}function Ss(S,D,b){if(S||(S=new Dt([],{})),0===S.segments.length&&S.hasChildren())return ki(S,D,b);const x=function(S,D,b){let x=0,F=D;const z={match:!1,pathIndex:0,commandIndex:0};for(;F<S.segments.length;){if(x>=b.length)return z;const se=S.segments[F],_e=b[x];if($i(_e))break;const st=`${_e}`,St=x<b.length-1?b[x+1]:null;if(F>0&&void 0===st)break;if(st&&St&&"object"==typeof St&&void 0===St.outlets){if(!bi(st,St,se))return z;x+=2}else{if(!bi(st,{},se))return z;x++}F++}return{match:!0,pathIndex:F,commandIndex:x}}(S,D,b),F=b.slice(x.commandIndex);if(x.match&&x.pathIndex<S.segments.length){const z=new Dt(S.segments.slice(0,x.pathIndex),{});return z.children[zt]=new Dt(S.segments.slice(x.pathIndex),S.children),ki(z,0,F)}return x.match&&0===F.length?new Dt(S.segments,{}):x.match&&!S.hasChildren()?Fi(S,D,b):x.match?ki(S,0,F):Fi(S,D,b)}function ki(S,D,b){if(0===b.length)return new Dt(S.segments,{});{const x=function(S){return $i(S[0])?S[0].outlets:{[zt]:S}}(b),F={};return tn(x,(z,se)=>{"string"==typeof z&&(z=[z]),null!==z&&(F[se]=Ss(S.children[se],D,z))}),tn(S.children,(z,se)=>{void 0===x[se]&&(F[se]=z)}),new Dt(S.segments,F)}}function Fi(S,D,b){const x=S.segments.slice(0,D);let F=0;for(;F<b.length;){const z=b[F];if($i(z)){const st=Ba(z.outlets);return new Dt(x,st)}if(0===F&&pi(b[0])){x.push(new Sr(S.segments[D].path,mi(b[0]))),F++;continue}const se=$i(z)?z.outlets[zt]:`${z}`,_e=F<b.length-1?b[F+1]:null;se&&_e&&pi(_e)?(x.push(new Sr(se,mi(_e))),F+=2):(x.push(new Sr(se,{})),F++)}return new Dt(x,{})}function Ba(S){const D={};return tn(S,(b,x)=>{"string"==typeof b&&(b=[b]),null!==b&&(D[x]=Fi(new Dt([],{}),0,b))}),D}function mi(S){const D={};return tn(S,(b,x)=>D[x]=`${b}`),D}function bi(S,D,b){return S==b.path&&xt(D,b.parameters)}class xs{constructor(D,b,x,F){this.routeReuseStrategy=D,this.futureState=b,this.currState=x,this.forwardEvent=F}activate(D){const b=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,x,D),Is(this.futureState.root),this.activateChildRoutes(b,x,D)}deactivateChildRoutes(D,b,x){const F=Ei(b);D.children.forEach(z=>{const se=z.value.outlet;this.deactivateRoutes(z,F[se],x),delete F[se]}),tn(F,(z,se)=>{this.deactivateRouteAndItsChildren(z,x)})}deactivateRoutes(D,b,x){const F=D.value,z=b?b.value:null;if(F===z)if(F.component){const se=x.getContext(F.outlet);se&&this.deactivateChildRoutes(D,b,se.children)}else this.deactivateChildRoutes(D,b,x);else z&&this.deactivateRouteAndItsChildren(b,x)}deactivateRouteAndItsChildren(D,b){this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,b):this.deactivateRouteAndOutlet(D,b)}detachAndStoreRouteSubtree(D,b){const x=b.getContext(D.value.outlet);if(x&&x.outlet){const F=x.outlet.detach(),z=x.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:F,route:D,contexts:z})}}deactivateRouteAndOutlet(D,b){const x=b.getContext(D.value.outlet),F=x&&D.value.component?x.children:b,z=Ei(D);for(const se of Object.keys(z))this.deactivateRouteAndItsChildren(z[se],F);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(D,b,x){const F=Ei(b);D.children.forEach(z=>{this.activateRoutes(z,F[z.value.outlet],x),this.forwardEvent(new qn(z.value.snapshot))}),D.children.length&&this.forwardEvent(new Bi(D.value.snapshot))}activateRoutes(D,b,x){const F=D.value,z=b?b.value:null;if(Is(F),F===z)if(F.component){const se=x.getOrCreateContext(F.outlet);this.activateChildRoutes(D,b,se.children)}else this.activateChildRoutes(D,b,x);else if(F.component){const se=x.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const _e=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),se.children.onOutletReAttached(_e.contexts),se.attachRef=_e.componentRef,se.route=_e.route.value,se.outlet&&se.outlet.attach(_e.componentRef,_e.route.value),Kr(_e.route)}else{const _e=function(S){for(let D=S.parent;D;D=D.parent){const b=D.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(F.snapshot),st=_e?_e.module.componentFactoryResolver:null;se.attachRef=null,se.route=F,se.resolver=st,se.outlet&&se.outlet.activateWith(F,st),this.activateChildRoutes(D,null,se.children)}}else this.activateChildRoutes(D,null,x)}}function Kr(S){Is(S.value),S.children.forEach(Kr)}class so{constructor(D,b){this.routes=D,this.module=b}}function Br(S){return"function"==typeof S}function jr(S){return S instanceof Lr}const G=Symbol("INITIAL_VALUE");function V(){return(0,_n.w)(S=>function(...S){let D,b;return(0,me.K)(S[S.length-1])&&(b=S.pop()),"function"==typeof S[S.length-1]&&(D=S.pop()),1===S.length&&(0,Be.k)(S[0])&&(S=S[0]),(0,ye.n)(S,b).lift(new Fe(D))}(S.map(D=>D.pipe((0,jt.q)(1),(0,hn.O)(G)))).pipe((0,_r.R)((D,b)=>{let x=!1;return b.reduce((F,z,se)=>F!==G?F:(z===G&&(x=!0),x||!1!==z&&se!==b.length-1&&!jr(z)?F:z),D)},G),(0,Ae.h)(D=>D!==G),(0,_t.U)(D=>jr(D)?D:!0===D),(0,jt.q)(1)))}let K=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275cmp=v.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,x){1&b&&v._UZ(0,"router-outlet")},directives:function(){return[Yl]},encapsulation:2}),S})();function fe(S,D=""){for(let b=0;b<S.length;b++){const x=S[b];$e(x,gt(D,x))}}function $e(S,D){S.children&&fe(S.children,D)}function gt(S,D){return D?S||D.path?S&&!D.path?`${S}/`:!S&&D.path?D.path:`${S}/${D.path}`:"":S}function L(S){const D=S.children&&S.children.map(L),b=D?Object.assign(Object.assign({},S),{children:D}):Object.assign({},S);return!b.component&&(D||b.loadChildren)&&b.outlet&&b.outlet!==zt&&(b.component=K),b}function P(S){return S.outlet||zt}function O(S,D){const b=S.filter(x=>P(x)===D);return b.push(...S.filter(x=>P(x)!==D)),b}const Z={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Pe(S,D,b){var x;if(""===D.path)return"full"===D.pathMatch&&(S.hasChildren()||b.length>0)?Object.assign({},Z):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const z=(D.matcher||Oe)(b,S,D);if(!z)return Object.assign({},Z);const se={};tn(z.posParams,(st,St)=>{se[St]=st.path});const _e=z.consumed.length>0?Object.assign(Object.assign({},se),z.consumed[z.consumed.length-1].parameters):se;return{matched:!0,consumedSegments:z.consumed,lastChild:z.consumed.length,parameters:_e,positionalParamSegments:null!==(x=z.posParams)&&void 0!==x?x:{}}}function bt(S,D,b,x,F="corrected"){if(b.length>0&&function(S,D,b){return b.some(x=>Un(S,D,x)&&P(x)!==zt)}(S,b,x)){const se=new Dt(D,function(S,D,b,x){const F={};F[zt]=x,x._sourceSegment=S,x._segmentIndexShift=D.length;for(const z of b)if(""===z.path&&P(z)!==zt){const se=new Dt([],{});se._sourceSegment=S,se._segmentIndexShift=D.length,F[P(z)]=se}return F}(S,D,x,new Dt(b,S.children)));return se._sourceSegment=S,se._segmentIndexShift=D.length,{segmentGroup:se,slicedSegments:[]}}if(0===b.length&&function(S,D,b){return b.some(x=>Un(S,D,x))}(S,b,x)){const se=new Dt(S.segments,function(S,D,b,x,F,z){const se={};for(const _e of x)if(Un(S,b,_e)&&!F[P(_e)]){const st=new Dt([],{});st._sourceSegment=S,st._segmentIndexShift="legacy"===z?S.segments.length:D.length,se[P(_e)]=st}return Object.assign(Object.assign({},F),se)}(S,D,b,x,S.children,F));return se._sourceSegment=S,se._segmentIndexShift=D.length,{segmentGroup:se,slicedSegments:b}}const z=new Dt(S.segments,S.children);return z._sourceSegment=S,z._segmentIndexShift=D.length,{segmentGroup:z,slicedSegments:b}}function Un(S,D,b){return(!(S.hasChildren()||D.length>0)||"full"!==b.pathMatch)&&""===b.path}function Hr(S,D,b,x){return!!(P(S)===x||x!==zt&&Un(D,b,S))&&("**"===S.path||Pe(D,S,b).matched)}function ps(S,D,b){return 0===D.length&&!S.children[b]}class $r{constructor(D){this.segmentGroup=D||null}}class Gi{constructor(D){this.urlTree=D}}function vo(S){return new ae.y(D=>D.error(new $r(S)))}function la(S){return new ae.y(D=>D.error(new Gi(S)))}function nn(S){return new ae.y(D=>D.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S}'`)))}class ul{constructor(D,b,x,F,z){this.configLoader=b,this.urlSerializer=x,this.urlTree=F,this.config=z,this.allowRedirects=!0,this.ngModule=D.get(v.h0i)}apply(){const D=bt(this.urlTree.root,[],[],this.config).segmentGroup,b=new Dt(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,b,zt).pipe((0,_t.U)(z=>this.createUrlTree(ua(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ke(z=>{if(z instanceof Gi)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof $r?this.noMatchError(z):z}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,zt).pipe((0,_t.U)(F=>this.createUrlTree(ua(F),D.queryParams,D.fragment))).pipe(ke(F=>{throw F instanceof $r?this.noMatchError(F):F}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,b,x){const F=D.segments.length>0?new Dt([],{[zt]:D}):D;return new Lr(F,b,x)}expandSegmentGroup(D,b,x,F){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(D,b,x).pipe((0,_t.U)(z=>new Dt([],z))):this.expandSegment(D,x,b,x.segments,F,!0)}expandChildren(D,b,x){const F=[];for(const z of Object.keys(x.children))"primary"===z?F.unshift(z):F.push(z);return(0,nt.D)(F).pipe(He(z=>{const se=x.children[z],_e=O(b,z);return this.expandSegmentGroup(D,_e,se,z).pipe((0,_t.U)(st=>({segment:st,outlet:z})))}),(0,_r.R)((z,se)=>(z[se.outlet]=se.segment,z),{}),function(S,D){const b=arguments.length>=2;return x=>x.pipe(S?(0,Ae.h)((F,z)=>S(F,z,x)):kn.y,Xe(1),b?(0,gn.d)(D):(0,Gt.T)(()=>new Je.K))}())}expandSegment(D,b,x,F,z,se){return(0,nt.D)(x).pipe(He(_e=>this.expandSegmentAgainstRoute(D,b,x,_e,F,z,se).pipe(ke(St=>{if(St instanceof $r)return(0,ce.of)(null);throw St}))),(0,Fn.P)(_e=>!!_e),ke((_e,st)=>{if(_e instanceof Je.K||"EmptyError"===_e.name){if(ps(b,F,z))return(0,ce.of)(new Dt([],{}));throw new $r(b)}throw _e}))}expandSegmentAgainstRoute(D,b,x,F,z,se,_e){return Hr(F,b,z,se)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(D,b,F,z,se):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,b,x,F,z,se):vo(b):vo(b)}expandSegmentAgainstRouteUsingRedirect(D,b,x,F,z,se){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,x,F,se):this.expandRegularSegmentAgainstRouteUsingRedirect(D,b,x,F,z,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,b,x,F){const z=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?la(z):this.lineralizeSegments(x,z).pipe((0,Ne.zg)(se=>{const _e=new Dt(se,{});return this.expandSegment(D,_e,b,se,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,b,x,F,z,se){const{matched:_e,consumedSegments:st,lastChild:St,positionalParamSegments:zn}=Pe(b,F,z);if(!_e)return vo(b);const Kt=this.applyRedirectCommands(st,F.redirectTo,zn);return F.redirectTo.startsWith("/")?la(Kt):this.lineralizeSegments(F,Kt).pipe((0,Ne.zg)(In=>this.expandSegment(D,b,x,In.concat(z.slice(St)),se,!1)))}matchSegmentAgainstRoute(D,b,x,F,z){if("**"===x.path)return x.loadChildren?(x._loadedConfig?(0,ce.of)(x._loadedConfig):this.configLoader.load(D.injector,x)).pipe((0,_t.U)(In=>(x._loadedConfig=In,new Dt(F,{})))):(0,ce.of)(new Dt(F,{}));const{matched:se,consumedSegments:_e,lastChild:st}=Pe(b,x,F);if(!se)return vo(b);const St=F.slice(st);return this.getChildConfig(D,x,F).pipe((0,Ne.zg)(Kt=>{const In=Kt.module,bn=Kt.routes,{segmentGroup:os,slicedSegments:an}=bt(b,_e,St,bn),ui=new Dt(os.segments,os.children);if(0===an.length&&ui.hasChildren())return this.expandChildren(In,bn,ui).pipe((0,_t.U)(zu=>new Dt(_e,zu)));if(0===bn.length&&0===an.length)return(0,ce.of)(new Dt(_e,{}));const Go=P(x)===z;return this.expandSegment(In,ui,bn,an,Go?zt:z,!0).pipe((0,_t.U)(rn=>new Dt(_e.concat(rn.segments),rn.children)))}))}getChildConfig(D,b,x){return b.children?(0,ce.of)(new so(b.children,D)):b.loadChildren?void 0!==b._loadedConfig?(0,ce.of)(b._loadedConfig):this.runCanLoadGuards(D.injector,b,x).pipe((0,Ne.zg)(F=>{return F?this.configLoader.load(D.injector,b).pipe((0,_t.U)(z=>(b._loadedConfig=z,z))):(S=b,new ae.y(D=>D.error(Me(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`))));var S})):(0,ce.of)(new so([],D))}runCanLoadGuards(D,b,x){const F=b.canLoad;if(!F||0===F.length)return(0,ce.of)(!0);const z=F.map(se=>{const _e=D.get(se);let st;if((S=_e)&&Br(S.canLoad))st=_e.canLoad(b,x);else{if(!Br(_e))throw new Error("Invalid CanLoad guard");st=_e(b,x)}var S;return On(st)});return(0,ce.of)(z).pipe(V(),(0,jn.b)(se=>{if(!jr(se))return;const _e=Me(`Redirecting to "${this.urlSerializer.serialize(se)}"`);throw _e.url=se,_e}),(0,_t.U)(se=>!0===se))}lineralizeSegments(D,b){let x=[],F=b.root;for(;;){if(x=x.concat(F.segments),0===F.numberOfChildren)return(0,ce.of)(x);if(F.numberOfChildren>1||!F.children[zt])return nn(D.redirectTo);F=F.children[zt]}}applyRedirectCommands(D,b,x){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),D,x)}applyRedirectCreatreUrlTree(D,b,x,F){const z=this.createSegmentGroup(D,b.root,x,F);return new Lr(z,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(D,b){const x={};return tn(D,(F,z)=>{if("string"==typeof F&&F.startsWith(":")){const _e=F.substring(1);x[z]=b[_e]}else x[z]=F}),x}createSegmentGroup(D,b,x,F){const z=this.createSegments(D,b.segments,x,F);let se={};return tn(b.children,(_e,st)=>{se[st]=this.createSegmentGroup(D,_e,x,F)}),new Dt(z,se)}createSegments(D,b,x,F){return b.map(z=>z.path.startsWith(":")?this.findPosParam(D,z,F):this.findOrReturn(z,x))}findPosParam(D,b,x){const F=x[b.path.substring(1)];if(!F)throw new Error(`Cannot redirect to '${D}'. Cannot find '${b.path}'.`);return F}findOrReturn(D,b){let x=0;for(const F of b){if(F.path===D.path)return b.splice(x),F;x++}return D}}function ua(S){const D={};for(const x of Object.keys(S.children)){const z=ua(S.children[x]);(z.segments.length>0||z.hasChildren())&&(D[x]=z)}return function(S){if(1===S.numberOfChildren&&S.children[zt]){const D=S.children[zt];return new Dt(S.segments.concat(D.segments),D.children)}return S}(new Dt(S.segments,D))}class Gl{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class dt{constructor(D,b){this.component=D,this.route=b}}function Rn(S,D,b){const x=S._root;return gs(x,D?D._root:null,b,[x.value])}function or(S,D,b){const x=function(S){if(!S)return null;for(let D=S.parent;D;D=D.parent){const b=D.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(D);return(x?x.module.injector:b).get(S)}function gs(S,D,b,x,F={canDeactivateChecks:[],canActivateChecks:[]}){const z=Ei(D);return S.children.forEach(se=>{(function(S,D,b,x,F={canDeactivateChecks:[],canActivateChecks:[]}){const z=S.value,se=D?D.value:null,_e=b?b.getContext(S.value.outlet):null;if(se&&z.routeConfig===se.routeConfig){const st=function(S,D,b){if("function"==typeof b)return b(S,D);switch(b){case"pathParamsChange":return!sr(S.url,D.url);case"pathParamsOrQueryParamsChange":return!sr(S.url,D.url)||!xt(S.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ri(S,D)||!xt(S.queryParams,D.queryParams);case"paramsChange":default:return!Ri(S,D)}}(se,z,z.routeConfig.runGuardsAndResolvers);st?F.canActivateChecks.push(new Gl(x)):(z.data=se.data,z._resolvedData=se._resolvedData),gs(S,D,z.component?_e?_e.children:null:b,x,F),st&&_e&&_e.outlet&&_e.outlet.isActivated&&F.canDeactivateChecks.push(new dt(_e.outlet.component,se))}else se&&ms(D,_e,F),F.canActivateChecks.push(new Gl(x)),gs(S,null,z.component?_e?_e.children:null:b,x,F)})(se,z[se.value.outlet],b,x.concat([se.value]),F),delete z[se.value.outlet]}),tn(z,(se,_e)=>ms(se,b.getContext(_e),F)),F}function ms(S,D,b){const x=Ei(S),F=S.value;tn(x,(z,se)=>{ms(z,F.component?D?D.children.getContext(se):null:D,b)}),b.canDeactivateChecks.push(new dt(F.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,F))}class Rs{}function lo(S){return new ae.y(D=>D.error(S))}class $u{constructor(D,b,x,F,z,se){this.rootComponentType=D,this.config=b,this.urlTree=x,this.url=F,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=se}recognize(){const D=bt(this.urlTree.root,[],[],this.config.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,D,zt);if(null===b)return null;const x=new Mi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new Wr(x,b),z=new es(this.url,F);return this.inheritParamsAndData(z._root),z}inheritParamsAndData(D){const b=D.value,x=Ur(b,this.paramsInheritanceStrategy);b.params=Object.freeze(x.params),b.data=Object.freeze(x.data),D.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(D,b,x){return 0===b.segments.length&&b.hasChildren()?this.processChildren(D,b):this.processSegment(D,b,b.segments,x)}processChildren(D,b){const x=[];for(const z of Object.keys(b.children)){const se=b.children[z],_e=O(D,z),st=this.processSegmentGroup(_e,se,z);if(null===st)return null;x.push(...st)}const F=ys(x);return F.sort((D,b)=>D.value.outlet===zt?-1:b.value.outlet===zt?1:D.value.outlet.localeCompare(b.value.outlet)),F}processSegment(D,b,x,F){for(const z of D){const se=this.processSegmentAgainstRoute(z,b,x,F);if(null!==se)return se}return ps(b,x,F)?[]:null}processSegmentAgainstRoute(D,b,x,F){if(D.redirectTo||!Hr(D,b,x,F))return null;let z,se=[],_e=[];if("**"===D.path){const bn=x.length>0?fn(x).parameters:{};z=new Mi(x,bn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jo(D),P(D),D.component,D,Wl(b),Ga(b)+x.length,za(D))}else{const bn=Pe(b,D,x);if(!bn.matched)return null;se=bn.consumedSegments,_e=x.slice(bn.lastChild),z=new Mi(se,bn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jo(D),P(D),D.component,D,Wl(b),Ga(b)+se.length,za(D))}const st=(S=D).children?S.children:S.loadChildren?S._loadedConfig.routes:[],{segmentGroup:St,slicedSegments:zn}=bt(b,se,_e,st.filter(bn=>void 0===bn.redirectTo),this.relativeLinkResolution);var S;if(0===zn.length&&St.hasChildren()){const bn=this.processChildren(st,St);return null===bn?null:[new Wr(z,bn)]}if(0===st.length&&0===zn.length)return[new Wr(z,[])];const Kt=P(D)===F,In=this.processSegment(st,St,zn,Kt?zt:F);return null===In?null:[new Wr(z,In)]}}function cl(S){const D=S.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function ys(S){const D=[],b=new Set;for(const x of S){if(!cl(x)){D.push(x);continue}const F=D.find(z=>x.value.routeConfig===z.value.routeConfig);void 0!==F?(F.children.push(...x.children),b.add(F)):D.push(x)}for(const x of b){const F=ys(x.children);D.push(new Wr(x.value,F))}return D.filter(x=>!b.has(x))}function Wl(S){let D=S;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Ga(S){let D=S,b=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,b+=D._segmentIndexShift?D._segmentIndexShift:0;return b-1}function jo(S){return S.data||{}}function za(S){return S.resolve||{}}function Wa(S){return(0,_n.w)(D=>{const b=S(D);return b?(0,nt.D)(b).pipe((0,_t.U)(()=>D)):(0,ce.of)(D)})}class dr extends class{shouldDetach(D){return!1}store(D,b){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,b){return D.routeConfig===b.routeConfig}}{}const zi=new v.OlP("ROUTES");class Ho{constructor(D,b,x,F){this.loader=D,this.compiler=b,this.onLoadStartListener=x,this.onLoadEndListener=F}load(D,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const F=this.loadModuleFactory(b.loadChildren).pipe((0,_t.U)(z=>{this.onLoadEndListener&&this.onLoadEndListener(b);const se=z.create(D);return new so(un(se.injector.get(zi,void 0,v.XFs.Self|v.XFs.Optional)).map(L),se)}),ke(z=>{throw b._loader$=void 0,z}));return b._loader$=new Le.c(F,()=>new J.xQ).pipe((0,kt.x)()),b._loader$}loadModuleFactory(D){return"string"==typeof D?(0,nt.D)(this.loader.load(D)):On(D()).pipe((0,Ne.zg)(b=>b instanceof v.YKP?(0,ce.of)(b):(0,nt.D)(this.compiler.compileModuleAsync(b))))}}class fa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vi,this.attachRef=null}}class Vi{constructor(){this.contexts=new Map}onChildOutletCreated(D,b){const x=this.getOrCreateContext(D);x.outlet=b,this.contexts.set(D,x)}onChildOutletDestroyed(D){const b=this.getContext(D);b&&(b.outlet=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let b=this.getContext(D);return b||(b=new fa,this.contexts.set(D,b)),b}getContext(D){return this.contexts.get(D)||null}}class M{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,b){return D}}function N(S){throw S}function $(S,D,b){return D.parse("/")}function pe(S,D){return(0,ce.of)(null)}const ct={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class S{constructor(b,x,F,z,se,_e,st,St){this.rootComponentType=b,this.urlSerializer=x,this.rootContexts=F,this.location=z,this.config=St,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new J.xQ,this.errorHandler=N,this.malformedUriErrorHandler=$,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pe,afterPreactivation:pe},this.urlHandlingStrategy=new M,this.routeReuseStrategy=new dr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=se.get(v.h0i),this.console=se.get(v.c2e);const In=se.get(v.R0b);this.isNgZoneEnabled=In instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(St),this.currentUrlTree=new Lr(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ho(_e,st,bn=>this.triggerEvent(new Mt(bn)),bn=>this.triggerEvent(new Pt(bn))),this.routerState=Vr(this.currentUrlTree,this.rootComponentType),this.transitions=new be({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const x=this.events;return b.pipe((0,Ae.h)(F=>0!==F.id),(0,_t.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,_n.w)(F=>{let z=!1,se=!1;return(0,ce.of)(F).pipe((0,jn.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.currentRawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,_n.w)(_e=>{const st=this.browserUrlTree.toString(),St=!this.navigated||_e.extractedUrl.toString()!==st||st!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||St)&&this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return Tr(_e.source)&&(this.browserUrlTree=_e.extractedUrl),(0,ce.of)(_e).pipe((0,_n.w)(Kt=>{const In=this.transitions.getValue();return x.next(new xn(Kt.id,this.serializeUrl(Kt.extractedUrl),Kt.source,Kt.restoredState)),In!==this.transitions.getValue()?it.E:Promise.resolve(Kt)}),function(S,D,b,x){return(0,_n.w)(F=>function(S,D,b,x,F){return new ul(S,D,b,x,F).apply()}(S,D,b,F.extractedUrl,x).pipe((0,_t.U)(z=>Object.assign(Object.assign({},F),{urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jn.b)(Kt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Kt.urlAfterRedirects})}),function(S,D,b,x,F){return(0,Ne.zg)(z=>function(S,D,b,x,F="emptyOnly",z="legacy"){try{const se=new $u(S,D,b,x,F,z).recognize();return null===se?lo(new Rs):(0,ce.of)(se)}catch(se){return lo(se)}}(S,D,z.urlAfterRedirects,b(z.urlAfterRedirects),x,F).pipe((0,_t.U)(se=>Object.assign(Object.assign({},z),{targetSnapshot:se}))))}(this.rootComponentType,this.config,Kt=>this.serializeUrl(Kt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jn.b)(Kt=>{"eager"===this.urlUpdateStrategy&&(Kt.extras.skipLocationChange||this.setBrowserUrl(Kt.urlAfterRedirects,Kt),this.browserUrlTree=Kt.urlAfterRedirects);const In=new at(Kt.id,this.serializeUrl(Kt.extractedUrl),this.serializeUrl(Kt.urlAfterRedirects),Kt.targetSnapshot);x.next(In)}));if(St&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:In,extractedUrl:bn,source:os,restoredState:an,extras:ui}=_e,Go=new xn(In,this.serializeUrl(bn),os,an);x.next(Go);const er=Vr(bn,this.rootComponentType).snapshot;return(0,ce.of)(Object.assign(Object.assign({},_e),{targetSnapshot:er,urlAfterRedirects:bn,extras:Object.assign(Object.assign({},ui),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_e.rawUrl,this.browserUrlTree=_e.urlAfterRedirects,_e.resolve(null),it.E}),Wa(_e=>{const{targetSnapshot:st,id:St,extractedUrl:zn,rawUrl:Kt,extras:{skipLocationChange:In,replaceUrl:bn}}=_e;return this.hooks.beforePreactivation(st,{navigationId:St,appliedUrlTree:zn,rawUrlTree:Kt,skipLocationChange:!!In,replaceUrl:!!bn})}),(0,jn.b)(_e=>{const st=new Vt(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(st)}),(0,_t.U)(_e=>Object.assign(Object.assign({},_e),{guards:Rn(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)})),function(S,D){return(0,Ne.zg)(b=>{const{targetSnapshot:x,currentSnapshot:F,guards:{canActivateChecks:z,canDeactivateChecks:se}}=b;return 0===se.length&&0===z.length?(0,ce.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function(S,D,b,x){return(0,nt.D)(S).pipe((0,Ne.zg)(F=>function(S,D,b,x,F){const z=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,ce.of)(!0);const se=z.map(_e=>{const st=or(_e,D,F);let St;if(function(S){return S&&Br(S.canDeactivate)}(st))St=On(st.canDeactivate(S,D,b,x));else{if(!Br(st))throw new Error("Invalid CanDeactivate guard");St=On(st(S,D,b,x))}return St.pipe((0,Fn.P)())});return(0,ce.of)(se).pipe(V())}(F.component,F.route,b,D,x)),(0,Fn.P)(F=>!0!==F,!0))}(se,x,F,S).pipe((0,Ne.zg)(_e=>_e&&function(S){return"boolean"==typeof S}(_e)?function(S,D,b,x){return(0,nt.D)(D).pipe(He(F=>(0,Ot.z)(function(S,D){return null!==S&&D&&D(new Yn(S)),(0,ce.of)(!0)}(F.route.parent,x),function(S,D){return null!==S&&D&&D(new Oi(S)),(0,ce.of)(!0)}(F.route,x),function(S,D,b){const x=D[D.length-1],z=D.slice(0,D.length-1).reverse().map(se=>function(S){const D=S.routeConfig?S.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:S,guards:D}:null}(se)).filter(se=>null!==se).map(se=>We(()=>{const _e=se.guards.map(st=>{const St=or(st,se.node,b);let zn;if(function(S){return S&&Br(S.canActivateChild)}(St))zn=On(St.canActivateChild(x,S));else{if(!Br(St))throw new Error("Invalid CanActivateChild guard");zn=On(St(x,S))}return zn.pipe((0,Fn.P)())});return(0,ce.of)(_e).pipe(V())}));return(0,ce.of)(z).pipe(V())}(S,F.path,b),function(S,D,b){const x=D.routeConfig?D.routeConfig.canActivate:null;if(!x||0===x.length)return(0,ce.of)(!0);const F=x.map(z=>We(()=>{const se=or(z,D,b);let _e;if(function(S){return S&&Br(S.canActivate)}(se))_e=On(se.canActivate(D,S));else{if(!Br(se))throw new Error("Invalid CanActivate guard");_e=On(se(D,S))}return _e.pipe((0,Fn.P)())}));return(0,ce.of)(F).pipe(V())}(S,F.route,b))),(0,Fn.P)(F=>!0!==F,!0))}(x,z,S,D):(0,ce.of)(_e)),(0,_t.U)(_e=>Object.assign(Object.assign({},b),{guardsResult:_e})))})}(this.ngModule.injector,_e=>this.triggerEvent(_e)),(0,jn.b)(_e=>{if(jr(_e.guardsResult)){const St=Me(`Redirecting to "${this.serializeUrl(_e.guardsResult)}"`);throw St.url=_e.guardsResult,St}const st=new Kn(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.triggerEvent(st)}),(0,Ae.h)(_e=>!!_e.guardsResult||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,""),!1)),Wa(_e=>{if(_e.guards.canActivateChecks.length)return(0,ce.of)(_e).pipe((0,jn.b)(st=>{const St=new $n(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(St)}),(0,_n.w)(st=>{let St=!1;return(0,ce.of)(st).pipe(function(S,D){return(0,Ne.zg)(b=>{const{targetSnapshot:x,guards:{canActivateChecks:F}}=b;if(!F.length)return(0,ce.of)(b);let z=0;return(0,nt.D)(F).pipe(He(se=>function(S,D,b,x){return function(S,D,b,x){const F=Object.keys(S);if(0===F.length)return(0,ce.of)({});const z={};return(0,nt.D)(F).pipe((0,Ne.zg)(se=>function(S,D,b,x){const F=or(S,D,x);return On(F.resolve?F.resolve(D,b):F(D,b))}(S[se],D,b,x).pipe((0,jn.b)(_e=>{z[se]=_e}))),Xe(1),(0,Ne.zg)(()=>Object.keys(z).length===F.length?(0,ce.of)(z):it.E))}(S._resolve,S,D,x).pipe((0,_t.U)(z=>(S._resolvedData=z,S.data=Object.assign(Object.assign({},S.data),Ur(S,b).resolve),null)))}(se.route,x,S,D)),(0,jn.b)(()=>z++),Xe(1),(0,Ne.zg)(se=>z===F.length?(0,ce.of)(b):it.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jn.b)({next:()=>St=!0,complete:()=>{St||(this.restoreHistory(st),this.cancelNavigationTransition(st,"At least one route resolver didn't emit any value."))}}))}),(0,jn.b)(st=>{const St=new wn(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(St)}))}),Wa(_e=>{const{targetSnapshot:st,id:St,extractedUrl:zn,rawUrl:Kt,extras:{skipLocationChange:In,replaceUrl:bn}}=_e;return this.hooks.afterPreactivation(st,{navigationId:St,appliedUrlTree:zn,rawUrlTree:Kt,skipLocationChange:!!In,replaceUrl:!!bn})}),(0,_t.U)(_e=>{const st=function(S,D,b){const x=ts(S,D._root,b?b._root:void 0);return new Xi(x,D)}(this.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return Object.assign(Object.assign({},_e),{targetRouterState:st})}),(0,jn.b)(_e=>{this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects)}),((S,D,b)=>(0,_t.U)(x=>(new xs(D,x.targetRouterState,x.currentRouterState,b).activate(S),x)))(this.rootContexts,this.routeReuseStrategy,_e=>this.triggerEvent(_e)),(0,jn.b)({next(){z=!0},complete(){z=!0}}),function(S){return D=>D.lift(new xe(S))}(()=>{if(!z&&!se){const _e=`Navigation ID ${F.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(F),this.cancelNavigationTransition(F,_e)):this.cancelNavigationTransition(F,_e)}this.currentNavigation=null}),ke(_e=>{if(se=!0,function(S){return S&&S[ie]}(_e)){const st=jr(_e.url);st||(this.navigated=!0,this.restoreHistory(F,!0));const St=new Hn(F.id,this.serializeUrl(F.extractedUrl),_e.message);x.next(St),st?setTimeout(()=>{const zn=this.urlHandlingStrategy.merge(_e.url,this.rawUrlTree),Kt={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tr(F.source)};this.scheduleNavigation(zn,"imperative",null,Kt,{resolve:F.resolve,reject:F.reject,promise:F.promise})},0):F.resolve(!1)}else{this.restoreHistory(F,!0);const st=new Rt(F.id,this.serializeUrl(F.extractedUrl),_e);x.next(st);try{F.resolve(this.errorHandler(_e))}catch(St){F.reject(St)}}return it.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}getTransition(){const b=this.transitions.value;return b.urlAfterRedirects=this.browserUrlTree,b}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const x=this.extractLocationChangeInfoFromEvent(b);this.shouldScheduleNavigation(this.lastLocationChangeInfo,x)&&setTimeout(()=>{const{source:F,state:z,urlTree:se}=x,_e={replaceUrl:!0};if(z){const st=Object.assign({},z);delete st.navigationId,delete st.\u0275routerPageId,0!==Object.keys(st).length&&(_e.state=st)}this.scheduleNavigation(se,F,z,_e)},0),this.lastLocationChangeInfo=x}))}extractLocationChangeInfoFromEvent(b){var x;return{source:"popstate"===b.type?"popstate":"hashchange",urlTree:this.parseUrl(b.url),state:(null===(x=b.state)||void 0===x?void 0:x.navigationId)?b.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(b,x){if(!b)return!0;const F=x.urlTree.toString()===b.urlTree.toString();return x.transitionId!==b.transitionId||!F||!("hashchange"===x.source&&"popstate"===b.source||"popstate"===x.source&&"hashchange"===b.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){fe(b),this.config=b.map(L),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,x={}){const{relativeTo:F,queryParams:z,fragment:se,queryParamsHandling:_e,preserveFragment:st}=x,St=F||this.routerState.root,zn=st?this.currentUrlTree.fragment:se;let Kt=null;switch(_e){case"merge":Kt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),z);break;case"preserve":Kt=this.currentUrlTree.queryParams;break;default:Kt=z||null}return null!==Kt&&(Kt=this.removeEmptyProps(Kt)),function(S,D,b,x,F){if(0===b.length)return Gs(D.root,D.root,D,x,F);const z=function(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new _o(!0,0,S);let D=0,b=!1;const x=S.reduce((F,z,se)=>{if("object"==typeof z&&null!=z){if(z.outlets){const _e={};return tn(z.outlets,(st,St)=>{_e[St]="string"==typeof st?st.split("/"):st}),[...F,{outlets:_e}]}if(z.segmentPath)return[...F,z.segmentPath]}return"string"!=typeof z?[...F,z]:0===se?(z.split("/").forEach((_e,st)=>{0==st&&"."===_e||(0==st&&""===_e?b=!0:".."===_e?D++:""!=_e&&F.push(_e))}),F):[...F,z]},[]);return new _o(b,D,x)}(b);if(z.toRoot())return Gs(D.root,new Dt([],{}),D,x,F);const se=function(S,D,b){if(S.isAbsolute)return new gi(D.root,!0,0);if(-1===b.snapshot._lastPathIndex){const z=b.snapshot._urlSegment;return new gi(z,z===D.root,0)}const x=pi(S.commands[0])?0:1;return function(S,D,b){let x=S,F=D,z=b;for(;z>F;){if(z-=F,x=x.parent,!x)throw new Error("Invalid number of '../'");F=x.segments.length}return new gi(x,!1,F-z)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+x,S.numberOfDoubleDots)}(z,D,S),_e=se.processChildren?ki(se.segmentGroup,se.index,z.commands):Ss(se.segmentGroup,se.index,z.commands);return Gs(se.segmentGroup,_e,D,x,F)}(St,this.currentUrlTree,b,Kt,null!=zn?zn:null)}navigateByUrl(b,x={skipLocationChange:!1}){const F=jr(b)?b:this.parseUrl(b),z=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,x)}navigate(b,x={skipLocationChange:!1}){return function(S){for(let D=0;D<S.length;D++){const b=S[D];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${D}`)}}(b),this.navigateByUrl(this.createUrlTree(b,x),x)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let x;try{x=this.urlSerializer.parse(b)}catch(F){x=this.malformedUriErrorHandler(F,this.urlSerializer,b)}return x}isActive(b,x){let F;if(F=!0===x?Object.assign({},ct):!1===x?Object.assign({},Wt):x,jr(b))return di(this.currentUrlTree,b,F);const z=this.parseUrl(b);return di(this.currentUrlTree,z,F)}removeEmptyProps(b){return Object.keys(b).reduce((x,F)=>{const z=b[F];return null!=z&&(x[F]=z),x},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new vn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,x,F,z,se){var _e,st;if(this.disposed)return Promise.resolve(!1);const St=this.getTransition(),zn=Tr(x)&&St&&!Tr(St.source),bn=(this.lastSuccessfulId===St.id||this.currentNavigation?St.rawUrl:St.urlAfterRedirects).toString()===b.toString();if(zn&&bn)return Promise.resolve(!0);let os,an,ui;se?(os=se.resolve,an=se.reject,ui=se.promise):ui=new Promise((rn,zu)=>{os=rn,an=zu});const Go=++this.navigationId;let er;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),er=F&&F.\u0275routerPageId?F.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?null!==(_e=this.browserPageId)&&void 0!==_e?_e:0:(null!==(st=this.browserPageId)&&void 0!==st?st:0)+1):er=0,this.setTransition({id:Go,targetPageId:er,source:x,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:z,resolve:os,reject:an,promise:ui,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ui.catch(rn=>Promise.reject(rn))}setBrowserUrl(b,x){const F=this.urlSerializer.serialize(b),z=Object.assign(Object.assign({},x.extras.state),this.generateNgRouterState(x.id,x.targetPageId));this.location.isCurrentPathEqualTo(F)||x.extras.replaceUrl?this.location.replaceState(F,"",z):this.location.go(F,"",z)}restoreHistory(b,x=!1){var F,z;if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===se?this.currentUrlTree===(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)&&0===se&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(se)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,x){const F=new Hn(b.id,this.serializeUrl(b.extractedUrl),x);this.triggerEvent(F),b.resolve(!1)}generateNgRouterState(b,x){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:x}:{navigationId:b}}}return S.\u0275fac=function(b){return new(b||S)(v.LFG(v.DyG),v.LFG(En),v.LFG(Vi),v.LFG(w.Ye),v.LFG(v.zs3),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(void 0))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac}),S})();function Tr(S){return"imperative"!==S}let Ks=(()=>{class S{constructor(b,x,F,z,se){this.router=b,this.route=x,this.commands=[],this.onChanges=new J.xQ,null==F&&z.setAttribute(se.nativeElement,"tabindex","0")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:[]}onClick(){const b={skipLocationChange:co(this.skipLocationChange),replaceUrl:co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:co(this.preserveFragment)})}}return S.\u0275fac=function(b){return new(b||S)(v.Y36(Pn),v.Y36(fi),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq))},S.\u0275dir=v.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,x){1&b&&v.NdJ("click",function(){return x.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[v.TTD]}),S})(),Ci=(()=>{class S{constructor(b,x,F){this.router=b,this.route=x,this.locationStrategy=F,this.commands=[],this.onChanges=new J.xQ,this.subscription=b.events.subscribe(z=>{z instanceof vn&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:[]}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,x,F,z,se){if(0!==b||x||F||z||se||"string"==typeof this.target&&"_self"!=this.target)return!0;const _e={skipLocationChange:co(this.skipLocationChange),replaceUrl:co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_e),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:co(this.preserveFragment)})}}return S.\u0275fac=function(b){return new(b||S)(v.Y36(Pn),v.Y36(fi),v.Y36(w.S$))},S.\u0275dir=v.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,x){1&b&&v.NdJ("click",function(z){return x.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&b&&(v.Ikx("href",x.href,v.LSH),v.uIk("target",x.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[v.TTD]}),S})();function co(S){return""===S||!!S}let Yl=(()=>{class S{constructor(b,x,F,z,se){this.parentContexts=b,this.location=x,this.resolver=F,this.changeDetector=se,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.name=z||zt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,b}attach(b,x){this.activated=b,this._activatedRoute=x,this.location.insert(b.hostView)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,x){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const se=(x=x||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),_e=this.parentContexts.getOrCreateContext(this.name).children,st=new pa(b,_e,this.location.injector);this.activated=this.location.createComponent(se,this.location.length,st),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(b){return new(b||S)(v.Y36(Vi),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},S.\u0275dir=v.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),S})();class pa{constructor(D,b,x){this.route=D,this.childContexts=b,this.parent=x}get(D,b){return D===fi?this.route:D===Vi?this.childContexts:this.parent.get(D,b)}}class _s{}class Ql{preload(D,b){return(0,ce.of)(null)}}let Qs=(()=>{class S{constructor(b,x,F,z,se){this.router=b,this.injector=z,this.preloadingStrategy=se,this.loader=new Ho(x,F,St=>b.triggerEvent(new Mt(St)),St=>b.triggerEvent(new Pt(St)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(b=>b instanceof vn),He(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(v.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,x){const F=[];for(const z of x)if(z.loadChildren&&!z.canLoad&&z._loadedConfig){const se=z._loadedConfig;F.push(this.processRoutes(se.module,se.routes))}else z.loadChildren&&!z.canLoad?F.push(this.preloadConfig(b,z)):z.children&&F.push(this.processRoutes(b,z.children));return(0,nt.D)(F).pipe((0,Ln.J)(),(0,_t.U)(z=>{}))}preloadConfig(b,x){return this.preloadingStrategy.preload(x,()=>(x._loadedConfig?(0,ce.of)(x._loadedConfig):this.loader.load(b.injector,x)).pipe((0,Ne.zg)(z=>(x._loadedConfig=z,this.processRoutes(z.module,z.routes)))))}}return S.\u0275fac=function(b){return new(b||S)(v.LFG(Pn),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(_s))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac}),S})(),ga=(()=>{class S{constructor(b,x,F={}){this.router=b,this.viewportScroller=x,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof vn&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof vr&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,x){this.router.triggerEvent(new vr(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(b){return new(b||S)(v.LFG(Pn),v.LFG(w.EM),v.LFG(void 0))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac}),S})();const Js=new v.OlP("ROUTER_CONFIGURATION"),$o=new v.OlP("ROUTER_FORROOT_GUARD"),qo=[w.Ye,{provide:En,useClass:wt},{provide:Pn,useFactory:function(S,D,b,x,F,z,se,_e={},st,St){const zn=new Pn(null,S,D,b,x,F,z,un(se));return st&&(zn.urlHandlingStrategy=st),St&&(zn.routeReuseStrategy=St),function(S,D){S.errorHandler&&(D.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(D.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(D.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(D.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(D.urlUpdateStrategy=S.urlUpdateStrategy)}(_e,zn),_e.enableTracing&&zn.events.subscribe(Kt=>{var In,bn;null===(In=console.group)||void 0===In||In.call(console,`Router Event: ${Kt.constructor.name}`),console.log(Kt.toString()),console.log(Kt),null===(bn=console.groupEnd)||void 0===bn||bn.call(console)}),zn},deps:[En,Vi,w.Ye,v.zs3,v.v3s,v.Sil,zi,Js,[class{},new v.FiY],[class{},new v.FiY]]},Vi,{provide:fi,useFactory:function(S){return S.routerState.root},deps:[Pn]},{provide:v.v3s,useClass:v.EAV},Qs,Ql,class{preload(D,b){return b().pipe(ke(()=>(0,ce.of)(null)))}},{provide:Js,useValue:{enableTracing:!1}}];function ma(){return new v.PXZ("Router",Pn)}let Eo=(()=>{class S{constructor(b,x){}static forRoot(b,x){return{ngModule:S,providers:[qo,ei(b),{provide:$o,useFactory:Zd,deps:[[Pn,new v.FiY,new v.tp0]]},{provide:Js,useValue:x||{}},{provide:w.S$,useFactory:Xl,deps:[w.lw,[new v.tBr(w.mr),new v.FiY],Js]},{provide:ga,useFactory:hl,deps:[Pn,w.EM,Js]},{provide:_s,useExisting:x&&x.preloadingStrategy?x.preloadingStrategy:Ql},{provide:v.PXZ,multi:!0,useFactory:ma},[_a,{provide:v.ip1,multi:!0,useFactory:Et,deps:[_a]},{provide:Ka,useFactory:Mr,deps:[_a]},{provide:v.tb,multi:!0,useExisting:Ka}]]}}static forChild(b){return{ngModule:S,providers:[ei(b)]}}}return S.\u0275fac=function(b){return new(b||S)(v.LFG($o,8),v.LFG(Pn,8))},S.\u0275mod=v.oAB({type:S}),S.\u0275inj=v.cJS({}),S})();function hl(S,D,b){return b.scrollOffset&&D.setOffset(b.scrollOffset),new ga(S,D,b)}function Xl(S,D,b={}){return b.useHash?new w.Do(S,D):new w.b0(S,D)}function Zd(S){return"guarded"}function ei(S){return[{provide:v.deG,multi:!0,useValue:S},{provide:zi,multi:!0,useValue:S}]}let _a=(()=>{class S{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new J.xQ}appInitializer(){return this.injector.get(w.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let x=null;const F=new Promise(_e=>x=_e),z=this.injector.get(Pn),se=this.injector.get(Js);return"disabled"===se.initialNavigation?(z.setUpLocationChangeListener(),x(!0)):"enabled"===se.initialNavigation||"enabledBlocking"===se.initialNavigation?(z.hooks.afterPreactivation=()=>this.initNavigation?(0,ce.of)(null):(this.initNavigation=!0,x(!0),this.resultOfPreactivationDone),z.initialNavigation()):x(!0),F})}bootstrapListener(b){const x=this.injector.get(Js),F=this.injector.get(Qs),z=this.injector.get(ga),se=this.injector.get(Pn),_e=this.injector.get(v.z2F);b===_e.components[0]&&(("enabledNonBlocking"===x.initialNavigation||void 0===x.initialNavigation)&&se.initialNavigation(),F.setUpPreloading(),z.init(),se.resetRootComponentType(_e.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(b){return new(b||S)(v.LFG(v.zs3))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac}),S})();function Et(S){return S.appInitializer.bind(S)}function Mr(S){return S.bootstrapListener.bind(S)}const Ka=new v.OlP("Router Initializer")},4486:(At,ze,q)=>{"use strict";q.d(ze,{Z:()=>je});var w=q(4685),v=q(6034),J=q(5452),Ee=q(300);class be{constructor(he,nt){this._delegate=he,this.firebase=nt,(0,J._addComponent)(he,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(he,nt=J._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(he);return!We.isInitialized()&&"EXPLICIT"===(null===(it=We.getComponent())||void 0===it?void 0:it.instantiationMode)&&We.initialize(),We.getImmediate({identifier:nt})}_removeServiceInstance(he,nt=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(nt)}_addComponent(he){(0,J._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,J._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Be=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function ue(){const Fe=function(Fe){const he={},nt={__esModule:!0,initializeApp:function(Qe,ke={}){const Ue=J.initializeApp(Qe,ke);if((0,w.r3)(he,Ue.name))return he[Ue.name];const Se=new Fe(Ue,nt);return he[Ue.name]=Se,Se},app:We,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function(Qe){const ke=Qe.name,Ue=ke.replace("-compat","");if(J._registerComponent(Qe)&&"PUBLIC"===Qe.type){const Se=(Ne=We())=>{if("function"!=typeof Ne[Ue])throw Be.create("invalid-app-argument",{appName:ke});return Ne[Ue]()};void 0!==Qe.serviceProps&&(0,w.ZB)(Se,Qe.serviceProps),nt[Ue]=Se,Fe.prototype[Ue]=function(...Ne){return this._getService.bind(this,ke).apply(this,Qe.multipleInstances?Ne:[])}}return"PUBLIC"===Qe.type?nt[Ue]:null},removeApp:function(Qe){delete he[Qe]},useAsService:function(Qe,ke){return"serverAuth"===ke?null:ke},modularAPIs:J}};function We(Qe){if(!(0,w.r3)(he,Qe=Qe||J._DEFAULT_ENTRY_NAME))throw Be.create("no-app",{appName:Qe});return he[Qe]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function(){return Object.keys(he).map(Qe=>he[Qe])}}),We.App=Fe,nt}(be);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function(nt){(0,w.ZB)(Fe,nt)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),Fe}(),ne=new Ee.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=ee;(0,J.registerVersion)("@firebase/app-compat","0.1.1",undefined);const je=Ke},5452:(At,ze,q)=>{"use strict";q.r(ze),q.d(ze,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>hn,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>kn,_addOrOverwriteComponent:()=>rt,_apps:()=>Gt,_clearComponents:()=>yt,_components:()=>gn,_getProvider:()=>Ce,_registerComponent:()=>mt,_removeServiceInstance:()=>xe,deleteApp:()=>kt,getApp:()=>Fn,getApps:()=>jn,initializeApp:()=>_r,onLog:()=>xn,registerVersion:()=>Sn,setLogLevel:()=>vn});var w=q(8239),v=q(6034),J=q(300),Ee=q(4685);class be{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function(Rt){const at=Rt.getComponent();return"VERSION"===(null==at?void 0:at.type)}(Vt)){const Kn=Vt.getImmediate();return`${Kn.library}/${Kn.version}`}return null}).filter(Vt=>Vt).join(" ")}}const Be="@firebase/app",ue=new J.Yd("@firebase/app"),qt="[DEFAULT]",ht={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gt=new Map,gn=new Map;function kn(Rt,at){try{Rt.container.addComponent(at)}catch(Vt){ue.debug(`Component ${at.name} failed to register with FirebaseApp ${Rt.name}`,Vt)}}function rt(Rt,at){Rt.container.addOrOverwriteComponent(at)}function mt(Rt){const at=Rt.name;if(gn.has(at))return ue.debug(`There were multiple attempts to register component ${at}.`),!1;gn.set(at,Rt);for(const Vt of Gt.values())kn(Vt,Rt);return!0}function Ce(Rt,at){return Rt.container.getProvider(at)}function xe(Rt,at,Vt=qt){Ce(Rt,at).clearInstance(Vt)}function yt(){gn.clear()}const _n=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class jt{constructor(at,Vt,Kn){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=Kn,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const hn="9.0.0";function _r(Rt,at={}){"object"!=typeof at&&(at={name:at});const Vt=Object.assign({name:qt,automaticDataCollectionEnabled:!1},at),Kn=Vt.name;if("string"!=typeof Kn||!Kn)throw _n.create("bad-app-name",{appName:String(Kn)});const $n=Gt.get(Kn);if($n){if((0,Ee.vZ)(Rt,$n.options)&&(0,Ee.vZ)(Vt,$n.config))return $n;throw _n.create("duplicate-app",{appName:Kn})}const wn=new v.H0(Kn);for(const Pt of gn.values())wn.addComponent(Pt);const Mt=new jt(Rt,Vt,wn);return Gt.set(Kn,Mt),Mt}function Fn(Rt=qt){const at=Gt.get(Rt);if(!at)throw _n.create("no-app",{appName:Rt});return at}function jn(){return Array.from(Gt.values())}function kt(Rt){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,w.Z)(function*(Rt){const at=Rt.name;Gt.has(at)&&(Gt.delete(at),yield Promise.all(Rt.container.getProviders().map(Vt=>Vt.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function Sn(Rt,at,Vt){var Kn;let $n=null!==(Kn=ht[Rt])&&void 0!==Kn?Kn:Rt;Vt&&($n+=`-${Vt}`);const wn=$n.match(/\s|\//),Mt=at.match(/\s|\//);if(wn||Mt){const Pt=[`Unable to register library "${$n}" with version "${at}":`];return wn&&Pt.push(`library name "${$n}" contains illegal characters (whitespace or "/")`),wn&&Mt&&Pt.push("and"),Mt&&Pt.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void ue.warn(Pt.join(" "))}mt(new v.wA(`${$n}-version`,()=>({library:$n,version:at}),"VERSION"))}function xn(Rt,at){if(null!==Rt&&"function"!=typeof Rt)throw _n.create("invalid-log-argument");(0,J.Am)(Rt,at)}function vn(Rt){(0,J.Ub)(Rt)}mt(new v.wA("platform-logger",at=>new be(at),"PRIVATE")),Sn(Be,"0.7.0",undefined),Sn("fire-js","")},6034:(At,ze,q)=>{"use strict";q.d(ze,{wA:()=>J,H0:()=>we});var w=q(4762),v=q(4685),J=function(){function ue(ee,ne,ae){this.name=ee,this.instanceFactory=ne,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ue.prototype.setInstantiationMode=function(ee){return this.instantiationMode=ee,this},ue.prototype.setMultipleInstances=function(ee){return this.multipleInstances=ee,this},ue.prototype.setServiceProps=function(ee){return this.serviceProps=ee,this},ue.prototype.setInstanceCreatedCallback=function(ee){return this.onInstanceCreated=ee,this},ue}(),Ee="[DEFAULT]",be=function(){function ue(ee,ne){this.name=ee,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ue.prototype.get=function(ee){var ne=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ne)){var ae=new v.BH;if(this.instancesDeferred.set(ne,ae),this.isInitialized(ne)||this.shouldAutoInitialize())try{var oe=this.getOrInitializeService({instanceIdentifier:ne});oe&&ae.resolve(oe)}catch(ye){}}return this.instancesDeferred.get(ne).promise},ue.prototype.getImmediate=function(ee){var ne,ae=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),oe=null!==(ne=null==ee?void 0:ee.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(ye){if(oe)return null;throw ye}},ue.prototype.getComponent=function(){return this.component},ue.prototype.setComponent=function(ee){var ne,ae;if(ee.name!==this.name)throw Error("Mismatching Component "+ee.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ee,this.shouldAutoInitialize()){if(function(ue){return"EAGER"===ue.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch(it){}try{for(var oe=(0,w.XA)(this.instancesDeferred.entries()),ye=oe.next();!ye.done;ye=oe.next()){var Ke=(0,w.CR)(ye.value,2),Fe=Ke[1],he=this.normalizeInstanceIdentifier(Ke[0]);try{var nt=this.getOrInitializeService({instanceIdentifier:he});Fe.resolve(nt)}catch(it){}}}catch(it){ne={error:it}}finally{try{ye&&!ye.done&&(ae=oe.return)&&ae.call(oe)}finally{if(ne)throw ne.error}}}},ue.prototype.clearInstance=function(ee){void 0===ee&&(ee=Ee),this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)},ue.prototype.delete=function(){return(0,w.mG)(this,void 0,void 0,function(){var ee;return(0,w.Jh)(this,function(ne){switch(ne.label){case 0:return ee=Array.from(this.instances.values()),[4,Promise.all((0,w.ev)((0,w.ev)([],(0,w.CR)(ee.filter(function(ae){return"INTERNAL"in ae}).map(function(ae){return ae.INTERNAL.delete()}))),(0,w.CR)(ee.filter(function(ae){return"_delete"in ae}).map(function(ae){return ae._delete()}))))];case 1:return ne.sent(),[2]}})})},ue.prototype.isComponentSet=function(){return null!=this.component},ue.prototype.isInitialized=function(ee){return void 0===ee&&(ee=Ee),this.instances.has(ee)},ue.prototype.getOptions=function(ee){return void 0===ee&&(ee=Ee),this.instancesOptions.get(ee)||{}},ue.prototype.initialize=function(ee){var ne,ae;void 0===ee&&(ee={});var oe=ee.options,ye=void 0===oe?{}:oe,Ke=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ke))throw Error(this.name+"("+Ke+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var je=this.getOrInitializeService({instanceIdentifier:Ke,options:ye});try{for(var Fe=(0,w.XA)(this.instancesDeferred.entries()),he=Fe.next();!he.done;he=Fe.next()){var nt=(0,w.CR)(he.value,2),We=nt[1];Ke===this.normalizeInstanceIdentifier(nt[0])&&We.resolve(je)}}catch(Je){ne={error:Je}}finally{try{he&&!he.done&&(ae=Fe.return)&&ae.call(Fe)}finally{if(ne)throw ne.error}}return je},ue.prototype.onInit=function(ee,ne){var ae,oe=this.normalizeInstanceIdentifier(ne),ye=null!==(ae=this.onInitCallbacks.get(oe))&&void 0!==ae?ae:new Set;ye.add(ee),this.onInitCallbacks.set(oe,ye);var Ke=this.instances.get(oe);return Ke&&ee(Ke,oe),function(){ye.delete(ee)}},ue.prototype.invokeOnInitCallbacks=function(ee,ne){var ae,oe,ye=this.onInitCallbacks.get(ne);if(ye)try{for(var Ke=(0,w.XA)(ye),je=Ke.next();!je.done;je=Ke.next()){var Fe=je.value;try{Fe(ee,ne)}catch(he){}}}catch(he){ae={error:he}}finally{try{je&&!je.done&&(oe=Ke.return)&&oe.call(Ke)}finally{if(ae)throw ae.error}}},ue.prototype.getOrInitializeService=function(ee){var ne=ee.instanceIdentifier,ae=ee.options,oe=void 0===ae?{}:ae,ye=this.instances.get(ne);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:me(ne),options:oe}),this.instances.set(ne,ye),this.instancesOptions.set(ne,oe),this.invokeOnInitCallbacks(ye,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ye)}catch(Ke){}return ye||null},ue.prototype.normalizeInstanceIdentifier=function(ee){return void 0===ee&&(ee=Ee),this.component?this.component.multipleInstances?ee:Ee:ee},ue.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ue}();function me(ue){return ue===Ee?void 0:ue}var we=function(){function ue(ee){this.name=ee,this.providers=new Map}return ue.prototype.addComponent=function(ee){var ne=this.getProvider(ee.name);if(ne.isComponentSet())throw new Error("Component "+ee.name+" has already been registered with "+this.name);ne.setComponent(ee)},ue.prototype.addOrOverwriteComponent=function(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)},ue.prototype.getProvider=function(ee){if(this.providers.has(ee))return this.providers.get(ee);var ne=new be(ee,this);return this.providers.set(ee,ne),ne},ue.prototype.getProviders=function(){return Array.from(this.providers.values())},ue}()},300:(At,ze,q)=>{"use strict";function w(){for(var ae=0,oe=0,ye=arguments.length;oe<ye;oe++)ae+=arguments[oe].length;var Ke=Array(ae),je=0;for(oe=0;oe<ye;oe++)for(var Fe=arguments[oe],he=0,nt=Fe.length;he<nt;he++,je++)Ke[je]=Fe[he];return Ke}q.d(ze,{in:()=>Ee,Yd:()=>ue,Ub:()=>ee,Am:()=>ne});var v,J=[],Ee=(()=>{return(ae=Ee||(Ee={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",Ee;var ae})(),be={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},me=Ee.INFO,Be=((v={})[Ee.DEBUG]="log",v[Ee.VERBOSE]="log",v[Ee.INFO]="info",v[Ee.WARN]="warn",v[Ee.ERROR]="error",v),we=function(ae,oe){for(var ye=[],Ke=2;Ke<arguments.length;Ke++)ye[Ke-2]=arguments[Ke];if(!(oe<ae.logLevel)){var je=(new Date).toISOString(),Fe=Be[oe];if(!Fe)throw new Error("Attempted to log a message with an invalid logType (value: "+oe+")");console[Fe].apply(console,w(["["+je+"]  "+ae.name+":"],ye))}},ue=function(){function ae(oe){this.name=oe,this._logLevel=me,this._logHandler=we,this._userLogHandler=null,J.push(this)}return Object.defineProperty(ae.prototype,"logLevel",{get:function(){return this._logLevel},set:function(oe){if(!(oe in Ee))throw new TypeError('Invalid value "'+oe+'" assigned to `logLevel`');this._logLevel=oe},enumerable:!1,configurable:!0}),ae.prototype.setLogLevel=function(oe){this._logLevel="string"==typeof oe?be[oe]:oe},Object.defineProperty(ae.prototype,"logHandler",{get:function(){return this._logHandler},set:function(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(oe){this._userLogHandler=oe},enumerable:!1,configurable:!0}),ae.prototype.debug=function(){for(var oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,w([this,Ee.DEBUG],oe)),this._logHandler.apply(this,w([this,Ee.DEBUG],oe))},ae.prototype.log=function(){for(var oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,w([this,Ee.VERBOSE],oe)),this._logHandler.apply(this,w([this,Ee.VERBOSE],oe))},ae.prototype.info=function(){for(var oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,w([this,Ee.INFO],oe)),this._logHandler.apply(this,w([this,Ee.INFO],oe))},ae.prototype.warn=function(){for(var oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,w([this,Ee.WARN],oe)),this._logHandler.apply(this,w([this,Ee.WARN],oe))},ae.prototype.error=function(){for(var oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,w([this,Ee.ERROR],oe)),this._logHandler.apply(this,w([this,Ee.ERROR],oe))},ae}();function ee(ae){J.forEach(function(oe){oe.setLogLevel(ae)})}function ne(ae,oe){for(var ye=function(he){var nt=null;oe&&oe.level&&(nt=be[oe.level]),he.userLogHandler=null===ae?null:function(it,We){for(var ce=[],Je=2;Je<arguments.length;Je++)ce[Je-2]=arguments[Je];var Ot=ce.map(function(Le){if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(Qe){return null}}).filter(function(Le){return Le}).join(" ");We>=(null!=nt?nt:it.logLevel)&&ae({level:Ee[We].toLowerCase(),message:Ot,args:ce,type:it.name})}},Ke=0,je=J;Ke<je.length;Ke++)ye(je[Ke])}},4685:(At,ze,q)=>{"use strict";q.d(ze,{BH:()=>ye,LL:()=>lt,ZR:()=>Ae,tV:()=>ee,r3:()=>xe,Sg:()=>Ke,ne:()=>Ln,vZ:()=>jt,ZB:()=>ae,pd:()=>jn,m9:()=>Mn,z$:()=>je,jU:()=>nt,ru:()=>it,d:()=>ce,xb:()=>_t,w1:()=>Je,hl:()=>ke,uI:()=>Fe,UG:()=>he,b$:()=>We,G6:()=>Qe,Mn:()=>Ot,xO:()=>_r,zd:()=>Fn});var w=q(4762),be=function(ge){for(var ie=[],Me=0,Ze=0;Ze<ge.length;Ze++){var Oe=ge.charCodeAt(Ze);Oe<128?ie[Me++]=Oe:Oe<2048?(ie[Me++]=Oe>>6|192,ie[Me++]=63&Oe|128):55296==(64512&Oe)&&Ze+1<ge.length&&56320==(64512&ge.charCodeAt(Ze+1))?(Oe=65536+((1023&Oe)<<10)+(1023&ge.charCodeAt(++Ze)),ie[Me++]=Oe>>18|240,ie[Me++]=Oe>>12&63|128,ie[Me++]=Oe>>6&63|128,ie[Me++]=63&Oe|128):(ie[Me++]=Oe>>12|224,ie[Me++]=Oe>>6&63|128,ie[Me++]=63&Oe|128)}return ie},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ge,ie){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Me=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[],Oe=0;Oe<ge.length;Oe+=3){var ot=ge[Oe],xt=Oe+1<ge.length,Xt=xt?ge[Oe+1]:0,un=Oe+2<ge.length,fn=un?ge[Oe+2]:0,On=(15&Xt)<<2|fn>>6,Qn=63&fn;un||(Qn=64,xt||(On=64)),Ze.push(Me[ot>>2],Me[(3&ot)<<4|Xt>>4],Me[On],Me[Qn])}return Ze.join("")},encodeString:function(ge,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ge):this.encodeByteArray(be(ge),ie)},decodeString:function(ge,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ge):function(ge){for(var ie=[],Me=0,Ze=0;Me<ge.length;){var Oe=ge[Me++];if(Oe<128)ie[Ze++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){var ot=ge[Me++];ie[Ze++]=String.fromCharCode((31&Oe)<<6|63&ot)}else if(Oe>239&&Oe<365){var un=((7&Oe)<<18|(63&(ot=ge[Me++]))<<12|(63&(xt=ge[Me++]))<<6|63&ge[Me++])-65536;ie[Ze++]=String.fromCharCode(55296+(un>>10)),ie[Ze++]=String.fromCharCode(56320+(1023&un))}else{ot=ge[Me++];var xt=ge[Me++];ie[Ze++]=String.fromCharCode((15&Oe)<<12|(63&ot)<<6|63&xt)}}return ie.join("")}(this.decodeStringToByteArray(ge,ie))},decodeStringToByteArray:function(ge,ie){this.init_();for(var Me=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[],Oe=0;Oe<ge.length;){var ot=Me[ge.charAt(Oe++)],Xt=Oe<ge.length?Me[ge.charAt(Oe)]:0,fn=++Oe<ge.length?Me[ge.charAt(Oe)]:64,tn=++Oe<ge.length?Me[ge.charAt(Oe)]:64;if(++Oe,null==ot||null==Xt||null==fn||null==tn)throw Error();Ze.push(ot<<2|Xt>>4),64!==fn&&(Ze.push(Xt<<4&240|fn>>2),64!==tn&&Ze.push(fn<<6&192|tn))}return Ze},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},ue=function(ge){return function(ge){var ie=be(ge);return Be.encodeByteArray(ie,!0)}(ge).replace(/\./g,"")},ee=function(ge){try{return Be.decodeString(ge,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function ae(ge,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return ie}for(var Ze in ie)!ie.hasOwnProperty(Ze)||!oe(Ze)||(ge[Ze]=ae(ge[Ze],ie[Ze]));return ge}function oe(ge){return"__proto__"!==ge}var ye=function(){function ge(){var ie=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Me,Ze){ie.resolve=Me,ie.reject=Ze})}return ge.prototype.wrapCallback=function(ie){var Me=this;return function(Ze,Oe){Ze?Me.reject(Ze):Me.resolve(Oe),"function"==typeof ie&&(Me.promise.catch(function(){}),1===ie.length?ie(Ze):ie(Ze,Oe))}},ge}();function Ke(ge,ie){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Ze=ie||"demo-project",Oe=ge.iat||0,ot=ge.sub||ge.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var xt=(0,w.pi)({iss:"https://securetoken.google.com/"+Ze,aud:Ze,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(xt)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ge){return!1}}function nt(){return"object"==typeof self&&self.self===self}function it(){var ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function We(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){return je().indexOf("Electron/")>=0}function Je(){var ge=je();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function Ot(){return je().indexOf("MSAppHost/")>=0}function Qe(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){return"indexedDB"in self&&null!=indexedDB}var Ae=function(ge){function ie(Me,Ze,Oe){var ot=ge.call(this,Ze)||this;return ot.code=Me,ot.customData=Oe,ot.name="FirebaseError",Object.setPrototypeOf(ot,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(ot,lt.prototype.create),ot}return(0,w.ZT)(ie,ge),ie}(Error),lt=function(){function ge(ie,Me,Ze){this.service=ie,this.serviceName=Me,this.errors=Ze}return ge.prototype.create=function(ie){for(var Me=[],Ze=1;Ze<arguments.length;Ze++)Me[Ze-1]=arguments[Ze];var Oe=Me[0]||{},ot=this.service+"/"+ie,xt=this.errors[ie],Xt=xt?Xe(xt,Oe):"Error",un=this.serviceName+": "+Xt+" ("+ot+").",fn=new Ae(ot,un,Oe);return fn},ge}();function Xe(ge,ie){return ge.replace(qt,function(Me,Ze){var Oe=ie[Ze];return null!=Oe?String(Oe):"<"+Ze+"?>"})}var qt=/\{\$([^}]+)}/g;function xe(ge,ie){return Object.prototype.hasOwnProperty.call(ge,ie)}function _t(ge){for(var ie in ge)if(Object.prototype.hasOwnProperty.call(ge,ie))return!1;return!0}function jt(ge,ie){if(ge===ie)return!0;for(var Me=Object.keys(ge),Ze=Object.keys(ie),Oe=0,ot=Me;Oe<ot.length;Oe++){if(!Ze.includes(xt=ot[Oe]))return!1;var Xt=ge[xt],un=ie[xt];if(hn(Xt)&&hn(un)){if(!jt(Xt,un))return!1}else if(Xt!==un)return!1}for(var fn=0,pr=Ze;fn<pr.length;fn++){var xt;if(!Me.includes(xt=pr[fn]))return!1}return!0}function hn(ge){return null!==ge&&"object"==typeof ge}function _r(ge){for(var ie=[],Me=function(un,fn){Array.isArray(fn)?fn.forEach(function(pr){ie.push(encodeURIComponent(un)+"="+encodeURIComponent(pr))}):ie.push(encodeURIComponent(un)+"="+encodeURIComponent(fn))},Ze=0,Oe=Object.entries(ge);Ze<Oe.length;Ze++){var ot=Oe[Ze];Me(ot[0],ot[1])}return ie.length?"&"+ie.join("&"):""}function Fn(ge){var ie={};return ge.replace(/^\?/,"").split("&").forEach(function(Ze){if(Ze){var Oe=Ze.split("="),xt=Oe[1];ie[decodeURIComponent(Oe[0])]=decodeURIComponent(xt)}}),ie}function jn(ge){var ie=ge.indexOf("?");if(!ie)return"";var Me=ge.indexOf("#",ie);return ge.substring(ie,Me>0?Me:void 0)}function Ln(ge,ie){var Me=new Sn(ge,ie);return Me.subscribe.bind(Me)}!function(){function ge(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ie=1;ie<this.blockSize;++ie)this.pad_[ie]=0;this.reset()}ge.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ge.prototype.compress_=function(ie,Me){Me||(Me=0);var Ze=this.W_;if("string"==typeof ie)for(var Oe=0;Oe<16;Oe++)Ze[Oe]=ie.charCodeAt(Me)<<24|ie.charCodeAt(Me+1)<<16|ie.charCodeAt(Me+2)<<8|ie.charCodeAt(Me+3),Me+=4;else for(Oe=0;Oe<16;Oe++)Ze[Oe]=ie[Me]<<24|ie[Me+1]<<16|ie[Me+2]<<8|ie[Me+3],Me+=4;for(Oe=16;Oe<80;Oe++)Ze[Oe]=4294967295&((ot=Ze[Oe-3]^Ze[Oe-8]^Ze[Oe-14]^Ze[Oe-16])<<1|ot>>>31);var tn,On,xt=this.chain_[0],Xt=this.chain_[1],un=this.chain_[2],fn=this.chain_[3],pr=this.chain_[4];for(Oe=0;Oe<80;Oe++){Oe<40?Oe<20?(tn=fn^Xt&(un^fn),On=1518500249):(tn=Xt^un^fn,On=1859775393):Oe<60?(tn=Xt&un|fn&(Xt|un),On=2400959708):(tn=Xt^un^fn,On=3395469782);var ot=(xt<<5|xt>>>27)+tn+pr+On+Ze[Oe]&4294967295;pr=fn,fn=un,un=4294967295&(Xt<<30|Xt>>>2),Xt=xt,xt=ot}this.chain_[0]=this.chain_[0]+xt&4294967295,this.chain_[1]=this.chain_[1]+Xt&4294967295,this.chain_[2]=this.chain_[2]+un&4294967295,this.chain_[3]=this.chain_[3]+fn&4294967295,this.chain_[4]=this.chain_[4]+pr&4294967295},ge.prototype.update=function(ie,Me){if(null!=ie){void 0===Me&&(Me=ie.length);for(var Ze=Me-this.blockSize,Oe=0,ot=this.buf_,xt=this.inbuf_;Oe<Me;){if(0===xt)for(;Oe<=Ze;)this.compress_(ie,Oe),Oe+=this.blockSize;if("string"==typeof ie){for(;Oe<Me;)if(ot[xt]=ie.charCodeAt(Oe),++Oe,++xt===this.blockSize){this.compress_(ot),xt=0;break}}else for(;Oe<Me;)if(ot[xt]=ie[Oe],++Oe,++xt===this.blockSize){this.compress_(ot),xt=0;break}}this.inbuf_=xt,this.total_+=Me}},ge.prototype.digest=function(){var ie=[],Me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ze=this.blockSize-1;Ze>=56;Ze--)this.buf_[Ze]=255&Me,Me/=256;this.compress_(this.buf_);var Oe=0;for(Ze=0;Ze<5;Ze++)for(var ot=24;ot>=0;ot-=8)ie[Oe]=this.chain_[Ze]>>ot&255,++Oe;return ie}}();var Sn=function(){function ge(ie,Me){var Ze=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(function(){ie(Ze)}).catch(function(Oe){Ze.error(Oe)})}return ge.prototype.next=function(ie){this.forEachObserver(function(Me){Me.next(ie)})},ge.prototype.error=function(ie){this.forEachObserver(function(Me){Me.error(ie)}),this.close(ie)},ge.prototype.complete=function(){this.forEachObserver(function(ie){ie.complete()}),this.close()},ge.prototype.subscribe=function(ie,Me,Ze){var ot,Oe=this;if(void 0===ie&&void 0===Me&&void 0===Ze)throw new Error("Missing Observer.");void 0===(ot=function(ge,ie){if("object"!=typeof ge||null===ge)return!1;for(var Me=0,Ze=["next","error","complete"];Me<Ze.length;Me++){var Oe=Ze[Me];if(Oe in ge&&"function"==typeof ge[Oe])return!0}return!1}(ie)?ie:{next:ie,error:Me,complete:Ze}).next&&(ot.next=Hn),void 0===ot.error&&(ot.error=Hn),void 0===ot.complete&&(ot.complete=Hn);var xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Oe.finalError?ot.error(Oe.finalError):ot.complete()}catch(Xt){}}),this.observers.push(ot),xt},ge.prototype.unsubscribeOne=function(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ge.prototype.forEachObserver=function(ie){if(!this.finalized)for(var Me=0;Me<this.observers.length;Me++)this.sendOne(Me,ie)},ge.prototype.sendOne=function(ie,Me){var Ze=this;this.task.then(function(){if(void 0!==Ze.observers&&void 0!==Ze.observers[ie])try{Me(Ze.observers[ie])}catch(Oe){"undefined"!=typeof console&&console.error&&console.error(Oe)}})},ge.prototype.close=function(ie){var Me=this;this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(function(){Me.observers=void 0,Me.onNoObservers=void 0}))},ge}();function Hn(){}function Mn(ge){return ge&&ge._delegate?ge._delegate:ge}},7841:(At,ze,q)=>{"use strict";q.d(ze,{Z:()=>w.Z});var w=q(4486);w.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(At,ze,q)=>{"use strict";q.r(ze);var w=q(8239),v=q(4486),J=q(4685),Ee=q(5452),be=q(4762),me=q(300),Be=q(6034);const Ke=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new me.Yd("@firebase/auth");function it(C,...p){nt.logLevel<=me.in.ERROR&&nt.error(`Auth (${Ee.SDK_VERSION}): ${C}`,...p)}function We(C,...p){throw Le(C,...p)}function ce(C,...p){return Le(C,...p)}function Je(C,p,g){const T=Object.assign(Object.assign({},je()),{[p]:g});return new J.LL("auth","Firebase",T).create(p,{appName:C.name})}function Ot(C,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&We(C,"argument-error"),Je(C,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(C,...p){if("string"!=typeof C){const g=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(g,...T)}return Fe.create(C,...p)}function Qe(C,p,...g){if(!C)throw Le(p,...g)}function ke(C){const p="INTERNAL ASSERTION FAILED: "+C;throw it(p),new Error(p)}function Ue(C,p){C||ke(p)}const Se=new Map;function Ne(C){Ue(C instanceof Function,"Expected a class definition");let p=Se.get(C);return p?(Ue(p instanceof C,"Instance stored in cache mismatched with class"),p):(p=new C,Se.set(C,p),p)}function lt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Xe(){return"http:"===qt()||"https:"===qt()}function qt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class gn{constructor(p,g){this.shortDelay=p,this.longDelay=g,Ue(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,J.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function kn(C,p){Ue(C.emulator,"Emulator should always be set here");const{url:g}=C.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class rt{static initialize(p,g,T){this.fetchImpl=p,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ce=new gn(3e4,6e4);function xe(C,p){return C.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:C.tenantId}):p}function yt(C,p,g,T){return _t.apply(this,arguments)}function _t(){return(_t=(0,w.Z)(function*(C,p,g,T,B={}){return _n(C,B,()=>{let Q={},De={};T&&("GET"===p?De=T:Q={body:JSON.stringify(T)});const Ye=(0,J.xO)(Object.assign({key:C.config.apiKey},De)).slice(1),Ct=new(rt.headers());return Ct.set("Content-Type","application/json"),Ct.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Ct.set("X-Firebase-Locale",C.languageCode),rt.fetch()(Fn(C,C.config.apiHost,g,Ye),Object.assign({method:p,headers:Ct,referrerPolicy:"no-referrer"},Q))})})).apply(this,arguments)}function _n(C,p,g){return jt.apply(this,arguments)}function jt(){return(jt=(0,w.Z)(function*(C,p,g){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},mt),p);try{const B=new jn(C),Q=yield Promise.race([g(),B.promise]);B.clearNetworkTimeout();const De=yield Q.json();if("needConfirmation"in De)throw kt(C,"account-exists-with-different-credential",De);if(Q.ok&&!("errorMessage"in De))return De;{const Ye=Q.ok?De.errorMessage:De.error.message,[Ct,Nt]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw kt(C,"credential-already-in-use",De);if("EMAIL_EXISTS"===Ct)throw kt(C,"email-already-in-use",De);const Ut=T[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw Je(C,Ut,Nt);We(C,Ut)}}catch(B){if(B instanceof J.ZR)throw B;We(C,"network-request-failed")}})).apply(this,arguments)}function hn(C,p,g,T){return _r.apply(this,arguments)}function _r(){return(_r=(0,w.Z)(function*(C,p,g,T,B={}){const Q=yield yt(C,p,g,T,B);return"mfaPendingCredential"in Q&&We(C,"multi-factor-auth-required",{serverResponse:Q}),Q})).apply(this,arguments)}function Fn(C,p,g,T){const B=`${p}${g}?${T}`;return C.config.emulator?kn(C.config,B):`${C.config.apiScheme}://${B}`}class jn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(ce(this.auth,"timeout")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kt(C,p,g){const T={appName:C.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const B=ce(C,p,T);return B.customData._tokenResponse=g,B}function Sn(){return(Sn=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function xn(C,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Hn(C,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function at(C){if(C)try{const p=new Date(Number(C));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function $n(){return($n=(0,w.Z)(function*(C,p=!1){const g=(0,J.m9)(C),T=yield g.getIdToken(p),B=Mt(T);Qe(B&&B.exp&&B.auth_time&&B.iat,g.auth,"internal-error");const Q="object"==typeof B.firebase?B.firebase:void 0,De=null==Q?void 0:Q.sign_in_provider;return{claims:B,token:T,authTime:at(wn(B.auth_time)),issuedAtTime:at(wn(B.iat)),expirationTime:at(wn(B.exp)),signInProvider:De||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function wn(C){return 1e3*Number(C)}function Mt(C){const[p,g,T]=C.split(".");if(void 0===p||void 0===g||void 0===T)return it("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,J.tV)(g);return B?JSON.parse(B):(it("Failed to decode base64 JWT payload"),null)}catch(B){return it("Caught error parsing JWT payload as JSON",B),null}}function Yn(C,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,w.Z)(function*(C,p,g=!1){if(g)return p;try{return yield p}catch(T){throw T instanceof J.ZR&&Oi(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function Oi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class qn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const B=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,w.Z)(function*(){yield g.iteration()}),T)}iteration(){var p=this;return(0,w.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class vr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=at(this.lastLoginAt),this.creationTime=at(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zt(C){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,w.Z)(function*(C){var p;const g=C.auth,T=yield C.getIdToken(),B=yield Yn(C,Hn(g,{idToken:T}));Qe(null==B?void 0:B.users.length,g,"internal-error");const Q=B.users[0];C._notifyReloadListener(Q);const De=(null===(p=Q.providerUserInfo)||void 0===p?void 0:p.length)?Ze(Q.providerUserInfo):[],Ye=Me(C.providerData,De),Ut=!!C.isAnonymous&&!(C.email&&Q.passwordHash||(null==Ye?void 0:Ye.length)),Bt={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:Ye,metadata:new vr(Q.createdAt,Q.lastLoginAt),isAnonymous:Ut};Object.assign(C,Bt)})).apply(this,arguments)}function ie(){return(ie=(0,w.Z)(function*(C){const p=(0,J.m9)(C);yield zt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Me(C,p){return[...C.filter(T=>!p.some(B=>B.providerId===T.providerId)),...p]}function Ze(C){return C.map(p=>{var{providerId:g}=p,T=(0,be._T)(p,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function ot(){return(ot=(0,w.Z)(function*(C,p){const g=yield _n(C,{},()=>{const T=(0,J.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:B,apiKey:Q}=C.config,De=Fn(C,B,"/v1/token",`key=${Q}`);return rt.fetch()(De,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Qe(p.idToken,"internal-error"),Qe(void 0!==p.idToken,"internal-error"),Qe(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(C){const p=Mt(C);return Qe(p,"internal-error"),Qe(void 0!==p.exp,"internal-error"),Qe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var T=this;return(0,w.Z)(function*(){return Qe(!T.accessToken||T.refreshToken,p,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(p,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var T=this;return(0,w.Z)(function*(){const{accessToken:B,refreshToken:Q,expiresIn:De}=yield function(C,p){return ot.apply(this,arguments)}(p,g);T.updateTokensAndExpiration(B,Q,Number(De))})()}updateTokensAndExpiration(p,g,T){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,g){const{refreshToken:T,accessToken:B,expirationTime:Q}=g,De=new xt;return T&&(Qe("string"==typeof T,"internal-error",{appName:p}),De.refreshToken=T),B&&(Qe("string"==typeof B,"internal-error",{appName:p}),De.accessToken=B),Q&&(Qe("number"==typeof Q,"internal-error",{appName:p}),De.expirationTime=Q),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xt,this.toJSON())}_performRefresh(){return ke("not implemented")}}function Xt(C,p){Qe("string"==typeof C||void 0===C,"internal-error",{appName:p})}class un{constructor(p){var{uid:g,auth:T,stsTokenManager:B}=p,Q=(0,be._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.metadata=new vr(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,w.Z)(function*(){const T=yield Yn(g,g.stsTokenManager.getToken(g.auth,p));return Qe(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(p){return function(C){return $n.apply(this,arguments)}(this,p)}reload(){return function(C){return ie.apply(this,arguments)}(this)}_assign(p){this!==p&&(Qe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new un(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var T=this;return(0,w.Z)(function*(){let B=!1;p.idToken&&p.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(p),B=!0),g&&(yield zt(T)),yield T.auth._persistUserIfCurrent(T),B&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var p=this;return(0,w.Z)(function*(){const g=yield p.getIdToken();return yield Yn(p,function(C,p){return Sn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var T,B,Q,De,Ye,Ct,Nt,Ut;const Bt=null!==(T=g.displayName)&&void 0!==T?T:void 0,Er=null!==(B=g.email)&&void 0!==B?B:void 0,fr=null!==(Q=g.phoneNumber)&&void 0!==Q?Q:void 0,Xo=null!==(De=g.photoURL)&&void 0!==De?De:void 0,xl=null!==(Ye=g.tenantId)&&void 0!==Ye?Ye:void 0,ch=null!==(Ct=g._redirectEventId)&&void 0!==Ct?Ct:void 0,od=null!==(Nt=g.createdAt)&&void 0!==Nt?Nt:void 0,Gf=null!==(Ut=g.lastLoginAt)&&void 0!==Ut?Ut:void 0,{uid:ft,emailVerified:uc,isAnonymous:po,providerData:dh,stsTokenManager:To}=g;Qe(ft&&To,p,"internal-error");const us=xt.fromJSON(this.name,To);Qe("string"==typeof ft,p,"internal-error"),Xt(Bt,p.name),Xt(Er,p.name),Qe("boolean"==typeof uc,p,"internal-error"),Qe("boolean"==typeof po,p,"internal-error"),Xt(fr,p.name),Xt(Xo,p.name),Xt(xl,p.name),Xt(ch,p.name),Xt(od,p.name),Xt(Gf,p.name);const zf=new un({uid:ft,auth:p,email:Er,emailVerified:uc,displayName:Bt,isAnonymous:po,photoURL:Xo,phoneNumber:fr,tenantId:xl,stsTokenManager:us,createdAt:od,lastLoginAt:Gf});return dh&&Array.isArray(dh)&&(zf.providerData=dh.map(pu=>Object.assign({},pu))),ch&&(zf._redirectEventId=ch),zf}static _fromIdTokenResponse(p,g,T=!1){return(0,w.Z)(function*(){const B=new xt;B.updateFromServerResponse(g);const Q=new un({uid:g.localId,auth:p,stsTokenManager:B,isAnonymous:T});return yield zt(Q),Q})()}}const pr=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(g,T){var B=this;return(0,w.Z)(function*(){B.storage[g]=T})()}_get(g){var T=this;return(0,w.Z)(function*(){const B=T.storage[g];return void 0===B?null:B})()}_remove(g){var T=this;return(0,w.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return C.type="NONE",C})();function tn(C,p,g){return`firebase:${C}:${p}:${g}`}class On{constructor(p,g,T){this.persistence=p,this.auth=g,this.userKey=T;const{config:B,name:Q}=this.auth;this.fullUserKey=tn(this.userKey,B.apiKey,Q),this.fullPersistenceKey=tn("persistence",B.apiKey,Q),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,w.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?un._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,w.Z)(function*(){if(g.persistence===p)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,T="authUser"){return(0,w.Z)(function*(){if(!g.length)return new On(Ne(pr),p,T);const B=(yield Promise.all(g.map(function(){var Nt=(0,w.Z)(function*(Ut){if(yield Ut._isAvailable())return Ut});return function(Ut){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let Q=B[0]||Ne(pr);const De=tn(T,p.config.apiKey,p.name);let Ye=null;for(const Nt of g)try{const Ut=yield Nt._get(De);if(Ut){const Bt=un._fromJSON(p,Ut);Nt!==Q&&(Ye=Bt),Q=Nt;break}}catch(Ut){}const Ct=B.filter(Nt=>Nt._shouldAllowMigration);return Q._shouldAllowMigration&&Ct.length?(Q=Ct[0],Ye&&(yield Q._set(De,Ye.toJSON())),yield Promise.all(g.map(function(){var Nt=(0,w.Z)(function*(Ut){if(Ut!==Q)try{yield Ut._remove(De)}catch(Bt){}});return function(Ut){return Nt.apply(this,arguments)}}())),new On(Q,p,T)):new On(Q,p,T)})()}}function Qn(C){const p=C.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ji(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(on(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Zr(p))return"Blackberry";if(ur(p))return"Webos";if(bs(p))return"Safari";if((p.includes("chrome/")||di(p))&&!p.includes("edge/"))return"Chrome";if(hs(p))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function on(C=(0,J.z$)()){return/firefox\//i.test(C)}function bs(C=(0,J.z$)()){const p=C.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function di(C=(0,J.z$)()){return/crios\//i.test(C)}function Ji(C=(0,J.z$)()){return/iemobile/i.test(C)}function hs(C=(0,J.z$)()){return/android/i.test(C)}function Zr(C=(0,J.z$)()){return/blackberry/i.test(C)}function ur(C=(0,J.z$)()){return/webos/i.test(C)}function ir(C=(0,J.z$)()){return/iphone|ipad|ipod/i.test(C)}function Sr(C=(0,J.z$)()){return ir(C)||hs(C)||ur(C)||Zr(C)||/windows phone/i.test(C)||Ji(C)}function sr(C,p=[]){let g;switch(C){case"Browser":g=Qn((0,J.z$)());break;case"Worker":g=`${Qn((0,J.z$)())}-${C}`;break;default:g=C}const T=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${Ee.SDK_VERSION}/${T}`}class Cs{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wt(this),this.idTokenSubscription=new wt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var T=this;return g&&(this._popupRedirectResolver=Ne(g)),this._initializationPromise=this.queue((0,w.Z)(function*(){var B;T._deleted||(T.persistenceManager=yield On.create(T,p),!T._deleted&&((null===(B=T._popupRedirectResolver)||void 0===B?void 0:B._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(g),!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,w.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,w.Z)(function*(){var T;let B=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Q=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,De=null==B?void 0:B._redirectEventId,Ye=yield g.tryRedirectSignIn(p);(!Q||Q===De)&&(null==Ye?void 0:Ye.user)&&(B=Ye.user)}return B?B._redirectEventId?(Qe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===B._redirectEventId?g.directlySetCurrentUser(B):g.reloadAndSetCurrentUserOrClear(B)):g.reloadAndSetCurrentUserOrClear(B):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,w.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(B){yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,w.Z)(function*(){try{yield zt(p)}catch(T){if("auth/network-request-failed"!==T.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var p=this;return(0,w.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,w.Z)(function*(){const T=p?(0,J.m9)(p):null;return T&&Qe(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,w.Z)(function*(){if(!g._deleted)return p&&Qe(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,w.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,w.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,w.Z)(function*(){yield g.assertedPersistence.setPersistence(Ne(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new J.LL("auth","Firebase",p())}onAuthStateChanged(p,g,T){return this.registerStateListener(this.authStateSubscription,p,g,T)}onIdTokenChanged(p,g,T){return this.registerStateListener(this.idTokenSubscription,p,g,T)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var T=this;return(0,w.Z)(function*(){const B=yield T.getOrInitRedirectPersistenceManager(g);return null===p?B.removeCurrentUser():B.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,w.Z)(function*(){if(!g.redirectPersistenceManager){const T=p&&Ne(p)||g._popupRedirectResolver;Qe(T,g,"argument-error"),g.redirectPersistenceManager=yield On.create(g,[Ne(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,w.Z)(function*(){var T,B;return g._isInitialized&&(yield g.queue((0,w.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===p?g._currentUser:(null===(B=g.redirectUser)||void 0===B?void 0:B._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,w.Z)(function*(){if(p===g.currentUser)return g.queue((0,w.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,T,B){if(this._deleted)return()=>{};const Q="function"==typeof g?g:g.next.bind(g),De=this._isInitialized?Promise.resolve():this._initializationPromise;return Qe(De,this,"internal-error"),De.then(()=>Q(this.currentUser)),"function"==typeof g?p.addObserver(g,T,B):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,w.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function En(C){return(0,J.m9)(C)}class wt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,J.ne)(g=>this.observer=g)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bn(C){const p=C.indexOf(":");return p<0?"":C.substr(0,p+1)}function hi(C){if(!C)return null;const p=Number(C);return isNaN(p)?null:p}class ve{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ke("not implemented")}_getIdTokenResponse(p){return ke("not implemented")}_linkToIdToken(p,g){return ke("not implemented")}_getReauthenticationResolver(p){return ke("not implemented")}}function le(C,p){return re.apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:resetPassword",xe(C,p))})).apply(this,arguments)}function Re(C,p){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ht(C,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:update",xe(C,p))})).apply(this,arguments)}function Xn(){return(Xn=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signInWithPassword",xe(C,p))})).apply(this,arguments)}function cr(C,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:sendOobCode",xe(C,p))})).apply(this,arguments)}function ji(C,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,w.Z)(function*(C,p){return cr(C,p)})).apply(this,arguments)}function Gn(C,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,w.Z)(function*(C,p){return cr(C,p)})).apply(this,arguments)}function Zt(C,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,w.Z)(function*(C,p){return cr(C,p)})).apply(this,arguments)}function Wr(C,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,w.Z)(function*(C,p){return cr(C,p)})).apply(this,arguments)}function Vr(){return(Vr=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signInWithEmailLink",xe(C,p))})).apply(this,arguments)}function fi(){return(fi=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signInWithEmailLink",xe(C,p))})).apply(this,arguments)}class Ur extends ve{constructor(p,g,T,B=null){super("password",T),this._email=p,this._password=g,this._tenantId=B}static _fromEmailAndPassword(p,g){return new Ur(p,g,"password")}static _fromEmailAndCode(p,g,T=null){return new Ur(p,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,w.Z)(function*(){switch(g.signInMethod){case"password":return function(C,p){return Xn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(C,p){return Vr.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:We(p,"internal-error")}})()}_linkToIdToken(p,g){var T=this;return(0,w.Z)(function*(){switch(T.signInMethod){case"password":return Re(p,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(C,p){return fi.apply(this,arguments)}(p,{idToken:g,email:T._email,oobCode:T._password});default:We(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Cn(C,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signInWithIdp",xe(C,p))})).apply(this,arguments)}class wr extends ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new wr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):We("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:B}=g,Q=(0,be._T)(g,["providerId","signInMethod"]);if(!T||!B)return null;const De=new wr(T,B);return Object.assign(De,Q),De}_getIdTokenResponse(p){return Cn(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,Cn(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Cn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,J.xO)(g)}return p}}function Cr(C,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:sendVerificationCode",xe(C,p))})).apply(this,arguments)}function qs(){return(qs=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",xe(C,p))})).apply(this,arguments)}function Ts(){return(Ts=(0,w.Z)(function*(C,p){const g=yield hn(C,"POST","/v1/accounts:signInWithPhoneNumber",xe(C,p));if(g.temporaryProof)throw kt(C,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ds={USER_NOT_FOUND:"user-not-found"};function kr(){return(kr=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signInWithPhoneNumber",xe(C,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ds)})).apply(this,arguments)}class pi extends ve{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new pi({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new pi({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(C,p){return qs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(C,p){return Ts.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(C,p){return kr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:T,verificationCode:B}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:T,code:B}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:T,phoneNumber:B,temporaryProof:Q}=p;return T||g||B||Q?new pi({verificationId:g,verificationCode:T,phoneNumber:B,temporaryProof:Q}):null}}class ns{constructor(p){var g,T,B,Q,De,Ye;const Ct=(0,J.zd)((0,J.pd)(p)),Nt=null!==(g=Ct.apiKey)&&void 0!==g?g:null,Ut=null!==(T=Ct.oobCode)&&void 0!==T?T:null,Bt=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Ct.mode)&&void 0!==B?B:null);Qe(Nt&&Ut&&Bt,"argument-error"),this.apiKey=Nt,this.operation=Bt,this.code=Ut,this.continueUrl=null!==(Q=Ct.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(De=Ct.languageCode)&&void 0!==De?De:null,this.tenantId=null!==(Ye=Ct.tenantId)&&void 0!==Ye?Ye:null}static parseLink(p){const g=function(C){const p=(0,J.zd)((0,J.pd)(C)).link,g=p?(0,J.zd)((0,J.pd)(p)).deep_link_id:null,T=(0,J.zd)((0,J.pd)(C)).deep_link_id;return(T?(0,J.zd)((0,J.pd)(T)).link:null)||T||g||p||C}(p);try{return new ns(g)}catch(T){return null}}}let Lo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(g,T){return Ur._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const B=ns.parseLink(T);return Qe(B,"argument-error"),Ur._fromEmailAndCode(g,B.code,B.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class gi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class qi extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Pi extends qi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Qe("providerId"in g&&"signInMethod"in g,"argument-error"),wr._fromParams(g)}credential(p){return this._credential(p)}_credential(p){return Qe(p.idToken||p.accessToken,"argument-error"),wr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Pi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Pi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:B,pendingToken:Q,nonce:De,providerId:Ye}=p;if(!T&&!B&&!g&&!Q||!Ye)return null;try{return new Pi(Ye)._credential({idToken:g,accessToken:T,rawNonce:De,pendingToken:Q})}catch(Ct){return null}}}let As=(()=>{class C extends qi{constructor(){super("facebook.com")}static credential(g){return wr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return C.credentialFromTaggedObject(g)}static credentialFromError(g){return C.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return C.credential(g.oauthAccessToken)}catch(T){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Ss=(()=>{class C extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return wr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return C.credentialFromTaggedObject(g)}static credentialFromError(g){return C.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:B}=g;if(!T&&!B)return null;try{return C.credential(T,B)}catch(Q){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ki=(()=>{class C extends qi{constructor(){super("github.com")}static credential(g){return wr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return C.credentialFromTaggedObject(g)}static credentialFromError(g){return C.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return C.credential(g.oauthAccessToken)}catch(T){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Fi extends ve{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Cn(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,Cn(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Cn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:B,pendingToken:Q}=g;return T&&B&&Q&&T===B?new Fi(T,Q):null}static _create(p,g){return new Fi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let bi=(()=>{class C extends qi{constructor(){super("twitter.com")}static credential(g,T){return wr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return C.credentialFromTaggedObject(g)}static credentialFromError(g){return C.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:B}=g;if(!T||!B)return null;try{return C.credential(T,B)}catch(Q){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function rs(C,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signUp",xe(C,p))})).apply(this,arguments)}class Kr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,T,B=!1){return(0,w.Z)(function*(){const Q=yield un._fromIdTokenResponse(p,T,B),De=zs(T);return new Kr({user:Q,providerId:De,_tokenResponse:T,operationType:g})})()}static _forOperation(p,g,T){return(0,w.Z)(function*(){yield p._updateTokensIfNecessary(T,!0);const B=zs(T);return new Kr({user:p,providerId:B,_tokenResponse:T,operationType:g})})()}}function zs(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Br(){return(Br=(0,w.Z)(function*(C){var p;const g=En(C);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Kr({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield rs(g,{returnSecureToken:!0}),B=yield Kr._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(B.user),B})).apply(this,arguments)}class Os extends J.ZR{constructor(p,g,T,B){var Q;super(g.code,g.message),this.operationType=T,this.user=B,this.name="FirebaseError",Object.setPrototypeOf(this,Os.prototype),this.appName=p.name,this.code=g.code,this.tenantId=null!==(Q=p.tenantId)&&void 0!==Q?Q:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(p,g,T,B){return new Os(p,g,T,B)}}function jr(C,p,g,T){return("reauthenticate"===p?g._getReauthenticationResolver(C):g._getIdTokenResponse(C)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?Os._fromErrorAndOperation(C,Q,p,T):Q})}function is(C){return new Set(C.map(({providerId:p})=>p).filter(p=>!!p))}function Zs(){return(Zs=(0,w.Z)(function*(C,p){const g=(0,J.m9)(C);yield V(!0,g,p);const{providerUserInfo:T}=yield xn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),B=is(T||[]);return g.providerData=g.providerData.filter(Q=>B.has(Q.providerId)),B.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function U(C,p){return G.apply(this,arguments)}function G(){return(G=(0,w.Z)(function*(C,p,g=!1){const T=yield Yn(C,p._linkToIdToken(C.auth,yield C.getIdToken()),g);return Kr._forOperation(C,"link",T)})).apply(this,arguments)}function V(C,p,g){return K.apply(this,arguments)}function K(){return(K=(0,w.Z)(function*(C,p,g){yield zt(p);const B=!1===C?"provider-already-linked":"no-such-provider";Qe(is(p.providerData).has(g)===C,p.auth,B)})).apply(this,arguments)}function fe(C,p){return $e.apply(this,arguments)}function $e(){return($e=(0,w.Z)(function*(C,p,g=!1){const{auth:T}=C,B="reauthenticate";try{const Q=yield Yn(C,jr(T,B,p,C),g);Qe(Q.idToken,T,"internal-error");const De=Mt(Q.idToken);Qe(De,T,"internal-error");const{sub:Ye}=De;return Qe(C.uid===Ye,T,"user-mismatch"),Kr._forOperation(C,B,Q)}catch(Q){throw"auth/user-not-found"===(null==Q?void 0:Q.code)&&We(T,"user-mismatch"),Q}})).apply(this,arguments)}function gt(C,p){return L.apply(this,arguments)}function L(){return(L=(0,w.Z)(function*(C,p,g=!1){const T="signIn",B=yield jr(C,T,p),Q=yield Kr._fromIdTokenResponse(C,T,B);return g||(yield C._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function P(C,p){return O.apply(this,arguments)}function O(){return(O=(0,w.Z)(function*(C,p){return gt(En(C),p)})).apply(this,arguments)}function Z(C,p){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,w.Z)(function*(C,p){const g=(0,J.m9)(C);return yield V(!1,g,p.providerId),U(g,p)})).apply(this,arguments)}function bt(C,p){return It.apply(this,arguments)}function It(){return(It=(0,w.Z)(function*(C,p){return fe((0,J.m9)(C),p)})).apply(this,arguments)}function Wn(C,p){return li.apply(this,arguments)}function li(){return(li=(0,w.Z)(function*(C,p){return hn(C,"POST","/v1/accounts:signInWithCustomToken",xe(C,p))})).apply(this,arguments)}function Un(){return(Un=(0,w.Z)(function*(C,p){const g=En(C),T=yield Wn(g,{token:p,returnSecureToken:!0}),B=yield Kr._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(B.user),B})).apply(this,arguments)}class Hr{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ps._fromServerResponse(p,g):We(p,"internal-error")}}class ps extends Hr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ps(g)}}function $r(C,p,g){var T;Qe((null===(T=g.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),Qe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Qe(g.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),p.iosBundleId=g.iOS.bundleId),g.android&&(Qe(g.android.packageName.length>0,C,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function vo(){return(vo=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C),B={requestType:"PASSWORD_RESET",email:p};g&&$r(T,B,g),yield Gn(T,B)})).apply(this,arguments)}function nn(){return(nn=(0,w.Z)(function*(C,p,g){yield le((0,J.m9)(C),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ns(){return(Ns=(0,w.Z)(function*(C,p){yield Ht((0,J.m9)(C),{oobCode:p})})).apply(this,arguments)}function ul(C,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,w.Z)(function*(C,p){const g=(0,J.m9)(C),T=yield le(g,{oobCode:p}),B=T.requestType;switch(Qe(B,g,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Qe(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Qe(T.mfaInfo,g,"internal-error");default:Qe(T.email,g,"internal-error")}let Q=null;return T.mfaInfo&&(Q=Hr._fromServerResponse(En(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:Q},operation:B}})).apply(this,arguments)}function oo(){return(oo=(0,w.Z)(function*(C,p){const{data:g}=yield ul((0,J.m9)(C),p);return g.email})).apply(this,arguments)}function dt(){return(dt=(0,w.Z)(function*(C,p,g){const T=En(C),B=yield rs(T,{returnSecureToken:!0,email:p,password:g}),Q=yield Kr._fromIdTokenResponse(T,"signIn",B);return yield T._updateCurrentUser(Q.user),Q})).apply(this,arguments)}function or(){return(or=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C),B={requestType:"EMAIL_SIGNIN",email:p};Qe(g.handleCodeInApp,T,"argument-error"),g&&$r(T,B,g),yield Zt(T,B)})).apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C),B=Lo.credentialWithLink(p,g||lt());return Qe(B._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),P(T,B)})).apply(this,arguments)}function qa(C,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:createAuthUri",xe(C,p))})).apply(this,arguments)}function ca(){return(ca=(0,w.Z)(function*(C,p){const T={identifier:p,continueUri:Xe()?lt():"http://localhost"},{signinMethods:B}=yield qa((0,J.m9)(C),T);return B||[]})).apply(this,arguments)}function ao(){return(ao=(0,w.Z)(function*(C,p){const g=(0,J.m9)(C),B={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};p&&$r(g.auth,B,p);const{email:Q}=yield ji(g.auth,B);Q!==C.email&&(yield C.reload())})).apply(this,arguments)}function Jr(){return(Jr=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:p};g&&$r(T.auth,Q,g);const{email:De}=yield Wr(T.auth,Q);De!==C.email&&(yield C.reload())})).apply(this,arguments)}function Vo(C,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,w.Z)(function*(C,p){return yt(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lo(){return(lo=(0,w.Z)(function*(C,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const T=(0,J.m9)(C),Q={idToken:yield T.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},De=yield Yn(T,Vo(T.auth,Q));T.displayName=De.displayName||null,T.photoURL=De.photoUrl||null;const Ye=T.providerData.find(({providerId:Ct})=>"password"===Ct);Ye&&(Ye.displayName=T.displayName,Ye.photoURL=T.photoURL),yield T._updateTokensIfNecessary(De)})).apply(this,arguments)}function Or(C,p,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,w.Z)(function*(C,p,g){const{auth:T}=C,Q={idToken:yield C.getIdToken(),returnSecureToken:!0};p&&(Q.email=p),g&&(Q.password=g);const De=yield Yn(C,Re(T,Q));yield C._updateTokensIfNecessary(De,!0)})).apply(this,arguments)}class ys{constructor(p,g,T={}){this.isNewUser=p,this.providerId=g,this.profile=T}}class dl extends ys{constructor(p,g,T,B){super(p,g,T),this.username=B}}class Wl extends ys{constructor(p,g){super(p,"facebook.com",g)}}class Ga extends dl{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class jo extends ys{constructor(p,g){super(p,"google.com",g)}}class za extends dl{constructor(p,g,T){super(p,"twitter.com",g,T)}}function ha(C){const{user:p,_tokenResponse:g}=C;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(C){var p,g;if(!C)return null;const{providerId:T}=C,B=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},Q=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&(null==C?void 0:C.idToken)){const De=null===(g=null===(p=Mt(C.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(De)return new ys(Q,"anonymous"!==De&&"custom"!==De?De:null)}if(!T)return null;switch(T){case"facebook.com":return new Wl(Q,B);case"github.com":return new Ga(Q,B);case"google.com":return new jo(Q,B);case"twitter.com":return new za(Q,B,C.screenName||null);case"custom":case"anonymous":return new ys(Q,null);default:return new ys(Q,T,B)}}(g)}class zi{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new zi("enroll",p)}static _fromMfaPendingCredential(p){return new zi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,T;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return zi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(T=p.multiFactorSession)||void 0===T?void 0:T.idToken)return zi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ho{constructor(p,g,T){this.session=p,this.hints=g,this.signInResolver=T}static _fromError(p,g){const T=En(p),B=(g.serverResponse.mfaInfo||[]).map(De=>Hr._fromServerResponse(T,De));Qe(g.serverResponse.mfaPendingCredential,T,"internal-error");const Q=zi._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new Ho(Q,B,function(){var De=(0,w.Z)(function*(Ye){const Ct=yield Ye._process(T,Q);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const Nt=Object.assign(Object.assign({},g.serverResponse),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(g.operationType){case"signIn":const Ut=yield Kr._fromIdTokenResponse(T,g.operationType,Nt);return yield T._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return Qe(g.user,T,"internal-error"),Kr._forOperation(g.user,g.operationType,Nt);default:We(T,"internal-error")}});return function(Ye){return De.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,w.Z)(function*(){return g.signInResolver(p)})()}}function Vi(C,p){return yt(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},p))}class N{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>Hr._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new N(p)}getSession(){var p=this;return(0,w.Z)(function*(){return zi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var T=this;return(0,w.Z)(function*(){const B=p,Q=yield T.getSession(),De=yield Yn(T.user,B._process(T.user.auth,Q,g));return yield T.user._updateTokensIfNecessary(De),T.user.reload()})()}unenroll(p){var g=this;return(0,w.Z)(function*(){const T="string"==typeof p?p:p.uid,B=yield g.user.getIdToken(),Q=yield Yn(g.user,function(C,p){return yt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},p))}(g.user.auth,{idToken:B,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:De})=>De!==T),yield g.user._updateTokensIfNecessary(Q);try{yield g.user.reload()}catch(De){if("auth/user-token-expired"!==De.code)throw De}})()}}const $=new WeakMap,ct="__sak";class Wt{constructor(p,g){this.storage=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ct,"1"),this.storage.removeItem(ct),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const Ci=(()=>{class C extends Wt{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,J.z$)();return bs(C)||ir(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Sr(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const B=this.storage.getItem(T),Q=this.localCache[T];B!==Q&&g(T,Q,B)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((Ye,Ct,Nt)=>{this.notifyListeners(Ye,Nt)});const B=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(B);if(g.newValue!==Ye)null!==g.newValue?this.storage.setItem(B,g.newValue):this.storage.removeItem(B);else if(this.localCache[B]===g.newValue&&!T)return}const Q=()=>{const Ye=this.storage.getItem(B);!T&&this.localCache[B]===Ye||this.notifyListeners(B,Ye)},De=this.storage.getItem(B);(0,J.w1)()&&10===document.documentMode&&De!==g.newValue&&g.newValue!==g.oldValue?setTimeout(Q,10):Q()}notifyListeners(g,T){this.localCache[g]=T;const B=this.listeners[g];if(B)for(const Q of Array.from(B))Q(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var B=()=>super._set,Q=this;return(0,w.Z)(function*(){yield B().call(Q,g,T),Q.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,B=this;return(0,w.Z)(function*(){const Q=yield T().call(B,g);return B.localCache[g]=JSON.stringify(Q),Q})()}_remove(g){var T=()=>super._remove,B=this;return(0,w.Z)(function*(){yield T().call(B,g),delete B.localCache[g]})()}}return C.type="LOCAL",C})(),Ys=(()=>{class C extends Wt{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return C.type="SESSION",C})();let Yl=(()=>{class C{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(Q=>Q.isListeningto(g));if(T)return T;const B=new C(g);return this.receivers.push(B),B}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,w.Z)(function*(){const B=g,{eventId:Q,eventType:De,data:Ye}=B.data,Ct=T.handlersMap[De];if(!(null==Ct?void 0:Ct.size))return;B.ports[0].postMessage({status:"ack",eventId:Q,eventType:De});const Nt=Array.from(Ct).map(function(){var Bt=(0,w.Z)(function*(Er){return Er(B.origin,Ye)});return function(Er){return Bt.apply(this,arguments)}}()),Ut=yield function(C){return Promise.all(C.map(function(){var p=(0,w.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return p.apply(this,arguments)}}()))}(Nt);B.ports[0].postMessage({status:"done",eventId:Q,eventType:De,response:Ut})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function pa(C="",p=10){let g="";for(let T=0;T<p;T++)g+=Math.floor(10*Math.random());return C+g}class _s{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,T=50){var B=this;return(0,w.Z)(function*(){const Q="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let De,Ye;return new Promise((Ct,Nt)=>{const Ut=pa("",20);Q.port1.start();const Bt=setTimeout(()=>{Nt(new Error("unsupported_event"))},T);Ye={messageChannel:Q,onMessage(Er){const fr=Er;if(fr.data.eventId===Ut)switch(fr.data.status){case"ack":clearTimeout(Bt),De=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(De),Ct(fr.data.response);break;default:clearTimeout(Bt),clearTimeout(De),Nt(new Error("invalid_response"))}}},B.handlers.add(Ye),Q.port1.addEventListener("message",Ye.onMessage),B.target.postMessage({eventType:p,eventId:Ut,data:g},[Q.port2])}).finally(()=>{Ye&&B.removeMessageHandler(Ye)})})()}}function Nr(){return window}function Qs(){return void 0!==Nr().WorkerGlobalScope&&"function"==typeof Nr().importScripts}function Jl(){return(Jl=(0,w.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const qu="firebaseLocalStorageDb",ma="firebaseLocalStorage",Eo="fbase_key";class hl{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xl(C,p){return C.transaction([ma],p?"readwrite":"readonly").objectStore(ma)}function ei(){const C=indexedDB.open(qu,1);return new Promise((p,g)=>{C.addEventListener("error",()=>{g(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(ma,{keyPath:Eo})}catch(B){g(B)}}),C.addEventListener("success",(0,w.Z)(function*(){const T=C.result;T.objectStoreNames.contains(ma)?p(T):(T.close(),yield function(){const C=indexedDB.deleteDatabase(qu);return new hl(C).toPromise()}(),p(yield ei()))}))})}function ya(C,p,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,w.Z)(function*(C,p,g){const T=Xl(C,!0).put({[Eo]:p,value:g});return new hl(T).toPromise()})).apply(this,arguments)}function _a(){return(_a=(0,w.Z)(function*(C,p){const g=Xl(C,!1).get(p),T=yield new hl(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Et(C,p){const g=Xl(C,!0).delete(p);return new hl(g).toPromise()}const Ft=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,w.Z)(function*(){return g.db||(g.db=yield ei()),g.db})()}_withRetries(g){var T=this;return(0,w.Z)(function*(){let B=0;for(;;)try{const Q=yield T._openDb();return yield g(Q)}catch(Q){if(B++>3)throw Q;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,w.Z)(function*(){return Qs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,w.Z)(function*(){g.receiver=Yl._getInstance(Qs()?self:null),g.receiver._subscribe("keyChanged",function(){var T=(0,w.Z)(function*(B,Q){return{keyProcessed:(yield g._poll()).includes(Q.key)}});return function(B,Q){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,w.Z)(function*(B,Q){return["keyChanged"]});return function(B,Q){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,w.Z)(function*(){var T,B;if(g.activeServiceWorker=yield function(){return Jl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new _s(g.activeServiceWorker);const Q=yield g.sender._send("ping",{},800);!Q||(null===(T=Q[0])||void 0===T?void 0:T.fulfilled)&&(null===(B=Q[0])||void 0===B?void 0:B.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,w.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch(B){}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ei();return yield ya(g,ct,"1"),yield Et(g,ct),!0}catch(g){}return!1})()}_withPendingWrite(g){var T=this;return(0,w.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var B=this;return(0,w.Z)(function*(){return B._withPendingWrite((0,w.Z)(function*(){return yield B._withRetries(Q=>ya(Q,g,T)),B.localCache[g]=T,B.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,w.Z)(function*(){const B=yield T._withRetries(Q=>function(C,p){return _a.apply(this,arguments)}(Q,g));return T.localCache[g]=B,B})()}_remove(g){var T=this;return(0,w.Z)(function*(){return T._withPendingWrite((0,w.Z)(function*(){return yield T._withRetries(B=>Et(B,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,w.Z)(function*(){const T=yield g._withRetries(De=>{const Ye=Xl(De,!1).getAll();return new hl(Ye).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const B=[],Q=new Set;for(const{fbase_key:De,value:Ye}of T)Q.add(De),JSON.stringify(g.localCache[De])!==JSON.stringify(Ye)&&(g.notifyListeners(De,Ye),B.push(De));for(const De of Object.keys(g.localCache))g.localCache[De]&&!Q.has(De)&&(g.notifyListeners(De,null),B.push(De));return B})()}notifyListeners(g,T){this.localCache[g]=T;const B=this.listeners[g];if(B)for(const Q of Array.from(B))Q(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function S(C,p){return yt(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},p))}function x(){return(x=(0,w.Z)(function*(C){return(yield yt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function z(C){return new Promise((p,g)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=p,T.onerror=B=>{const Q=ce("internal-error");Q.customData=B,g(Q)},T.type="text/javascript",T.charset="UTF-8",function(){var C,p;return null!==(p=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==p?p:document}().appendChild(T)})}function se(C){return`__${C}${Math.floor(1e6*Math.random())}`}const St=1e12;class zn{constructor(p){this.auth=p,this.counter=St,this._widgets=new Map}render(p,g){const T=this.counter;return this._widgets.set(T,new Kt(p,this.auth.name,g||{})),this.counter++,T}reset(p){var g;const T=p||St;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(p){var g;return(null===(g=this._widgets.get(p||St))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,w.Z)(function*(){var T;return null===(T=g._widgets.get(p||St))||void 0===T||T.execute(),""})()}}class Kt{constructor(p,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const B="string"==typeof p?document.getElementById(p):p;Qe(B,"argument-error",{appName:g}),this.container=B,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bn=se("rcb"),os=new gn(3e4,6e4);class ui{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nr().grecaptcha}load(p,g=""){return Qe((C=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Nr().grecaptcha):new Promise((T,B)=>{const Q=Nr().setTimeout(()=>{B(ce(p,"network-request-failed"))},os.get());Nr()[bn]=()=>{Nr().clearTimeout(Q),delete Nr()[bn];const Ye=Nr().grecaptcha;if(!Ye)return void B(ce(p,"internal-error"));const Ct=Ye.render;Ye.render=(Nt,Ut)=>{const Bt=Ct(Nt,Ut);return this.counter++,Bt},this.hostLanguage=g,T(Ye)},z(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:bn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(Q),B(ce(p,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Nr().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class er{load(p){return(0,w.Z)(function*(){return new zn(p)})()}clearedOneInstance(){}}const rn="recaptcha",zu={theme:"light",type:"image"};class pl{constructor(p,g=Object.assign({},zu),T){this.parameters=g,this.type=rn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(T),this.isInvisible="invisible"===this.parameters.size,Qe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const B="string"==typeof p?document.getElementById(p):p;Qe(B,this.auth,"argument-error"),this.container=B,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new er:new ui,this.validateStartingState()}verify(){var p=this;return(0,w.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(g)||new Promise(Q=>{const De=Ye=>{!Ye||(p.tokenChangeListeners.delete(De),Q(Ye))};p.tokenChangeListeners.add(De),p.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Qe(!this.parameters.sitekey,this.auth,"argument-error"),Qe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof p)p(g);else if("string"==typeof p){const T=Nr()[p];"function"==typeof T&&T(g)}}}assertNotDestroyed(){Qe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,w.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,w.Z)(function*(){Qe(Xe()&&!Qs(),p.auth,"internal-error"),yield function(){let C=null;return new Promise(p=>{"complete"!==document.readyState?(C=()=>p(),window.addEventListener("load",C)):p()}).catch(p=>{throw C&&window.removeEventListener("load",C),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(C){return x.apply(this,arguments)}(p.auth);Qe(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Qe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gl{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=pi._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Wd(){return(Wd=(0,w.Z)(function*(C,p,g){const T=En(C),B=yield Kd(T,p,(0,J.m9)(g));return new gl(B,Q=>P(T,Q))})).apply(this,arguments)}function ml(){return(ml=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C);yield V(!1,T,"phone");const B=yield Kd(T.auth,p,(0,J.m9)(g));return new gl(B,Q=>Z(T,Q))})).apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C),B=yield Kd(T.auth,p,(0,J.m9)(g));return new gl(B,Q=>bt(T,Q))})).apply(this,arguments)}function Kd(C,p,g){return va.apply(this,arguments)}function va(){return(va=(0,w.Z)(function*(C,p,g){var T;const B=yield g.verify();try{let Q;if(Qe("string"==typeof B,C,"argument-error"),Qe(g.type===rn,C,"argument-error"),Q="string"==typeof p?{phoneNumber:p}:p,"session"in Q){const De=Q.session;if("phoneNumber"in Q)return Qe("enroll"===De.type,C,"internal-error"),(yield Vi(C,{idToken:De.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:B}})).phoneSessionInfo.sessionInfo;{Qe("signin"===De.type,C,"internal-error");const Ye=(null===(T=Q.multiFactorHint)||void 0===T?void 0:T.uid)||Q.multiFactorUid;return Qe(Ye,C,"missing-multi-factor-info"),(yield S(C,{mfaPendingCredential:De.credential,mfaEnrollmentId:Ye,phoneSignInInfo:{recaptchaToken:B}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:De}=yield Cr(C,{phoneNumber:Q.phoneNumber,recaptchaToken:B});return De}}finally{g._reset()}})).apply(this,arguments)}function yl(){return(yl=(0,w.Z)(function*(C,p){yield U((0,J.m9)(C),p)})).apply(this,arguments)}let eu=(()=>{class C{constructor(g){this.providerId=C.PROVIDER_ID,this.auth=En(g)}verifyPhoneNumber(g,T){return Kd(this.auth,g,(0,J.m9)(T))}static credential(g,T){return pi._fromVerification(g,T)}static credentialFromResult(g){return C.credentialFromTaggedObject(g)}static credentialFromError(g){return C.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:B}=g;return T&&B?pi._fromTokenResponse(T,B):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function _l(C,p){return p?Ne(p):(Qe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class bo extends ve{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Cn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Cn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Cn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function tu(C){return gt(C.auth,new bo(C),C.bypassAuthState)}function ti(C){const{auth:p,user:g}=C;return Qe(g,p,"internal-error"),fe(g,new bo(C),C.bypassAuthState)}function Zu(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,w.Z)(function*(C){const{auth:p,user:g}=C;return Qe(g,p,"internal-error"),U(g,new bo(C),C.bypassAuthState)})).apply(this,arguments)}class vl{constructor(p,g,T,B,Q=!1){this.auth=p,this.resolver=T,this.user=B,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,w.Z)(function*(T,B){p.pendingPromise={resolve:T,reject:B};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Q){p.reject(Q)}});return function(T,B){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,w.Z)(function*(){const{urlResponse:T,sessionId:B,postBody:Q,tenantId:De,error:Ye,type:Ct}=p;if(Ye)return void g.reject(Ye);const Nt={auth:g.auth,requestUri:T,sessionId:B,tenantId:De||void 0,postBody:Q||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ct)(Nt))}catch(Ut){g.reject(Ut)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return tu;case"linkViaPopup":case"linkViaRedirect":return Zu;case"reauthViaPopup":case"reauthViaRedirect":return ti;default:We(this.auth,"internal-error")}}resolve(p){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zo=new gn(2e3,1e4);function Zi(){return(Zi=(0,w.Z)(function*(C,p,g){const T=En(C);Ot(C,p,gi);const B=_l(T,g);return new Ku(T,"signInViaPopup",p,B).executeNotNull()})).apply(this,arguments)}function Co(){return(Co=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C);Ot(T.auth,p,gi);const B=_l(T.auth,g);return new Ku(T.auth,"reauthViaPopup",p,B,T).executeNotNull()})).apply(this,arguments)}function wl(){return(wl=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C);Ot(T.auth,p,gi);const B=_l(T.auth,g);return new Ku(T.auth,"linkViaPopup",p,B,T).executeNotNull()})).apply(this,arguments)}let Ku=(()=>{class C extends vl{constructor(g,T,B,Q,De){super(g,T,Q,De),this.provider=B,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var g=this;return(0,w.Z)(function*(){const T=yield g.execute();return Qe(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,w.Z)(function*(){Ue(1===g.filter.length,"Popup operations only handle one event");const T=pa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(B=>{g.reject(B)}),g.resolver._isIframeWebStorageSupported(g.auth,B=>{B||g.reject(ce(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,B;this.pollId=(null===(B=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===B?void 0:B.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,zo.get())};g()}}return C.currentPopupAction=null,C})();const Qd=new Map;class Mg extends vl{constructor(p,g,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,w.Z)(function*(){let T=Qd.get(g.auth._key());if(!T){try{const Q=(yield function(C,p){return Di.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;T=()=>Promise.resolve(Q)}catch(B){T=()=>Promise.reject(B)}Qd.set(g.auth._key(),T)}return T()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,T=this;return(0,w.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(T,p);if("unknown"!==p.type){if(p.eventId){const B=yield T.auth._redirectUserForId(p.eventId);if(B)return T.user=B,g().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function Di(){return(Di=(0,w.Z)(function*(C,p){const g=Jd(p),T="true"===(yield kc(C)._get(g));return yield kc(C)._remove(g),T})).apply(this,arguments)}function yi(C,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,w.Z)(function*(C,p){return kc(C)._set(Jd(p),"true")})).apply(this,arguments)}function kc(C){return Ne(C._redirectPersistence)}function Jd(C){return tn("pendingRedirect",C.config.apiKey,C.name)}function nu(){return(nu=(0,w.Z)(function*(C,p,g){const T=En(C);Ot(C,p,gi);const B=_l(T,g);return yield yi(B,T),B._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function Ju(){return(Ju=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C);Ot(T.auth,p,gi);const B=_l(T.auth,g);yield yi(B,T.auth);const Q=yield Df(T);return B._openRedirect(T.auth,p,"reauthViaRedirect",Q)})).apply(this,arguments)}function El(){return(El=(0,w.Z)(function*(C,p,g){const T=(0,J.m9)(C);Ot(T.auth,p,gi);const B=_l(T.auth,g);yield V(!1,T,p.providerId),yield yi(B,T.auth);const Q=yield Df(T);return B._openRedirect(T.auth,p,"linkViaRedirect",Q)})).apply(this,arguments)}function Ya(){return(Ya=(0,w.Z)(function*(C,p){return yield En(C)._initializationPromise,Uc(C,p,!1)})).apply(this,arguments)}function Uc(C,p){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,w.Z)(function*(C,p,g=!1){const T=En(C),B=_l(T,p),De=yield new Mg(T,B,g).execute();return De&&!g&&(delete De.user._redirectEventId,yield T._persistUserIfCurrent(De.user),yield T._setRedirectUser(null,p)),De})).apply(this,arguments)}function Df(C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,w.Z)(function*(C){const p=pa(`${C.uid}:::`);return C._redirectEventId=p,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),p})).apply(this,arguments)}class ba{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(g=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qa(C);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var T;if(p.error&&!Qa(p)){const B=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(ce(this.auth,B))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const T=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ru(p))}saveEventToCache(p){this.cachedEventUids.add(ru(p)),this.lastProcessedEventTime=Date.now()}}function ru(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(p=>p).join("-")}function Qa({type:C,error:p}){return"unknown"===C&&"auth/no-auth-event"===(null==p?void 0:p.code)}function yr(C){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,w.Z)(function*(C,p={}){return yt(C,"GET","/v1/projects",p)})).apply(this,arguments)}const ec=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function tc(){return(tc=(0,w.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:p}=yield yr(C);for(const g of p)try{if(Bc(g))return}catch(T){}We(C,"unauthorized-domain")})).apply(this,arguments)}function Bc(C){const p=lt(),{protocol:g,hostname:T}=new URL(p);if(C.startsWith("chrome-extension://")){const De=new URL(C);return""===De.hostname&&""===T?"chrome-extension:"===g&&C.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&De.hostname===T}if(!Wo.test(g))return!1;if(ec.test(C))return T===C;const B=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(T)}const jc=new gn(3e4,6e4);function iu(){const C=Nr().___jsl;if(null==C?void 0:C.H)for(const p of Object.keys(C.H))if(C.H[p].r=C.H[p].r||[],C.H[p].L=C.H[p].L||[],C.H[p].r=[...C.H[p].L],C.CP)for(let g=0;g<C.CP.length;g++)C.CP[g]=null}let Xs=null;function Ca(C){return Xs=Xs||function(C){return new Promise((p,g)=>{var T,B,Q;function De(){iu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{iu(),g(ce(C,"network-request-failed"))},timeout:jc.get()})}if(null===(B=null===(T=Nr().gapi)||void 0===T?void 0:T.iframes)||void 0===B?void 0:B.Iframe)p(gapi.iframes.getContext());else{if(!(null===(Q=Nr().gapi)||void 0===Q?void 0:Q.load)){const Ye=se("iframefcb");return Nr()[Ye]=()=>{gapi.load?De():g(ce(C,"network-request-failed"))},z(`https://apis.google.com/js/api.js?onload=${Ye}`)}De()}}).catch(p=>{throw Xs=null,p})}(C),Xs}const Ia=new gn(5e3,15e3),Hc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},$c=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nh(C){const p=C.config;Qe(p.authDomain,C,"auth-domain-config-required");const g=p.emulator?kn(p,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:p.apiKey,appName:C.name,v:Ee.SDK_VERSION},B=$c.get(C.config.apiHost);B&&(T.eid=B);const Q=C._getFrameworks();return Q.length&&(T.fw=Q.join(",")),`${g}?${(0,J.xO)(T).slice(1)}`}function qc(){return(qc=(0,w.Z)(function*(C){const p=yield Ca(C),g=Nr().gapi;return Qe(g,C,"internal-error"),p.open({where:document.body,url:nh(C),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hc,dontclear:!0},T=>new Promise(function(){var B=(0,w.Z)(function*(Q,De){yield T.restyle({setHideOnLeave:!1});const Ye=ce(C,"network-request-failed"),Ct=Nr().setTimeout(()=>{De(Ye)},Ia.get());function Nt(){Nr().clearTimeout(Ct),Q(T)}T.ping(Nt).then(Nt,()=>{De(Ye)})});return function(Q,De){return B.apply(this,arguments)}}()))})).apply(this,arguments)}const Ta={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Il(C,p,g,T,B,Q){Qe(C.config.authDomain,C,"auth-domain-config-required"),Qe(C.config.apiKey,C,"invalid-api-key");const De={apiKey:C.config.apiKey,appName:C.name,authType:g,redirectUrl:T,v:Ee.SDK_VERSION,eventId:B};if(p instanceof gi){p.setDefaultLanguage(C.languageCode),De.providerId=p.providerId||"",(0,J.xb)(p.getCustomParameters())||(De.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ct,Nt]of Object.entries(Q||{}))De[Ct]=Nt}if(p instanceof qi){const Ct=p.getScopes().filter(Nt=>""!==Nt);Ct.length>0&&(De.scopes=Ct.join(","))}C.tenantId&&(De.tid=C.tenantId);const Ye=De;for(const Ct of Object.keys(Ye))void 0===Ye[Ct]&&delete Ye[Ct];return`${function({config:C}){return C.emulator?kn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,J.xO)(Ye).slice(1)}`}const ho="webStorageSupport";class Da extends class{constructor(p){this.factorId=p}_process(p,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,T);case"signin":return this._finalizeSignIn(p,g.credential);default:return ke("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Da(p)}_finalizeEnroll(p,g,T){return function(C,p){return yt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},p))}(p,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(C,p){return yt(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class au{constructor(){}static assertion(p){return Da._fromCredential(p)}}var C;class Mf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,w.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(T=>{var B;p((null===(B=T)||void 0===B?void 0:B.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ps(){return window}function fo(){return(fo=(0,w.Z)(function*(C,p,g){var T;const{BuildInfo:B}=Ps();Ue(p.sessionId,"AuthEvent did not contain a session ID");const Q=yield Lf(p.sessionId),De={};return ir()?De.ibi=B.packageName:hs()?De.apn=B.packageName:We(C,"operation-not-supported-in-this-environment"),B.displayName&&(De.appDisplayName=B.displayName),De.sessionId=Q,Il(C,g,p.type,void 0,null!==(T=p.eventId)&&void 0!==T?T:void 0,De)})).apply(this,arguments)}function lu(){return(lu=(0,w.Z)(function*(C){const{BuildInfo:p}=Ps(),g={};ir()?g.iosBundleId=p.packageName:hs()?g.androidPackageName=p.packageName:We(C,"operation-not-supported-in-this-environment"),yield yr(C,g)})).apply(this,arguments)}function Zn(){return(Zn=(0,w.Z)(function*(C,p,g){const{cordova:T}=Ps();let B=()=>{};try{yield new Promise((Q,De)=>{let Ye=null;function Ct(){var Bt;Q();const Er=null===(Bt=T.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof Er&&Er(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Nt(){Ye||(Ye=window.setTimeout(()=>{De(ce(C,"redirect-cancelled-by-user"))},2e3))}function Ut(){"visible"===(null==document?void 0:document.visibilityState)&&Nt()}p.addPassiveListener(Ct),document.addEventListener("resume",Nt,!1),hs()&&document.addEventListener("visibilitychange",Ut,!1),B=()=>{p.removePassiveListener(Ct),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",Ut,!1),Ye&&window.clearTimeout(Ye)}})}finally{B()}})).apply(this,arguments)}function Lf(C){return ni.apply(this,arguments)}function ni(){return(ni=(0,w.Z)(function*(C){const p=Wc(C),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(B=>B.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Wc(C){if(Ue(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const p=new ArrayBuffer(C.length),g=new Uint8Array(p);for(let T=0;T<C.length;T++)g[T]=C.charCodeAt(T);return g}C="Browser",(0,Ee._registerComponent)(new Be.wA("auth",(p,{options:g})=>{const T=p.getProvider("app").getImmediate(),{apiKey:B,authDomain:Q}=T.options;return(De=>{Qe(B&&!B.includes(":"),"invalid-api-key",{appName:De.name}),Qe(!(null==Q?void 0:Q.includes(":")),"argument-error",{appName:De.name});const Ye={apiKey:B,authDomain:Q,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sr(C)},Ct=new Cs(De,Ye);return function(C,p){const g=(null==p?void 0:p.persistence)||[],T=(Array.isArray(g)?g:[g]).map(Ne);(null==p?void 0:p.errorMap)&&C._updateErrorMap(p.errorMap),C._initializeWithPersistence(T,null==p?void 0:p.popupRedirectResolver)}(Ct,g),Ct})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,T)=>{p.getProvider("auth-internal").initialize()})),(0,Ee._registerComponent)(new Be.wA("auth-internal",p=>{const g=En(p.getProvider("auth").getImmediate());return new Mf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/auth","0.17.2",void 0);class ri extends ba{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,w.Z)(function*(){yield p.initPromise})()}}function eo(C){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,w.Z)(function*(C){const p=yield tl()._get(Yc(C));return p&&(yield tl()._remove(Yc(C))),p})).apply(this,arguments)}function Yo(){const C=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const T=Math.floor(Math.random()*p.length);C.push(p.charAt(T))}return C.join("")}function tl(){return Ne(Ci)}function Yc(C){return tn("authEvent",C.config.apiKey,C.name)}function uu(C){if(!(null==C?void 0:C.includes("?")))return{};const[p,...g]=C.split("?");return(0,J.zd)(g.join("?"))}function rc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ce("no-auth-event")}}function ic(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Bf(C=(0,J.z$)()){return!("file:"!==ic()&&"ionic:"!==ic()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function ci(){try{const C=self.localStorage,p=pa();if(C)return C.setItem(p,"1"),C.removeItem(p),!function(C=(0,J.z$)()){return(0,J.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,J.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,J.hl)()}catch(C){return oc()&&(0,J.hl)()}return!1}function oc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rr(){return("http:"===ic()||"https:"===ic()||(0,J.ru)()||Bf())&&!((0,J.b$)()||(0,J.UG)())&&ci()&&!oc()}function Dl(){return Bf()&&"undefined"!=typeof document}function Al(){return(Al=(0,w.Z)(function*(){return!!Dl()&&new Promise(C=>{const p=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),C(!0)})})})).apply(this,arguments)}const vs={LOCAL:"local",NONE:"none",SESSION:"session"},Aa=Qe,ih="persistence";function ed(C){return sh.apply(this,arguments)}function sh(){return(sh=(0,w.Z)(function*(C){yield C._initializationPromise;const p=td(),g=tn(ih,C.config.apiKey,C.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,C._getPersistence())})).apply(this,arguments)}function td(){return"undefined"!=typeof window?window:null}const hu=Qe;class ii{constructor(){this.browserResolver=Ne(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=Uc}_openPopup(p,g,T,B){var Q=this;return(0,w.Z)(function*(){var De;Ue(null===(De=Q.eventManagers[p._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const Ye=Il(p,g,T,lt(),B);return function(C,p,g,T=500,B=600){const Q=Math.max((window.screen.availHeight-B)/2,0).toString(),De=Math.max((window.screen.availWidth-T)/2,0).toString();let Ye="";const Ct=Object.assign(Object.assign({},Ta),{width:T.toString(),height:B.toString(),top:Q,left:De}),Nt=(0,J.z$)().toLowerCase();g&&(Ye=di(Nt)?"_blank":g),on(Nt)&&(p=p||"http://localhost",Ct.scrollbars="yes");const Ut=Object.entries(Ct).reduce((Er,[fr,Xo])=>`${Er}${fr}=${Xo},`,"");if(function(C=(0,J.z$)()){var p;return ir(C)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Nt)&&"_self"!==Ye)return function(C,p){const g=document.createElement("a");g.href=C,g.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(p||"",Ye),new Xa(null);const Bt=window.open(p||"",Ye,Ut);Qe(Bt,C,"popup-blocked");try{Bt.focus()}catch(Er){}return new Xa(Bt)}(p,Ye,pa())})()}_openRedirect(p,g,T,B){var Q=this;return(0,w.Z)(function*(){return yield Q._originValidation(p),C=Il(p,g,T,lt(),B),Nr().location.href=C,new Promise(()=>{});var C})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:B,promise:Q}=this.eventManagers[g];return B?Promise.resolve(B):(Ue(Q,"If manager is not set, promise should be"),Q)}const T=this.initAndGetManager(p);return this.eventManagers[g]={promise:T},T}initAndGetManager(p){var g=this;return(0,w.Z)(function*(){const T=yield function(C){return qc.apply(this,arguments)}(p),B=new ba(p);return T.register("authEvent",Q=>(Qe(null==Q?void 0:Q.authEvent,p,"invalid-auth-event"),{status:B.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:B},g.iframes[p._key()]=T,B})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(ho,{type:ho},B=>{var Q;const De=null===(Q=null==B?void 0:B[0])||void 0===Q?void 0:Q[ho];void 0!==De&&g(!!De),We(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(C){return tc.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Sr()||bs()||ir()}}),this.cordovaResolver=Ne(class{constructor(){this._redirectPersistence=Ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uc}_initialize(p){var g=this;return(0,w.Z)(function*(){const T=p._key();let B=g.eventManagers.get(T);return B||(B=new ri(p),g.eventManagers.set(T,B),g.attachCallbackListeners(p,B)),B})()}_openPopup(p){We(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,T,B){var Q=this;return(0,w.Z)(function*(){!function(C){var p,g,T,B,Q,De,Ye,Ct,Nt,Ut;const Bt=Ps();Qe("function"==typeof(null===(p=null==Bt?void 0:Bt.universalLinks)||void 0===p?void 0:p.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Qe(void 0!==(null===(g=null==Bt?void 0:Bt.BuildInfo)||void 0===g?void 0:g.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Qe("function"==typeof(null===(Q=null===(B=null===(T=null==Bt?void 0:Bt.cordova)||void 0===T?void 0:T.plugins)||void 0===B?void 0:B.browsertab)||void 0===Q?void 0:Q.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qe("function"==typeof(null===(Ct=null===(Ye=null===(De=null==Bt?void 0:Bt.cordova)||void 0===De?void 0:De.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===Ct?void 0:Ct.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qe("function"==typeof(null===(Ut=null===(Nt=null==Bt?void 0:Bt.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===Ut?void 0:Ut.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const De=yield Q._initialize(p);yield De.initialized(),De.resetRedirect(),Qd.clear(),yield Q._originValidation(p);const Ye=function(C,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Yo(),postBody:null,tenantId:C.tenantId,error:ce(C,"no-auth-event")}}(p,T,B);yield function(C,p){return tl()._set(Yc(C),p)}(p,Ye);const Ct=yield function(C,p,g){return fo.apply(this,arguments)}(p,Ye,g),Nt=yield function(C){const{cordova:p}=Ps();return new Promise(g=>{p.plugins.browsertab.isAvailable(T=>{let B=null;T?p.plugins.browsertab.openUrl(C):B=p.InAppBrowser.open(C,function(C=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),g(B)})})}(Ct);return function(C,p,g){return Zn.apply(this,arguments)}(p,De,Nt)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(C){return lu.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:T,handleOpenURL:B,BuildInfo:Q}=Ps(),De=setTimeout((0,w.Z)(function*(){yield eo(p),g.onEvent(rc())}),500),Ye=function(){var Ut=(0,w.Z)(function*(Bt){clearTimeout(De);const Er=yield eo(p);let fr=null;Er&&(null==Bt?void 0:Bt.url)&&(fr=function(C,p){var g,T;const B=function(C){const p=uu(C),g=p.link?decodeURIComponent(p.link):void 0,T=uu(g).link,B=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return uu(B).link||B||T||g||C}(p);if(B.includes("/__/auth/callback")){const Q=uu(B),De=Q.firebaseError?function(C){try{return JSON.parse(C)}catch(p){return null}}(decodeURIComponent(Q.firebaseError)):null,Ye=null===(T=null===(g=null==De?void 0:De.code)||void 0===g?void 0:g.split("auth/"))||void 0===T?void 0:T[1],Ct=Ye?ce(Ye):null;return Ct?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Ct,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:B,postBody:null}}return null}(Er,Bt.url)),g.onEvent(fr||rc())});return function(Er){return Ut.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,Ye);const Ct=B,Nt=`${Q.packageName.toLowerCase()}://`;Ps().handleOpenURL=function(){var Ut=(0,w.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Nt)&&Ye({url:Bt}),"function"==typeof Ct)try{Ct(Bt)}catch(Er){console.error(Er)}});return function(Bt){return Ut.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ys,this._completeRedirectFn=Uc}_initialize(p){var g=this;return(0,w.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,T,B){var Q=this;return(0,w.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openPopup(p,g,T,B)})()}_openRedirect(p,g,T,B){var Q=this;return(0,w.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openRedirect(p,g,T,B)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Dl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,w.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Al.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function ac(C){return C.unwrap()}function ah(C){return Sl(C)}function ls(C,p){var g;const T=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new fu(C,function(C,p){var g;const T=(0,J.m9)(C),B=p;return Qe(p.operationType,T,"argument-error"),Qe(null===(g=B.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),Ho._fromError(T,B)}(C,p));else if(T){const B=Sl(p),Q=p;B&&(Q.credential=B,Q.tenantId=T.tenantId||void 0,Q.email=T.email||void 0,Q.phoneNumber=T.phoneNumber||void 0)}}function Sl(C){const{_tokenResponse:p}=C instanceof J.ZR?C.customData:C;if(!p)return null;if(!(C instanceof J.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return eu.credentialFromResult(C);const g=p.providerId;if(!g||"password"===g)return null;let T;switch(g){case"google.com":T=Ss;break;case"facebook.com":T=As;break;case"github.com":T=ki;break;case"twitter.com":T=bi;break;default:const{oauthIdToken:B,oauthAccessToken:Q,oauthTokenSecret:De,pendingToken:Ye,nonce:Ct}=p;return Q||De||B||Ye?Ye?g.startsWith("saml.")?Fi._create(g,Ye):wr._fromParams({providerId:g,signInMethod:g,pendingToken:Ye,idToken:B,accessToken:Q}):new Pi(g).credential({idToken:B,accessToken:Q,rawNonce:Ct}):null}return C instanceof J.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function Yi(C,p){return nd.apply(this,arguments)}function nd(){return(nd=(0,w.Z)(function*(C,p){let g;try{g=yield p}catch(Q){throw Q instanceof J.ZR&&ls(C,Q),Q}const{operationType:T,user:B}=g;return{operationType:T,credential:ah(g),additionalUserInfo:ha(g),user:ws.getOrCreate(B)}})).apply(this,arguments)}function lh(C,p){return rd.apply(this,arguments)}function rd(){return(rd=(0,w.Z)(function*(C,p){const g=yield p;return{verificationId:g.verificationId,confirm:T=>Yi(C,g.confirm(T))}})).apply(this,arguments)}class fu{constructor(p,g){this.resolver=g,this.auth=function(C){return C.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Yi(ac(this.auth),this.resolver.resolveSignIn(p))}}class ws{constructor(p){this._delegate=p,this.multiFactor=function(C){const p=(0,J.m9)(C);return $.has(p)||$.set(p,N._fromUser(p)),$.get(p)}(p)}static getOrCreate(p){return ws.USER_MAP.has(p)||ws.USER_MAP.set(p,new ws(p)),ws.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,w.Z)(function*(){return Yi(g.auth,Z(g._delegate,p))})()}linkWithPhoneNumber(p,g){var T=this;return(0,w.Z)(function*(){return lh(T.auth,function(C,p,g){return ml.apply(this,arguments)}(T._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,w.Z)(function*(){return Yi(g.auth,function(C,p,g){return wl.apply(this,arguments)}(g._delegate,p,ii))})()}linkWithRedirect(p){var g=this;return(0,w.Z)(function*(){return yield ed(En(g.auth)),function(C,p,g){return function(C,p,g){return El.apply(this,arguments)}(C,p,g)}(g._delegate,p,ii)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,w.Z)(function*(){return Yi(g.auth,bt(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return lh(this.auth,function(C,p,g){return Ii.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Yi(this.auth,function(C,p,g){return Co.apply(this,arguments)}(this._delegate,p,ii))}reauthenticateWithRedirect(p){var g=this;return(0,w.Z)(function*(){return yield ed(En(g.auth)),function(C,p,g){return function(C,p,g){return Ju.apply(this,arguments)}(C,p,g)}(g._delegate,p,ii)})()}sendEmailVerification(p){return function(C,p){return ao.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,w.Z)(function*(){return yield function(C,p){return Zs.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(C,p){return Or((0,J.m9)(C),p,null)}(this._delegate,p)}updatePassword(p){return function(C,p){return Or((0,J.m9)(C),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(C,p){return yl.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(C,p){return lo.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(C,p,g){return Jr.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ws.USER_MAP=new WeakMap;const lc=Qe;let uh=(()=>{class C{constructor(g,T){if(this.app=g,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:B}=g.options;lc(B,"invalid-api-key",{appName:g.name});let Q=[pr];if("undefined"!=typeof window){Q=function(C,p){const g=td();if(!(null==g?void 0:g.sessionStorage))return[];const T=tn(ih,C,p);switch(g.sessionStorage.getItem(T)){case vs.NONE:return[pr];case vs.LOCAL:return[Ft,Ys];case vs.SESSION:return[Ys];default:return[]}}(B,g.name);for(const Ye of[Ft,Ci,Ys])Q.includes(Ye)||Q.push(Ye)}lc(B,"invalid-api-key",{appName:g.name});const De="undefined"!=typeof window?ii:void 0;this._delegate=T.initialize({options:{persistence:Q,popupRedirectResolver:De}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,T){!function(C,p,g){const T=En(C);Qe(T._canInitEmulator,T,"emulator-config-failed"),Qe(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const B=!!(null==g?void 0:g.disableWarnings),Q=Bn(p),{host:De,port:Ye}=function(C){const p=Bn(C),g=/(\/\/)?([^?#/]+)/.exec(C.substr(p.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(T);if(B){const Q=B[1];return{host:Q,port:hi(T.substr(Q.length+1))}}{const[Q,De]=T.split(":");return{host:Q,port:hi(De)}}}(p);T.config.emulator={url:`${Q}//${De}${null===Ye?"":`:${Ye}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:De,port:Ye,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:B})}),function(C){function p(){const g=document.createElement("p"),T=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}(B)}(this._delegate,g,T)}applyActionCode(g){return function(C,p){return Ns.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ul(this._delegate,g)}confirmPasswordReset(g,T){return function(C,p,g){return nn.apply(this,arguments)}(this._delegate,g,T)}createUserWithEmailAndPassword(g,T){var B=this;return(0,w.Z)(function*(){return Yi(B._delegate,function(C,p,g){return dt.apply(this,arguments)}(B._delegate,g,T))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(C,p){return ca.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(C,p){const g=ns.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,w.Z)(function*(){lc(Rr(),g._delegate,"operation-not-supported-in-this-environment");const T=yield function(C,p){return Ya.apply(this,arguments)}(g._delegate,ii);return T?Yi(g._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(C,p){En(C)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,T,B){const{next:Q,error:De,complete:Ye}=$f(g,T,B);return this._delegate.onAuthStateChanged(Q,De,Ye)}onIdTokenChanged(g,T,B){const{next:Q,error:De,complete:Ye}=$f(g,T,B);return this._delegate.onIdTokenChanged(Q,De,Ye)}sendSignInLinkToEmail(g,T){return function(C,p,g){return or.apply(this,arguments)}(this._delegate,g,T)}sendPasswordResetEmail(g,T){return function(C,p,g){return vo.apply(this,arguments)}(this._delegate,g,T||void 0)}setPersistence(g){var T=this;return(0,w.Z)(function*(){let B;switch(function(C,p){Aa(Object.values(vs).includes(p),C,"invalid-persistence-type"),(0,J.b$)()?Aa(p!==vs.SESSION,C,"unsupported-persistence-type"):(0,J.UG)()?Aa(p===vs.NONE,C,"unsupported-persistence-type"):oc()?Aa(p===vs.NONE||p===vs.LOCAL&&(0,J.hl)(),C,"unsupported-persistence-type"):Aa(p===vs.NONE||ci(),C,"unsupported-persistence-type")}(T._delegate,g),g){case vs.SESSION:B=Ys;break;case vs.LOCAL:B=(yield Ne(Ft)._isAvailable())?Ft:Ci;break;case vs.NONE:B=pr;break;default:return We("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(B)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Yi(this._delegate,function(C){return Br.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Yi(this._delegate,P(this._delegate,g))}signInWithCustomToken(g){return Yi(this._delegate,function(C,p){return Un.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,T){return Yi(this._delegate,function(C,p,g){return P((0,J.m9)(C),Lo.credential(p,g))}(this._delegate,g,T))}signInWithEmailLink(g,T){return Yi(this._delegate,function(C,p,g){return Li.apply(this,arguments)}(this._delegate,g,T))}signInWithPhoneNumber(g,T){return lh(this._delegate,function(C,p,g){return Wd.apply(this,arguments)}(this._delegate,g,T))}signInWithPopup(g){var T=this;return(0,w.Z)(function*(){return lc(Rr(),T._delegate,"operation-not-supported-in-this-environment"),Yi(T._delegate,function(C,p,g){return Zi.apply(this,arguments)}(T._delegate,g,ii))})()}signInWithRedirect(g){var T=this;return(0,w.Z)(function*(){return lc(Rr(),T._delegate,"operation-not-supported-in-this-environment"),yield ed(T._delegate),function(C,p,g){return function(C,p,g){return nu.apply(this,arguments)}(C,p,g)}(T._delegate,g,ii)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(C,p){return oo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=vs,C})();function $f(C,p,g){let T=C;"function"!=typeof C&&({next:T,error:p,complete:g}=C);const B=T;return{next:De=>B(De&&ws.getOrCreate(De)),error:p,complete:g}}class id{constructor(){this.providerId="phone",this._delegate=new eu(ac(v.Z.auth()))}static credential(p,g){return eu.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}id.PHONE_SIGN_IN_METHOD=eu.PHONE_SIGN_IN_METHOD,id.PROVIDER_ID=eu.PROVIDER_ID;const Io=Qe;class qf{constructor(p,g,T=v.Z.app()){var B;Io(null===(B=T.options)||void 0===B?void 0:B.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new pl(p,g,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new Be.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),T=p.getProvider("auth");return new uh(g,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Lo,FacebookAuthProvider:As,GithubAuthProvider:ki,GoogleAuthProvider:Ss,OAuthProvider:Pi,PhoneAuthProvider:id,PhoneMultiFactorGenerator:au,RecaptchaVerifier:qf,TwitterAuthProvider:bi,Auth:uh,AuthCredential:ve,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.2")}(v.Z)},9344:(At,ze,q)=>{"use strict";q.d(ze,{Rh:()=>qt,_W:()=>Ae});var w=q(3018),v=q(7238),J=q(9765),Ee=q(9075),be=q(8583);const me=["toast-component",""];function Be(rt,mt){if(1&rt){const Ce=w.EpF();w.TgZ(0,"button",5),w.NdJ("click",function(){return w.CHM(Ce),w.oxw().remove()}),w.TgZ(1,"span",6),w._uU(2,"\xd7"),w.qZA(),w.qZA()}}function we(rt,mt){if(1&rt&&(w.ynx(0),w._uU(1),w.BQk()),2&rt){const Ce=w.oxw(2);w.xp6(1),w.hij("[",Ce.duplicatesCount+1,"]")}}function ue(rt,mt){if(1&rt&&(w.TgZ(0,"div"),w._uU(1),w.YNc(2,we,2,1,"ng-container",4),w.qZA()),2&rt){const Ce=w.oxw();w.Tol(Ce.options.titleClass),w.uIk("aria-label",Ce.title),w.xp6(1),w.hij(" ",Ce.title," "),w.xp6(1),w.Q6J("ngIf",Ce.duplicatesCount)}}function ee(rt,mt){if(1&rt&&w._UZ(0,"div",7),2&rt){const Ce=w.oxw();w.Tol(Ce.options.messageClass),w.Q6J("innerHTML",Ce.message,w.oJD)}}function ne(rt,mt){if(1&rt&&(w.TgZ(0,"div",8),w._uU(1),w.qZA()),2&rt){const Ce=w.oxw();w.Tol(Ce.options.messageClass),w.uIk("aria-label",Ce.message),w.xp6(1),w.hij(" ",Ce.message," ")}}function ae(rt,mt){if(1&rt&&(w.TgZ(0,"div"),w._UZ(1,"div",9),w.qZA()),2&rt){const Ce=w.oxw();w.xp6(1),w.Udp("width",Ce.width+"%")}}function oe(rt,mt){if(1&rt){const Ce=w.EpF();w.TgZ(0,"button",5),w.NdJ("click",function(){return w.CHM(Ce),w.oxw().remove()}),w.TgZ(1,"span",6),w._uU(2,"\xd7"),w.qZA(),w.qZA()}}function ye(rt,mt){if(1&rt&&(w.ynx(0),w._uU(1),w.BQk()),2&rt){const Ce=w.oxw(2);w.xp6(1),w.hij("[",Ce.duplicatesCount+1,"]")}}function Ke(rt,mt){if(1&rt&&(w.TgZ(0,"div"),w._uU(1),w.YNc(2,ye,2,1,"ng-container",4),w.qZA()),2&rt){const Ce=w.oxw();w.Tol(Ce.options.titleClass),w.uIk("aria-label",Ce.title),w.xp6(1),w.hij(" ",Ce.title," "),w.xp6(1),w.Q6J("ngIf",Ce.duplicatesCount)}}function je(rt,mt){if(1&rt&&w._UZ(0,"div",7),2&rt){const Ce=w.oxw();w.Tol(Ce.options.messageClass),w.Q6J("innerHTML",Ce.message,w.oJD)}}function Fe(rt,mt){if(1&rt&&(w.TgZ(0,"div",8),w._uU(1),w.qZA()),2&rt){const Ce=w.oxw();w.Tol(Ce.options.messageClass),w.uIk("aria-label",Ce.message),w.xp6(1),w.hij(" ",Ce.message," ")}}function he(rt,mt){if(1&rt&&(w.TgZ(0,"div"),w._UZ(1,"div",9),w.qZA()),2&rt){const Ce=w.oxw();w.xp6(1),w.Udp("width",Ce.width+"%")}}class We{constructor(mt,Ce,xe,yt,_t,_n){this.toastId=mt,this.config=Ce,this.message=xe,this.title=yt,this.toastType=_t,this.toastRef=_n,this._onTap=new J.xQ,this._onAction=new J.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(mt){this._onAction.next(mt)}onAction(){return this._onAction.asObservable()}}const ce={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Je=new w.OlP("ToastConfig");class Ot{constructor(mt,Ce){this.component=mt,this.injector=Ce}attach(mt,Ce){return this._attachedHost=mt,mt.attach(this,Ce)}detach(){const mt=this._attachedHost;if(mt)return this._attachedHost=void 0,mt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(mt){this._attachedHost=mt}}class Qe extends class{attach(mt,Ce){return this._attachedPortal=mt,this.attachComponentPortal(mt,Ce)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(mt){this._disposeFn=mt}}{constructor(mt,Ce,xe){super(),this._hostDomElement=mt,this._componentFactoryResolver=Ce,this._appRef=xe}attachComponentPortal(mt,Ce){const xe=this._componentFactoryResolver.resolveComponentFactory(mt.component);let yt;return yt=xe.create(mt.injector),this._appRef.attachView(yt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(yt.hostView),yt.destroy()}),Ce?this._hostDomElement.insertBefore(this._getComponentRootNode(yt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(yt)),yt}_getComponentRootNode(mt){return mt.hostView.rootNodes[0]}}let ke=(()=>{class rt{constructor(Ce){this._document=Ce}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ce=this._document.createElement("div");Ce.classList.add("overlay-container"),this._document.body.appendChild(Ce),this._containerElement=Ce}}return rt.\u0275fac=function(Ce){return new(Ce||rt)(w.LFG(be.K0))},rt.\u0275prov=w.Yz7({factory:function(){return new rt(w.LFG(be.K0))},token:rt,providedIn:"root"}),rt})();class Ue{constructor(mt){this._portalHost=mt}attach(mt,Ce=!0){return this._portalHost.attach(mt,Ce)}detach(){return this._portalHost.detach()}}let Se=(()=>{class rt{constructor(Ce,xe,yt,_t){this._overlayContainer=Ce,this._componentFactoryResolver=xe,this._appRef=yt,this._document=_t,this._paneElements=new Map}create(Ce,xe){return this._createOverlayRef(this.getPaneElement(Ce,xe))}getPaneElement(Ce="",xe){return this._paneElements.get(xe)||this._paneElements.set(xe,{}),this._paneElements.get(xe)[Ce]||(this._paneElements.get(xe)[Ce]=this._createPaneElement(Ce,xe)),this._paneElements.get(xe)[Ce]}_createPaneElement(Ce,xe){const yt=this._document.createElement("div");return yt.id="toast-container",yt.classList.add(Ce),yt.classList.add("toast-container"),xe?xe.getContainerElement().appendChild(yt):this._overlayContainer.getContainerElement().appendChild(yt),yt}_createPortalHost(Ce){return new Qe(Ce,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ce){return new Ue(this._createPortalHost(Ce))}}return rt.\u0275fac=function(Ce){return new(Ce||rt)(w.LFG(ke),w.LFG(w._Vd),w.LFG(w.z2F),w.LFG(be.K0))},rt.\u0275prov=w.Yz7({factory:function(){return new rt(w.LFG(ke),w.LFG(w._Vd),w.LFG(w.z2F),w.LFG(be.K0))},token:rt,providedIn:"root"}),rt})();class Ne{constructor(mt){this._overlayRef=mt,this.duplicatesCount=0,this._afterClosed=new J.xQ,this._activate=new J.xQ,this._manualClose=new J.xQ,this._resetTimeout=new J.xQ,this._countDuplicate=new J.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(mt,Ce){mt&&this._resetTimeout.next(),Ce&&this._countDuplicate.next(++this.duplicatesCount)}}class He{constructor(mt,Ce){this._toastPackage=mt,this._parentInjector=Ce}get(mt,Ce,xe){return mt===We?this._toastPackage:this._parentInjector.get(mt,Ce,xe)}}let Ae=(()=>{class rt{constructor(Ce,xe,yt,_t,_n){this.overlay=xe,this._injector=yt,this.sanitizer=_t,this.ngZone=_n,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ce.default),Ce.config),Ce.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ce.default.iconClasses),Ce.config.iconClasses))}show(Ce,xe,yt={},_t=""){return this._preBuildNotification(_t,Ce,xe,this.applyConfig(yt))}success(Ce,xe,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ce,xe,this.applyConfig(yt))}error(Ce,xe,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ce,xe,this.applyConfig(yt))}info(Ce,xe,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ce,xe,this.applyConfig(yt))}warning(Ce,xe,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ce,xe,this.applyConfig(yt))}clear(Ce){for(const xe of this.toasts)if(void 0!==Ce){if(xe.toastId===Ce)return void xe.toastRef.manualClose()}else xe.toastRef.manualClose()}remove(Ce){const xe=this._findToast(Ce);if(!xe||(xe.activeToast.toastRef.close(),this.toasts.splice(xe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const yt=this.toasts[this.currentlyActive].toastRef;yt.isInactive()||(this.currentlyActive=this.currentlyActive+1,yt.activate())}return!0}findDuplicate(Ce="",xe="",yt,_t){const{includeTitleDuplicates:_n}=this.toastrConfig;for(const jt of this.toasts){const hn=_n&&jt.title===Ce;if((!_n||hn)&&jt.message===xe)return jt.toastRef.onDuplicate(yt,_t),jt}return null}applyConfig(Ce={}){return Object.assign(Object.assign({},this.toastrConfig),Ce)}_findToast(Ce){for(let xe=0;xe<this.toasts.length;xe++)if(this.toasts[xe].toastId===Ce)return{index:xe,activeToast:this.toasts[xe]};return null}_preBuildNotification(Ce,xe,yt,_t){return _t.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ce,xe,yt,_t)):this._buildNotification(Ce,xe,yt,_t)}_buildNotification(Ce,xe,yt,_t){if(!_t.toastComponent)throw new Error("toastComponent required");const _n=this.findDuplicate(yt,xe,this.toastrConfig.resetTimeoutOnDuplicate&&_t.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&yt||xe)&&this.toastrConfig.preventDuplicates&&null!==_n)return _n;this.previousToastMessage=xe;let jt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(jt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const hn=this.overlay.create(_t.positionClass,this.overlayContainer);this.index=this.index+1;let _r=xe;xe&&_t.enableHtml&&(_r=this.sanitizer.sanitize(w.q3G.HTML,xe));const Fn=new Ne(hn),jn=new We(this.index,_t,_r,yt,Ce,Fn),kt=new He(jn,this._injector),Ln=new Ot(_t.toastComponent,kt),Sn=hn.attach(Ln,this.toastrConfig.newestOnTop);Fn.componentInstance=Sn.instance;const xn={toastId:this.index,title:yt||"",message:xe||"",toastRef:Fn,onShown:Fn.afterActivate(),onHidden:Fn.afterClosed(),onTap:jn.onTap(),onAction:jn.onAction(),portal:Sn};return jt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{xn.toastRef.activate()})),this.toasts.push(xn),xn}}return rt.\u0275fac=function(Ce){return new(Ce||rt)(w.LFG(Je),w.LFG(Se),w.LFG(w.zs3),w.LFG(Ee.H7),w.LFG(w.R0b))},rt.\u0275prov=w.Yz7({factory:function(){return new rt(w.LFG(Je),w.LFG(Se),w.LFG(w.gxx),w.LFG(Ee.H7),w.LFG(w.R0b))},token:rt,providedIn:"root"}),rt})(),lt=(()=>{class rt{constructor(Ce,xe,yt){this.toastrService=Ce,this.toastPackage=xe,this.ngZone=yt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=xe.message,this.title=xe.title,this.options=xe.config,this.originalTimeout=xe.config.timeOut,this.toastClasses=`${xe.toastType} ${xe.config.toastClass}`,this.sub=xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=xe.toastRef.countDuplicate().subscribe(_t=>{this.duplicatesCount=_t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ce=(new Date).getTime();this.width=(this.hideTime-Ce)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ce,xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ce),xe)):this.timeout=setTimeout(()=>Ce(),xe)}outsideInterval(Ce,xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ce),xe)):this.intervalId=setInterval(()=>Ce(),xe)}runInsideAngular(Ce){this.ngZone?this.ngZone.run(()=>Ce()):Ce()}}return rt.\u0275fac=function(Ce){return new(Ce||rt)(w.Y36(Ae),w.Y36(We),w.Y36(w.R0b))},rt.\u0275cmp=w.Xpm({type:rt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ce,xe){1&Ce&&w.NdJ("click",function(){return xe.tapToast()})("mouseenter",function(){return xe.stickAround()})("mouseleave",function(){return xe.delayedHideToast()}),2&Ce&&(w.d8E("@flyInOut",xe.state),w.Tol(xe.toastClasses),w.Udp("display",xe.displayStyle))},attrs:me,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(Ce,xe){1&Ce&&(w.YNc(0,Be,3,0,"button",0),w.YNc(1,ue,3,5,"div",1),w.YNc(2,ee,1,3,"div",2),w.YNc(3,ne,2,4,"div",3),w.YNc(4,ae,2,2,"div",4)),2&Ce&&(w.Q6J("ngIf",xe.options.closeButton),w.xp6(1),w.Q6J("ngIf",xe.title),w.xp6(1),w.Q6J("ngIf",xe.message&&xe.options.enableHtml),w.xp6(1),w.Q6J("ngIf",xe.message&&!xe.options.enableHtml),w.xp6(1),w.Q6J("ngIf",xe.options.progressBar))},directives:[be.O5],encapsulation:2,data:{animation:[(0,v.X$)("flyInOut",[(0,v.SB)("inactive",(0,v.oB)({opacity:0})),(0,v.SB)("active",(0,v.oB)({opacity:1})),(0,v.SB)("removed",(0,v.oB)({opacity:0})),(0,v.eR)("inactive => active",(0,v.jt)("{{ easeTime }}ms {{ easing }}")),(0,v.eR)("active => removed",(0,v.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),rt})();const Xe=Object.assign(Object.assign({},ce),{toastComponent:lt});let qt=(()=>{class rt{static forRoot(Ce={}){return{ngModule:rt,providers:[{provide:Je,useValue:{default:Xe,config:Ce}}]}}}return rt.\u0275fac=function(Ce){return new(Ce||rt)},rt.\u0275mod=w.oAB({type:rt}),rt.\u0275inj=w.cJS({imports:[[be.ez]]}),rt})(),Gt=(()=>{class rt{constructor(Ce,xe,yt){this.toastrService=Ce,this.toastPackage=xe,this.appRef=yt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=xe.message,this.title=xe.title,this.options=xe.config,this.originalTimeout=xe.config.timeOut,this.toastClasses=`${xe.toastType} ${xe.config.toastClass}`,this.sub=xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=xe.toastRef.countDuplicate().subscribe(_t=>{this.duplicatesCount=_t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ce=(new Date).getTime();this.width=(this.hideTime-Ce)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return rt.\u0275fac=function(Ce){return new(Ce||rt)(w.Y36(Ae),w.Y36(We),w.Y36(w.z2F))},rt.\u0275cmp=w.Xpm({type:rt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ce,xe){1&Ce&&w.NdJ("click",function(){return xe.tapToast()})("mouseenter",function(){return xe.stickAround()})("mouseleave",function(){return xe.delayedHideToast()}),2&Ce&&(w.Tol(xe.toastClasses),w.Udp("display",xe.displayStyle))},attrs:me,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(Ce,xe){1&Ce&&(w.YNc(0,oe,3,0,"button",0),w.YNc(1,Ke,3,5,"div",1),w.YNc(2,je,1,3,"div",2),w.YNc(3,Fe,2,4,"div",3),w.YNc(4,he,2,2,"div",4)),2&Ce&&(w.Q6J("ngIf",xe.options.closeButton),w.xp6(1),w.Q6J("ngIf",xe.title),w.xp6(1),w.Q6J("ngIf",xe.message&&xe.options.enableHtml),w.xp6(1),w.Q6J("ngIf",xe.message&&!xe.options.enableHtml),w.xp6(1),w.Q6J("ngIf",xe.options.progressBar))},directives:[be.O5],encapsulation:2}),rt})();Object.assign(Object.assign({},ce),{toastComponent:Gt})},7574:(At,ze,q)=>{"use strict";q.d(ze,{y:()=>ne});var w=q(7393),J=q(9181),Ee=q(6490),me=q(6554),Be=q(4487);var ee=q(2494);let ne=(()=>{class oe{constructor(Ke){this._isScalar=!1,Ke&&(this._subscribe=Ke)}lift(Ke){const je=new oe;return je.source=this,je.operator=Ke,je}subscribe(Ke,je,Fe){const{operator:he}=this,nt=function(oe,ye,Ke){if(oe){if(oe instanceof w.L)return oe;if(oe[J.b])return oe[J.b]()}return oe||ye||Ke?new w.L(oe,ye,Ke):new w.L(Ee.c)}(Ke,je,Fe);if(nt.add(he?he.call(nt,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!nt.syncErrorThrowable?this._subscribe(nt):this._trySubscribe(nt)),ee.v.useDeprecatedSynchronousErrorHandling&&nt.syncErrorThrowable&&(nt.syncErrorThrowable=!1,nt.syncErrorThrown))throw nt.syncErrorValue;return nt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(je){ee.v.useDeprecatedSynchronousErrorHandling&&(Ke.syncErrorThrown=!0,Ke.syncErrorValue=je),function(oe){for(;oe;){const{closed:ye,destination:Ke,isStopped:je}=oe;if(ye||je)return!1;oe=Ke&&Ke instanceof w.L?Ke:null}return!0}(Ke)?Ke.error(je):console.warn(je)}}forEach(Ke,je){return new(je=ae(je))((Fe,he)=>{let nt;nt=this.subscribe(it=>{try{Ke(it)}catch(We){he(We),nt&&nt.unsubscribe()}},he,Fe)})}_subscribe(Ke){const{source:je}=this;return je&&je.subscribe(Ke)}[me.L](){return this}pipe(...Ke){return 0===Ke.length?this:function(oe){return 0===oe.length?Be.y:1===oe.length?oe[0]:function(Ke){return oe.reduce((je,Fe)=>Fe(je),Ke)}}(Ke)(this)}toPromise(Ke){return new(Ke=ae(Ke))((je,Fe)=>{let he;this.subscribe(nt=>he=nt,nt=>Fe(nt),()=>je(he))})}}return oe.create=ye=>new oe(ye),oe})();function ae(oe){if(oe||(oe=ee.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},6490:(At,ze,q)=>{"use strict";q.d(ze,{c:()=>J});var w=q(2494),v=q(4449);const J={closed:!0,next(Ee){},error(Ee){if(w.v.useDeprecatedSynchronousErrorHandling)throw Ee;(0,v.z)(Ee)},complete(){}}},9765:(At,ze,q)=>{"use strict";q.d(ze,{Yc:()=>Be,xQ:()=>we});var w=q(7574),v=q(7393),J=q(5319),Ee=q(7971),be=q(8858),me=q(9181);class Be extends v.L{constructor(ne){super(ne),this.destination=ne}}let we=(()=>{class ee extends w.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[me.b](){return new Be(this)}lift(ae){const oe=new ue(this,this);return oe.operator=ae,oe}next(ae){if(this.closed)throw new Ee.N;if(!this.isStopped){const{observers:oe}=this,ye=oe.length,Ke=oe.slice();for(let je=0;je<ye;je++)Ke[je].next(ae)}}error(ae){if(this.closed)throw new Ee.N;this.hasError=!0,this.thrownError=ae,this.isStopped=!0;const{observers:oe}=this,ye=oe.length,Ke=oe.slice();for(let je=0;je<ye;je++)Ke[je].error(ae);this.observers.length=0}complete(){if(this.closed)throw new Ee.N;this.isStopped=!0;const{observers:ae}=this,oe=ae.length,ye=ae.slice();for(let Ke=0;Ke<oe;Ke++)ye[Ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ae){if(this.closed)throw new Ee.N;return super._trySubscribe(ae)}_subscribe(ae){if(this.closed)throw new Ee.N;return this.hasError?(ae.error(this.thrownError),J.w.EMPTY):this.isStopped?(ae.complete(),J.w.EMPTY):(this.observers.push(ae),new be.W(this,ae))}asObservable(){const ae=new w.y;return ae.source=this,ae}}return ee.create=(ne,ae)=>new ue(ne,ae),ee})();class ue extends we{constructor(ne,ae){super(),this.destination=ne,this.source=ae}next(ne){const{destination:ae}=this;ae&&ae.next&&ae.next(ne)}error(ne){const{destination:ae}=this;ae&&ae.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:ae}=this;return ae?this.source.subscribe(ne):J.w.EMPTY}}},8858:(At,ze,q)=>{"use strict";q.d(ze,{W:()=>v});var w=q(5319);class v extends w.w{constructor(Ee,be){super(),this.subject=Ee,this.subscriber=be,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ee=this.subject,be=Ee.observers;if(this.subject=null,!be||0===be.length||Ee.isStopped||Ee.closed)return;const me=be.indexOf(this.subscriber);-1!==me&&be.splice(me,1)}}},7393:(At,ze,q)=>{"use strict";q.d(ze,{L:()=>Be});var w=q(9105),v=q(6490),J=q(5319),Ee=q(9181),be=q(2494),me=q(4449);class Be extends J.w{constructor(ee,ne,ae){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=v.c;break;case 1:if(!ee){this.destination=v.c;break}if("object"==typeof ee){ee instanceof Be?(this.syncErrorThrowable=ee.syncErrorThrowable,this.destination=ee,ee.add(this)):(this.syncErrorThrowable=!0,this.destination=new we(this,ee));break}default:this.syncErrorThrowable=!0,this.destination=new we(this,ee,ne,ae)}}[Ee.b](){return this}static create(ee,ne,ae){const oe=new Be(ee,ne,ae);return oe.syncErrorThrowable=!1,oe}next(ee){this.isStopped||this._next(ee)}error(ee){this.isStopped||(this.isStopped=!0,this._error(ee))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ee){this.destination.next(ee)}_error(ee){this.destination.error(ee),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ee}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ee,this}}class we extends Be{constructor(ee,ne,ae,oe){super(),this._parentSubscriber=ee;let ye,Ke=this;(0,w.m)(ne)?ye=ne:ne&&(ye=ne.next,ae=ne.error,oe=ne.complete,ne!==v.c&&(Ke=Object.create(ne),(0,w.m)(Ke.unsubscribe)&&this.add(Ke.unsubscribe.bind(Ke)),Ke.unsubscribe=this.unsubscribe.bind(this))),this._context=Ke,this._next=ye,this._error=ae,this._complete=oe}next(ee){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;be.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,ee)&&this.unsubscribe():this.__tryOrUnsub(this._next,ee)}}error(ee){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:ae}=be.v;if(this._error)ae&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,ee),this.unsubscribe()):(this.__tryOrUnsub(this._error,ee),this.unsubscribe());else if(ne.syncErrorThrowable)ae?(ne.syncErrorValue=ee,ne.syncErrorThrown=!0):(0,me.z)(ee),this.unsubscribe();else{if(this.unsubscribe(),ae)throw ee;(0,me.z)(ee)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ee}=this;if(this._complete){const ne=()=>this._complete.call(this._context);be.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ee,ne){try{ee.call(this._context,ne)}catch(ae){if(this.unsubscribe(),be.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,me.z)(ae)}}__tryOrSetError(ee,ne,ae){if(!be.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,ae)}catch(oe){return be.v.useDeprecatedSynchronousErrorHandling?(ee.syncErrorValue=oe,ee.syncErrorThrown=!0,!0):((0,me.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ee}=this;this._context=null,this._parentSubscriber=null,ee.unsubscribe()}}},5319:(At,ze,q)=>{"use strict";q.d(ze,{w:()=>me});var w=q(9796),v=q(1555),J=q(9105);const be=(()=>{function we(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ee,ne)=>`${ne+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return we.prototype=Object.create(Error.prototype),we})();class me{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:ee,_ctorUnsubscribe:ne,_unsubscribe:ae,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ee instanceof me)ee.remove(this);else if(null!==ee)for(let ye=0;ye<ee.length;++ye)ee[ye].remove(this);if((0,J.m)(ae)){ne&&(this._unsubscribe=void 0);try{ae.call(this)}catch(ye){ue=ye instanceof be?Be(ye.errors):[ye]}}if((0,w.k)(oe)){let ye=-1,Ke=oe.length;for(;++ye<Ke;){const je=oe[ye];if((0,v.K)(je))try{je.unsubscribe()}catch(Fe){ue=ue||[],Fe instanceof be?ue=ue.concat(Be(Fe.errors)):ue.push(Fe)}}}if(ue)throw new be(ue)}add(ue){let ee=ue;if(!ue)return me.EMPTY;switch(typeof ue){case"function":ee=new me(ue);case"object":if(ee===this||ee.closed||"function"!=typeof ee.unsubscribe)return ee;if(this.closed)return ee.unsubscribe(),ee;if(!(ee instanceof me)){const oe=ee;ee=new me,ee._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:ne}=ee;if(null===ne)ee._parentOrParents=this;else if(ne instanceof me){if(ne===this)return ee;ee._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return ee;ne.push(this)}const ae=this._subscriptions;return null===ae?this._subscriptions=[ee]:ae.push(ee),ee}remove(ue){const ee=this._subscriptions;if(ee){const ne=ee.indexOf(ue);-1!==ne&&ee.splice(ne,1)}}}var we;function Be(we){return we.reduce((ue,ee)=>ue.concat(ee instanceof be?ee.errors:ee),[])}me.EMPTY=((we=new me).closed=!0,we)},2494:(At,ze,q)=>{"use strict";q.d(ze,{v:()=>v});let w=!1;const v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(J){if(J){const Ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ee.stack)}else w&&console.log("RxJS: Back to a better error behavior. Thank you. <3");w=J},get useDeprecatedSynchronousErrorHandling(){return w}}},5345:(At,ze,q)=>{"use strict";q.d(ze,{IY:()=>Ee,Ds:()=>me,ft:()=>we});var w=q(7393),v=q(7574),J=q(7444);class Ee extends w.L{constructor(ee){super(),this.parent=ee}_next(ee){this.parent.notifyNext(ee)}_error(ee){this.parent.notifyError(ee),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class me extends w.L{notifyNext(ee){this.destination.next(ee)}notifyError(ee){this.destination.error(ee)}notifyComplete(){this.destination.complete()}}function we(ue,ee){if(ee.closed)return;if(ue instanceof v.y)return ue.subscribe(ee);let ne;try{ne=(0,J.s)(ue)(ee)}catch(ae){ee.error(ae)}return ne}},2441:(At,ze,q)=>{"use strict";q.d(ze,{c:()=>be,N:()=>me});var w=q(9765),v=q(7574),J=q(5319),Ee=q(1307);class be extends v.y{constructor(ne,ae){super(),this.source=ne,this.subjectFactory=ae,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new J.w,ne.add(this.source.subscribe(new Be(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=J.w.EMPTY)),ne}refCount(){return(0,Ee.x)()(this)}}const me=(()=>{const ee=be.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ee._subscribe},_isComplete:{value:ee._isComplete,writable:!0},getSubject:{value:ee.getSubject},connect:{value:ee.connect},refCount:{value:ee.refCount}}})();class Be extends w.Yc{constructor(ne,ae){super(ne),this.connectable=ae}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const ae=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,ae&&ae.unsubscribe()}}}},8071:(At,ze,q)=>{"use strict";q.d(ze,{z:()=>Ee});var w=q(5917),v=q(3282);function Ee(...be){return(0,v.J)(1)((0,w.of)(...be))}},9193:(At,ze,q)=>{"use strict";q.d(ze,{E:()=>v,c:()=>J});var w=q(7574);const v=new w.y(be=>be.complete());function J(be){return be?function(be){return new w.y(me=>be.schedule(()=>me.complete()))}(be):v}},4402:(At,ze,q)=>{"use strict";q.d(ze,{D:()=>Ke});var w=q(7574),v=q(7444),J=q(5319),Ee=q(6554),Be=q(4087),we=q(377),ne=q(4072),ae=q(9489);function Ke(je,Fe){return Fe?function(je,Fe){if(null!=je){if(function(je){return je&&"function"==typeof je[Ee.L]}(je))return function(je,Fe){return new w.y(he=>{const nt=new J.w;return nt.add(Fe.schedule(()=>{const it=je[Ee.L]();nt.add(it.subscribe({next(We){nt.add(Fe.schedule(()=>he.next(We)))},error(We){nt.add(Fe.schedule(()=>he.error(We)))},complete(){nt.add(Fe.schedule(()=>he.complete()))}}))})),nt})}(je,Fe);if((0,ne.t)(je))return function(je,Fe){return new w.y(he=>{const nt=new J.w;return nt.add(Fe.schedule(()=>je.then(it=>{nt.add(Fe.schedule(()=>{he.next(it),nt.add(Fe.schedule(()=>he.complete()))}))},it=>{nt.add(Fe.schedule(()=>he.error(it)))}))),nt})}(je,Fe);if((0,ae.z)(je))return(0,Be.r)(je,Fe);if(function(je){return je&&"function"==typeof je[we.hZ]}(je)||"string"==typeof je)return function(je,Fe){if(!je)throw new Error("Iterable cannot be null");return new w.y(he=>{const nt=new J.w;let it;return nt.add(()=>{it&&"function"==typeof it.return&&it.return()}),nt.add(Fe.schedule(()=>{it=je[we.hZ](),nt.add(Fe.schedule(function(){if(he.closed)return;let We,ce;try{const Je=it.next();We=Je.value,ce=Je.done}catch(Je){return void he.error(Je)}ce?he.complete():(he.next(We),this.schedule())}))})),nt})}(je,Fe)}throw new TypeError((null!==je&&typeof je||je)+" is not observable")}(je,Fe):je instanceof w.y?je:new w.y((0,v.s)(je))}},6693:(At,ze,q)=>{"use strict";q.d(ze,{n:()=>Ee});var w=q(7574),v=q(5015),J=q(4087);function Ee(be,me){return me?(0,J.r)(be,me):new w.y((0,v.V)(be))}},6682:(At,ze,q)=>{"use strict";q.d(ze,{T:()=>be});var w=q(7574),v=q(4869),J=q(3282),Ee=q(6693);function be(...me){let Be=Number.POSITIVE_INFINITY,we=null,ue=me[me.length-1];return(0,v.K)(ue)?(we=me.pop(),me.length>1&&"number"==typeof me[me.length-1]&&(Be=me.pop())):"number"==typeof ue&&(Be=me.pop()),null===we&&1===me.length&&me[0]instanceof w.y?me[0]:(0,J.J)(Be)((0,Ee.n)(me,we))}},5917:(At,ze,q)=>{"use strict";q.d(ze,{of:()=>Ee});var w=q(4869),v=q(6693),J=q(4087);function Ee(...be){let me=be[be.length-1];return(0,w.K)(me)?(be.pop(),(0,J.r)(be,me)):(0,v.n)(be)}},5242:(At,ze,q)=>{"use strict";q.d(ze,{d:()=>v});var w=q(7393);function v(be=null){return me=>me.lift(new J(be))}class J{constructor(me){this.defaultValue=me}call(me,Be){return Be.subscribe(new Ee(me,this.defaultValue))}}class Ee extends w.L{constructor(me,Be){super(me),this.defaultValue=Be,this.isEmpty=!0}_next(me){this.isEmpty=!1,this.destination.next(me)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(At,ze,q)=>{"use strict";q.d(ze,{h:()=>v});var w=q(7393);function v(be,me){return function(we){return we.lift(new J(be,me))}}class J{constructor(me,Be){this.predicate=me,this.thisArg=Be}call(me,Be){return Be.subscribe(new Ee(me,this.predicate,this.thisArg))}}class Ee extends w.L{constructor(me,Be,we){super(me),this.predicate=Be,this.thisArg=we,this.count=0}_next(me){let Be;try{Be=this.predicate.call(this.thisArg,me,this.count++)}catch(we){return void this.destination.error(we)}Be&&this.destination.next(me)}}},8049:(At,ze,q)=>{"use strict";q.d(ze,{P:()=>Be});var w=q(3410),v=q(5435),J=q(5257),Ee=q(5242),be=q(4635),me=q(4487);function Be(we,ue){const ee=arguments.length>=2;return ne=>ne.pipe(we?(0,v.h)((ae,oe)=>we(ae,oe,ne)):me.y,(0,J.q)(1),ee?(0,Ee.d)(ue):(0,be.T)(()=>new w.K))}},8002:(At,ze,q)=>{"use strict";q.d(ze,{U:()=>v});var w=q(7393);function v(be,me){return function(we){if("function"!=typeof be)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return we.lift(new J(be,me))}}class J{constructor(me,Be){this.project=me,this.thisArg=Be}call(me,Be){return Be.subscribe(new Ee(me,this.project,this.thisArg))}}class Ee extends w.L{constructor(me,Be,we){super(me),this.project=Be,this.count=0,this.thisArg=we||this}_next(me){let Be;try{Be=this.project.call(this.thisArg,me,this.count++)}catch(we){return void this.destination.error(we)}this.destination.next(Be)}}},3282:(At,ze,q)=>{"use strict";q.d(ze,{J:()=>J});var w=q(9773),v=q(4487);function J(Ee=Number.POSITIVE_INFINITY){return(0,w.zg)(v.y,Ee)}},9773:(At,ze,q)=>{"use strict";q.d(ze,{zg:()=>Ee});var w=q(8002),v=q(4402),J=q(5345);function Ee(we,ue,ee=Number.POSITIVE_INFINITY){return"function"==typeof ue?ne=>ne.pipe(Ee((ae,oe)=>(0,v.D)(we(ae,oe)).pipe((0,w.U)((ye,Ke)=>ue(ae,ye,oe,Ke))),ee)):("number"==typeof ue&&(ee=ue),ne=>ne.lift(new be(we,ee)))}class be{constructor(ue,ee=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=ee}call(ue,ee){return ee.subscribe(new me(ue,this.project,this.concurrent))}}class me extends J.Ds{constructor(ue,ee,ne=Number.POSITIVE_INFINITY){super(ue),this.project=ee,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let ee;const ne=this.index++;try{ee=this.project(ue,ne)}catch(ae){return void this.destination.error(ae)}this.active++,this._innerSub(ee)}_innerSub(ue){const ee=new J.IY(this),ne=this.destination;ne.add(ee);const ae=(0,J.ft)(ue,ee);ae!==ee&&ne.add(ae)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(At,ze,q)=>{"use strict";q.d(ze,{ht:()=>ne,QV:()=>ue});var w=q(7393),v=q(9193),J=q(5917),Ee=q(7574);class we{constructor(ye,Ke,je){this.kind=ye,this.value=Ke,this.error=je,this.hasValue="N"===ye}observe(ye){switch(this.kind){case"N":return ye.next&&ye.next(this.value);case"E":return ye.error&&ye.error(this.error);case"C":return ye.complete&&ye.complete()}}do(ye,Ke,je){switch(this.kind){case"N":return ye&&ye(this.value);case"E":return Ke&&Ke(this.error);case"C":return je&&je()}}accept(ye,Ke,je){return ye&&"function"==typeof ye.next?this.observe(ye):this.do(ye,Ke,je)}toObservable(){switch(this.kind){case"N":return(0,J.of)(this.value);case"E":return oe=this.error,new Ee.y(Ke=>Ke.error(oe));case"C":return(0,v.c)()}var oe;throw new Error("unexpected notification kind value")}static createNext(ye){return void 0!==ye?new we("N",ye):we.undefinedValueNotification}static createError(ye){return new we("E",void 0,ye)}static createComplete(){return we.completeNotification}}function ue(oe,ye=0){return function(je){return je.lift(new ee(oe,ye))}}we.completeNotification=new we("C"),we.undefinedValueNotification=new we("N",void 0);class ee{constructor(ye,Ke=0){this.scheduler=ye,this.delay=Ke}call(ye,Ke){return Ke.subscribe(new ne(ye,this.scheduler,this.delay))}}class ne extends w.L{constructor(ye,Ke,je=0){super(ye),this.scheduler=Ke,this.delay=je}static dispatch(ye){const{notification:Ke,destination:je}=ye;Ke.observe(je),this.unsubscribe()}scheduleMessage(ye){this.destination.add(this.scheduler.schedule(ne.dispatch,this.delay,new ae(ye,this.destination)))}_next(ye){this.scheduleMessage(we.createNext(ye))}_error(ye){this.scheduleMessage(we.createError(ye)),this.unsubscribe()}_complete(){this.scheduleMessage(we.createComplete()),this.unsubscribe()}}class ae{constructor(ye,Ke){this.notification=ye,this.destination=Ke}}},1307:(At,ze,q)=>{"use strict";q.d(ze,{x:()=>v});var w=q(7393);function v(){return function(me){return me.lift(new J(me))}}class J{constructor(me){this.connectable=me}call(me,Be){const{connectable:we}=this;we._refCount++;const ue=new Ee(me,we),ee=Be.subscribe(ue);return ue.closed||(ue.connection=we.connect()),ee}}class Ee extends w.L{constructor(me,Be){super(me),this.connectable=Be}_unsubscribe(){const{connectable:me}=this;if(!me)return void(this.connection=null);this.connectable=null;const Be=me._refCount;if(Be<=0)return void(this.connection=null);if(me._refCount=Be-1,Be>1)return void(this.connection=null);const{connection:we}=this,ue=me._connection;this.connection=null,ue&&(!we||ue===we)&&ue.unsubscribe()}}},2145:(At,ze,q)=>{"use strict";q.d(ze,{R:()=>v});var w=q(7393);function v(be,me){let Be=!1;return arguments.length>=2&&(Be=!0),function(ue){return ue.lift(new J(be,me,Be))}}class J{constructor(me,Be,we=!1){this.accumulator=me,this.seed=Be,this.hasSeed=we}call(me,Be){return Be.subscribe(new Ee(me,this.accumulator,this.seed,this.hasSeed))}}class Ee extends w.L{constructor(me,Be,we,ue){super(me),this.accumulator=Be,this._seed=we,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(me){this.hasSeed=!0,this._seed=me}_next(me){if(this.hasSeed)return this._tryNext(me);this.seed=me,this.destination.next(me)}_tryNext(me){const Be=this.index++;let we;try{we=this.accumulator(this.seed,me,Be)}catch(ue){this.destination.error(ue)}this.seed=we,this.destination.next(we)}}},9761:(At,ze,q)=>{"use strict";q.d(ze,{O:()=>J});var w=q(8071),v=q(4869);function J(...Ee){const be=Ee[Ee.length-1];return(0,v.K)(be)?(Ee.pop(),me=>(0,w.z)(Ee,me,be)):me=>(0,w.z)(Ee,me)}},3101:(At,ze,q)=>{"use strict";q.d(ze,{R:()=>Fe});var w=q(7574);let v=1;const J=Promise.resolve(),Ee={};function be(nt){return nt in Ee&&(delete Ee[nt],!0)}const me={setImmediate(nt){const it=v++;return Ee[it]=!0,J.then(()=>be(it)&&nt()),it},clearImmediate(nt){be(nt)}};var we=q(6465),ee=q(6102);const oe=new class extends ee.v{flush(it){this.active=!0,this.scheduled=void 0;const{actions:We}=this;let ce,Je=-1,Ot=We.length;it=it||We.shift();do{if(ce=it.execute(it.state,it.delay))break}while(++Je<Ot&&(it=We.shift()));if(this.active=!1,ce){for(;++Je<Ot&&(it=We.shift());)it.unsubscribe();throw ce}}}(class extends we.o{constructor(it,We){super(it,We),this.scheduler=it,this.work=We}requestAsyncId(it,We,ce=0){return null!==ce&&ce>0?super.requestAsyncId(it,We,ce):(it.actions.push(this),it.scheduled||(it.scheduled=me.setImmediate(it.flush.bind(it,null))))}recycleAsyncId(it,We,ce=0){if(null!==ce&&ce>0||null===ce&&this.delay>0)return super.recycleAsyncId(it,We,ce);0===it.actions.length&&(me.clearImmediate(We),it.scheduled=void 0)}});var ye=q(9796);class je extends w.y{constructor(it,We=0,ce=oe){var nt;super(),this.source=it,this.delayTime=We,this.scheduler=ce,(!(!(0,ye.k)(nt=We)&&nt-parseFloat(nt)+1>=0)||We<0)&&(this.delayTime=0),(!ce||"function"!=typeof ce.schedule)&&(this.scheduler=oe)}static create(it,We=0,ce=oe){return new je(it,We,ce)}static dispatch(it){const{source:We,subscriber:ce}=it;return this.add(We.subscribe(ce))}_subscribe(it){return this.scheduler.schedule(je.dispatch,this.delayTime,{source:this.source,subscriber:it})}}function Fe(nt,it=0){return function(ce){return ce.lift(new he(nt,it))}}class he{constructor(it,We){this.scheduler=it,this.delay=We}call(it,We){return new je(We,this.delay,this.scheduler).subscribe(it)}}},3190:(At,ze,q)=>{"use strict";q.d(ze,{w:()=>Ee});var w=q(8002),v=q(4402),J=q(5345);function Ee(Be,we){return"function"==typeof we?ue=>ue.pipe(Ee((ee,ne)=>(0,v.D)(Be(ee,ne)).pipe((0,w.U)((ae,oe)=>we(ee,ae,ne,oe))))):ue=>ue.lift(new be(Be))}class be{constructor(we){this.project=we}call(we,ue){return ue.subscribe(new me(we,this.project))}}class me extends J.Ds{constructor(we,ue){super(we),this.project=ue,this.index=0}_next(we){let ue;const ee=this.index++;try{ue=this.project(we,ee)}catch(ne){return void this.destination.error(ne)}this._innerSub(ue)}_innerSub(we){const ue=this.innerSubscription;ue&&ue.unsubscribe();const ee=new J.IY(this),ne=this.destination;ne.add(ee),this.innerSubscription=(0,J.ft)(we,ee),this.innerSubscription!==ee&&ne.add(this.innerSubscription)}_complete(){const{innerSubscription:we}=this;(!we||we.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(we){this.destination.next(we)}}},5257:(At,ze,q)=>{"use strict";q.d(ze,{q:()=>Ee});var w=q(7393),v=q(7108),J=q(9193);function Ee(Be){return we=>0===Be?(0,J.c)():we.lift(new be(Be))}class be{constructor(we){if(this.total=we,this.total<0)throw new v.W}call(we,ue){return ue.subscribe(new me(we,this.total))}}class me extends w.L{constructor(we,ue){super(we),this.total=ue,this.count=0}_next(we){const ue=this.total,ee=++this.count;ee<=ue&&(this.destination.next(we),ee===ue&&(this.destination.complete(),this.unsubscribe()))}}},8307:(At,ze,q)=>{"use strict";q.d(ze,{b:()=>Ee});var w=q(7393),v=q(8640),J=q(9105);function Ee(Be,we,ue){return function(ne){return ne.lift(new be(Be,we,ue))}}class be{constructor(we,ue,ee){this.nextOrObserver=we,this.error=ue,this.complete=ee}call(we,ue){return ue.subscribe(new me(we,this.nextOrObserver,this.error,this.complete))}}class me extends w.L{constructor(we,ue,ee,ne){super(we),this._tapNext=v.Z,this._tapError=v.Z,this._tapComplete=v.Z,this._tapError=ee||v.Z,this._tapComplete=ne||v.Z,(0,J.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||v.Z,this._tapError=ue.error||v.Z,this._tapComplete=ue.complete||v.Z)}_next(we){try{this._tapNext.call(this._context,we)}catch(ue){return void this.destination.error(ue)}this.destination.next(we)}_error(we){try{this._tapError.call(this._context,we)}catch(ue){return void this.destination.error(ue)}this.destination.error(we)}_complete(){try{this._tapComplete.call(this._context)}catch(we){return void this.destination.error(we)}return this.destination.complete()}}},4635:(At,ze,q)=>{"use strict";q.d(ze,{T:()=>J});var w=q(3410),v=q(7393);function J(Be=me){return we=>we.lift(new Ee(Be))}class Ee{constructor(we){this.errorFactory=we}call(we,ue){return ue.subscribe(new be(we,this.errorFactory))}}class be extends v.L{constructor(we,ue){super(we),this.errorFactory=ue,this.hasValue=!1}_next(we){this.hasValue=!0,this.destination.next(we)}_complete(){if(this.hasValue)return this.destination.complete();{let we;try{we=this.errorFactory()}catch(ue){we=ue}this.destination.error(we)}}}function me(){return new w.K}},4087:(At,ze,q)=>{"use strict";q.d(ze,{r:()=>J});var w=q(7574),v=q(5319);function J(Ee,be){return new w.y(me=>{const Be=new v.w;let we=0;return Be.add(be.schedule(function(){we!==Ee.length?(me.next(Ee[we++]),me.closed||Be.add(this.schedule())):me.complete()})),Be})}},6465:(At,ze,q)=>{"use strict";q.d(ze,{o:()=>J});var w=q(5319);class v extends w.w{constructor(be,me){super()}schedule(be,me=0){return this}}class J extends v{constructor(be,me){super(be,me),this.scheduler=be,this.work=me,this.pending=!1}schedule(be,me=0){if(this.closed)return this;this.state=be;const Be=this.id,we=this.scheduler;return null!=Be&&(this.id=this.recycleAsyncId(we,Be,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(we,this.id,me),this}requestAsyncId(be,me,Be=0){return setInterval(be.flush.bind(be,this),Be)}recycleAsyncId(be,me,Be=0){if(null!==Be&&this.delay===Be&&!1===this.pending)return me;clearInterval(me)}execute(be,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(be,me);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,me){let we,Be=!1;try{this.work(be)}catch(ue){Be=!0,we=!!ue&&ue||new Error(ue)}if(Be)return this.unsubscribe(),we}_unsubscribe(){const be=this.id,me=this.scheduler,Be=me.actions,we=Be.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==we&&Be.splice(we,1),null!=be&&(this.id=this.recycleAsyncId(me,be,null)),this.delay=null}}},6102:(At,ze,q)=>{"use strict";q.d(ze,{v:()=>v});let w=(()=>{class J{constructor(be,me=J.now){this.SchedulerAction=be,this.now=me}schedule(be,me=0,Be){return new this.SchedulerAction(this,be).schedule(Be,me)}}return J.now=()=>Date.now(),J})();class v extends w{constructor(Ee,be=w.now){super(Ee,()=>v.delegate&&v.delegate!==this?v.delegate.now():be()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ee,be=0,me){return v.delegate&&v.delegate!==this?v.delegate.schedule(Ee,be,me):super.schedule(Ee,be,me)}flush(Ee){const{actions:be}=this;if(this.active)return void be.push(Ee);let me;this.active=!0;do{if(me=Ee.execute(Ee.state,Ee.delay))break}while(Ee=be.shift());if(this.active=!1,me){for(;Ee=be.shift();)Ee.unsubscribe();throw me}}}},3637:(At,ze,q)=>{"use strict";q.d(ze,{z:()=>J});var w=q(6465);const J=new(q(6102).v)(w.o)},7771:(At,ze,q)=>{"use strict";q.d(ze,{c:()=>me,N:()=>be});var w=q(6465),J=q(6102);const be=new class extends J.v{}(class extends w.o{constructor(we,ue){super(we,ue),this.scheduler=we,this.work=ue}schedule(we,ue=0){return ue>0?super.schedule(we,ue):(this.delay=ue,this.state=we,this.scheduler.flush(this),this)}execute(we,ue){return ue>0||this.closed?super.execute(we,ue):this._execute(we,ue)}requestAsyncId(we,ue,ee=0){return null!==ee&&ee>0||null===ee&&this.delay>0?super.requestAsyncId(we,ue,ee):we.flush(this)}}),me=be},377:(At,ze,q)=>{"use strict";q.d(ze,{hZ:()=>v});const v="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(At,ze,q)=>{"use strict";q.d(ze,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(At,ze,q)=>{"use strict";q.d(ze,{b:()=>w});const w="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(At,ze,q)=>{"use strict";q.d(ze,{W:()=>v});const v=(()=>{function J(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return J.prototype=Object.create(Error.prototype),J})()},3410:(At,ze,q)=>{"use strict";q.d(ze,{K:()=>v});const v=(()=>{function J(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return J.prototype=Object.create(Error.prototype),J})()},7971:(At,ze,q)=>{"use strict";q.d(ze,{N:()=>v});const v=(()=>{function J(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return J.prototype=Object.create(Error.prototype),J})()},4449:(At,ze,q)=>{"use strict";function w(v){setTimeout(()=>{throw v},0)}q.d(ze,{z:()=>w})},4487:(At,ze,q)=>{"use strict";function w(v){return v}q.d(ze,{y:()=>w})},9796:(At,ze,q)=>{"use strict";q.d(ze,{k:()=>w});const w=Array.isArray||(v=>v&&"number"==typeof v.length)},9489:(At,ze,q)=>{"use strict";q.d(ze,{z:()=>w});const w=v=>v&&"number"==typeof v.length&&"function"!=typeof v},9105:(At,ze,q)=>{"use strict";function w(v){return"function"==typeof v}q.d(ze,{m:()=>w})},1555:(At,ze,q)=>{"use strict";function w(v){return null!==v&&"object"==typeof v}q.d(ze,{K:()=>w})},4072:(At,ze,q)=>{"use strict";function w(v){return!!v&&"function"!=typeof v.subscribe&&"function"==typeof v.then}q.d(ze,{t:()=>w})},4869:(At,ze,q)=>{"use strict";function w(v){return v&&"function"==typeof v.schedule}q.d(ze,{K:()=>w})},8640:(At,ze,q)=>{"use strict";function w(){}q.d(ze,{Z:()=>w})},7444:(At,ze,q)=>{"use strict";q.d(ze,{s:()=>ne});var w=q(5015),v=q(4449),Ee=q(377),me=q(6554),we=q(9489),ue=q(4072),ee=q(1555);const ne=ae=>{if(ae&&"function"==typeof ae[me.L])return(ae=>oe=>{const ye=ae[me.L]();if("function"!=typeof ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ye.subscribe(oe)})(ae);if((0,we.z)(ae))return(0,w.V)(ae);if((0,ue.t)(ae))return(ae=>oe=>(ae.then(ye=>{oe.closed||(oe.next(ye),oe.complete())},ye=>oe.error(ye)).then(null,v.z),oe))(ae);if(ae&&"function"==typeof ae[Ee.hZ])return(ae=>oe=>{const ye=ae[Ee.hZ]();for(;;){let Ke;try{Ke=ye.next()}catch(je){return oe.error(je),oe}if(Ke.done){oe.complete();break}if(oe.next(Ke.value),oe.closed)break}return"function"==typeof ye.return&&oe.add(()=>{ye.return&&ye.return()}),oe})(ae);{const ye=`You provided ${(0,ee.K)(ae)?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ye)}}},5015:(At,ze,q)=>{"use strict";q.d(ze,{V:()=>w});const w=v=>J=>{for(let Ee=0,be=v.length;Ee<be&&!J.closed;Ee++)J.next(v[Ee]);J.complete()}},8259:function(At){At.exports=function(){"use strict";const ze=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),q="SweetAlert2:",v=M=>M.charAt(0).toUpperCase()+M.slice(1),J=M=>Array.prototype.slice.call(M),Ee=M=>{console.warn("".concat(q," ").concat("object"==typeof M?M.join(" "):M))},be=M=>{console.error("".concat(q," ").concat(M))},me=[],we=(M,N)=>{(M=>{me.includes(M)||(me.push(M),Ee(M))})('"'.concat(M,'" is deprecated and will be removed in the next major release. Please use "').concat(N,'" instead.'))},ue=M=>"function"==typeof M?M():M,ee=M=>M&&"function"==typeof M.toPromise,ne=M=>ee(M)?M.toPromise():Promise.resolve(M),ae=M=>M&&Promise.resolve(M)===M,ye=M=>M instanceof Element||(M=>"object"==typeof M&&M.jquery)(M),Fe=M=>{const N={};for(const $ in M)N[M[$]]="swal2-"+M[$];return N},he=Fe(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),nt=Fe(["success","warning","info","question","error"]),it=()=>document.body.querySelector(".".concat(he.container)),We=M=>{const N=it();return N?N.querySelector(M):null},ce=M=>We(".".concat(M)),Je=()=>ce(he.popup),Ot=()=>ce(he.icon),Le=()=>ce(he.title),Qe=()=>ce(he["html-container"]),ke=()=>ce(he.image),Ue=()=>ce(he["progress-steps"]),Se=()=>ce(he["validation-message"]),Ne=()=>We(".".concat(he.actions," .").concat(he.confirm)),He=()=>We(".".concat(he.actions," .").concat(he.deny)),lt=()=>We(".".concat(he.loader)),Xe=()=>We(".".concat(he.actions," .").concat(he.cancel)),qt=()=>ce(he.actions),ht=()=>ce(he.footer),Gt=()=>ce(he["timer-progress-bar"]),gn=()=>ce(he.close),rt=()=>{const M=J(Je().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(($,pe)=>($=parseInt($.getAttribute("tabindex")))>(pe=parseInt(pe.getAttribute("tabindex")))?1:$<pe?-1:0),N=J(Je().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter($=>"-1"!==$.getAttribute("tabindex"));return(M=>{const N=[];for(let $=0;$<M.length;$++)-1===N.indexOf(M[$])&&N.push(M[$]);return N})(M.concat(N)).filter($=>Vt($))},mt=()=>!Ce()&&!document.body.classList.contains(he["no-backdrop"]),Ce=()=>document.body.classList.contains(he["toast-shown"]),yt={previousBodyPadding:null},_t=(M,N)=>{if(M.textContent="",N){const pe=(new DOMParser).parseFromString(N,"text/html");J(pe.querySelector("head").childNodes).forEach(ct=>{M.appendChild(ct)}),J(pe.querySelector("body").childNodes).forEach(ct=>{M.appendChild(ct)})}},_n=(M,N)=>{if(!N)return!1;const $=N.split(/\s+/);for(let pe=0;pe<$.length;pe++)if(!M.classList.contains($[pe]))return!1;return!0},hn=(M,N,$)=>{if(((M,N)=>{J(M.classList).forEach($=>{!Object.values(he).includes($)&&!Object.values(nt).includes($)&&!Object.values(N.showClass).includes($)&&M.classList.remove($)})})(M,N),N.customClass&&N.customClass[$]){if("string"!=typeof N.customClass[$]&&!N.customClass[$].forEach)return Ee("Invalid type of customClass.".concat($,'! Expected string or iterable object, got "').concat(typeof N.customClass[$],'"'));kt(M,N.customClass[$])}},_r=(M,N)=>{if(!N)return null;switch(N){case"select":case"textarea":case"file":return Sn(M,he[N]);case"checkbox":return M.querySelector(".".concat(he.checkbox," input"));case"radio":return M.querySelector(".".concat(he.radio," input:checked"))||M.querySelector(".".concat(he.radio," input:first-child"));case"range":return M.querySelector(".".concat(he.range," input"));default:return Sn(M,he.input)}},Fn=M=>{if(M.focus(),"file"!==M.type){const N=M.value;M.value="",M.value=N}},jn=(M,N,$)=>{!M||!N||("string"==typeof N&&(N=N.split(/\s+/).filter(Boolean)),N.forEach(pe=>{M.forEach?M.forEach(ct=>{$?ct.classList.add(pe):ct.classList.remove(pe)}):$?M.classList.add(pe):M.classList.remove(pe)}))},kt=(M,N)=>{jn(M,N,!0)},Ln=(M,N)=>{jn(M,N,!1)},Sn=(M,N)=>{for(let $=0;$<M.childNodes.length;$++)if(_n(M.childNodes[$],N))return M.childNodes[$]},xn=(M,N,$)=>{$==="".concat(parseInt($))&&($=parseInt($)),$||0===parseInt($)?M.style[N]="number"==typeof $?"".concat($,"px"):$:M.style.removeProperty(N)},vn=(M,N="flex")=>{M.style.display=N},Hn=M=>{M.style.display="none"},Rt=(M,N,$,pe)=>{const ct=M.querySelector(N);ct&&(ct.style[$]=pe)},at=(M,N,$)=>{N?vn(M,$):Hn(M)},Vt=M=>!(!M||!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)),$n=M=>M.scrollHeight>M.clientHeight,wn=M=>{const N=window.getComputedStyle(M),$=parseFloat(N.getPropertyValue("animation-duration")||"0"),pe=parseFloat(N.getPropertyValue("transition-duration")||"0");return $>0||pe>0},Mt=(M,N=!1)=>{const $=Gt();Vt($)&&(N&&($.style.transition="none",$.style.width="100%"),setTimeout(()=>{$.style.transition="width ".concat(M/1e3,"s linear"),$.style.width="0%"},10))},Yn=()=>"undefined"==typeof window||"undefined"==typeof document,Bi='\n <div aria-labelledby="'.concat(he.title,'" aria-describedby="').concat(he["html-container"],'" class="').concat(he.popup,'" tabindex="-1">\n   <button type="button" class="').concat(he.close,'"></button>\n   <ul class="').concat(he["progress-steps"],'"></ul>\n   <div class="').concat(he.icon,'"></div>\n   <img class="').concat(he.image,'" />\n   <h2 class="').concat(he.title,'" id="').concat(he.title,'"></h2>\n   <div class="').concat(he["html-container"],'" id="').concat(he["html-container"],'"></div>\n   <input class="').concat(he.input,'" />\n   <input type="file" class="').concat(he.file,'" />\n   <div class="').concat(he.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(he.select,'"></select>\n   <div class="').concat(he.radio,'"></div>\n   <label for="').concat(he.checkbox,'" class="').concat(he.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(he.label,'"></span>\n   </label>\n   <textarea class="').concat(he.textarea,'"></textarea>\n   <div class="').concat(he["validation-message"],'" id="').concat(he["validation-message"],'"></div>\n   <div class="').concat(he.actions,'">\n     <div class="').concat(he.loader,'"></div>\n     <button type="button" class="').concat(he.confirm,'"></button>\n     <button type="button" class="').concat(he.deny,'"></button>\n     <button type="button" class="').concat(he.cancel,'"></button>\n   </div>\n   <div class="').concat(he.footer,'"></div>\n   <div class="').concat(he["timer-progress-bar-container"],'">\n     <div class="').concat(he["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),qn=()=>{wo.isVisible()&&wo.resetValidationMessage()},ie=M=>{const N=(()=>{const M=it();return!!M&&(M.remove(),Ln([document.documentElement,document.body],[he["no-backdrop"],he["toast-shown"],he["has-column"]]),!0)})();if(Yn())return void be("SweetAlert2 requires document to initialize");const $=document.createElement("div");$.className=he.container,N&&kt($,he["no-transition"]),_t($,Bi);const pe=(M=>"string"==typeof M?document.querySelector(M):M)(M.target);pe.appendChild($),(M=>{const N=Je();N.setAttribute("role",M.toast?"alert":"dialog"),N.setAttribute("aria-live",M.toast?"polite":"assertive"),M.toast||N.setAttribute("aria-modal","true")})(M),(M=>{"rtl"===window.getComputedStyle(M).direction&&kt(it(),he.rtl)})(pe),(()=>{const M=Je(),N=Sn(M,he.input),$=Sn(M,he.file),pe=M.querySelector(".".concat(he.range," input")),ct=M.querySelector(".".concat(he.range," output")),Wt=Sn(M,he.select),Pn=M.querySelector(".".concat(he.checkbox," input")),Ir=Sn(M,he.textarea);N.oninput=qn,$.onchange=qn,Wt.onchange=qn,Pn.onchange=qn,Ir.oninput=qn,pe.oninput=()=>{qn(),ct.value=pe.value},pe.onchange=()=>{qn(),pe.nextSibling.value=pe.value}})()},Me=(M,N)=>{M instanceof HTMLElement?N.appendChild(M):"object"==typeof M?Ze(M,N):M&&_t(N,M)},Ze=(M,N)=>{M.jquery?Oe(N,M):_t(N,M.toString())},Oe=(M,N)=>{if(M.textContent="",0 in N)for(let $=0;$ in N;$++)M.appendChild(N[$].cloneNode(!0));else M.appendChild(N.cloneNode(!0))},ot=(()=>{if(Yn())return!1;const M=document.createElement("div"),N={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const $ in N)if(Object.prototype.hasOwnProperty.call(N,$)&&void 0!==M.style[$])return N[$];return!1})(),Xt=(M,N)=>{const $=qt(),pe=lt(),ct=Ne(),Wt=He(),Pn=Xe();N.showConfirmButton||N.showDenyButton||N.showCancelButton?vn($):Hn($),hn($,N,"actions"),fn(ct,"confirm",N),fn(Wt,"deny",N),fn(Pn,"cancel",N),function(M,N,$,pe){if(!pe.buttonsStyling)return Ln([M,N,$],he.styled);kt([M,N,$],he.styled),pe.confirmButtonColor&&(M.style.backgroundColor=pe.confirmButtonColor,kt(M,he["default-outline"])),pe.denyButtonColor&&(N.style.backgroundColor=pe.denyButtonColor,kt(N,he["default-outline"])),pe.cancelButtonColor&&($.style.backgroundColor=pe.cancelButtonColor,kt($,he["default-outline"]))}(ct,Wt,Pn,N),N.reverseButtons&&($.insertBefore(Pn,pe),$.insertBefore(Wt,pe),$.insertBefore(ct,pe)),_t(pe,N.loaderHtml),hn(pe,N,"loader")};function fn(M,N,$){at(M,$["show".concat(v(N),"Button")],"inline-block"),_t(M,$["".concat(N,"ButtonText")]),M.setAttribute("aria-label",$["".concat(N,"ButtonAriaLabel")]),M.className=he[N],hn(M,$,"".concat(N,"Button")),kt(M,$["".concat(N,"ButtonClass")])}const Qn=(M,N)=>{const $=it();!$||(function(M,N){"string"==typeof N?M.style.background=N:N||kt([document.documentElement,document.body],he["no-backdrop"])}($,N.backdrop),function(M,N){N in he?kt(M,he[N]):(Ee('The "position" parameter is not valid, defaulting to "center"'),kt(M,he.center))}($,N.position),function(M,N){if(N&&"string"==typeof N){const $="grow-".concat(N);$ in he&&kt(M,he[$])}}($,N.grow),hn($,N,"container"))};var on={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const bs=["input","file","range","select","radio","checkbox","textarea"],Ji=M=>{if(!Dt[M.input])return be('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(M.input,'"'));const N=Lr(M.input),$=Dt[M.input](N,M);vn($),setTimeout(()=>{Fn($)})},Zr=(M,N)=>{const $=_r(Je(),M);if($){(M=>{for(let N=0;N<M.attributes.length;N++){const $=M.attributes[N].name;["type","value","style"].includes($)||M.removeAttribute($)}})($);for(const pe in N)$.setAttribute(pe,N[pe])}},ur=M=>{const N=Lr(M.input);M.customClass&&kt(N,M.customClass.input)},ir=(M,N)=>{(!M.placeholder||N.inputPlaceholder)&&(M.placeholder=N.inputPlaceholder)},Ar=(M,N,$)=>{if($.inputLabel){M.id=he.input;const pe=document.createElement("label"),ct=he["input-label"];pe.setAttribute("for",M.id),pe.className=ct,kt(pe,$.customClass.inputLabel),pe.innerText=$.inputLabel,N.insertAdjacentElement("beforebegin",pe)}},Lr=M=>{const N=he[M]?he[M]:he.input;return Sn(Je(),N)},Dt={};Dt.text=Dt.email=Dt.password=Dt.number=Dt.tel=Dt.url=(M,N)=>("string"==typeof N.inputValue||"number"==typeof N.inputValue?M.value=N.inputValue:ae(N.inputValue)||Ee('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof N.inputValue,'"')),Ar(M,M,N),ir(M,N),M.type=N.input,M),Dt.file=(M,N)=>(Ar(M,M,N),ir(M,N),M),Dt.range=(M,N)=>{const $=M.querySelector("input"),pe=M.querySelector("output");return $.value=N.inputValue,$.type=N.input,pe.value=N.inputValue,Ar($,M,N),M},Dt.select=(M,N)=>{if(M.textContent="",N.inputPlaceholder){const $=document.createElement("option");_t($,N.inputPlaceholder),$.value="",$.disabled=!0,$.selected=!0,M.appendChild($)}return Ar(M,M,N),M},Dt.radio=M=>(M.textContent="",M),Dt.checkbox=(M,N)=>{const $=_r(Je(),"checkbox");$.value=1,$.id=he.checkbox,$.checked=Boolean(N.inputValue);const pe=M.querySelector("span");return _t(pe,N.inputPlaceholder),M},Dt.textarea=(M,N)=>{M.value=N.inputValue,ir(M,N),Ar(M,M,N);return setTimeout(()=>{if("MutationObserver"in window){const pe=parseInt(window.getComputedStyle(Je()).width);new MutationObserver(()=>{const Wt=M.offsetWidth+(pe=>parseInt(window.getComputedStyle(pe).marginLeft)+parseInt(window.getComputedStyle(pe).marginRight))(M);Je().style.width=Wt>pe?"".concat(Wt,"px"):null}).observe(M,{attributes:!0,attributeFilter:["style"]})}}),M};const Sr=(M,N)=>{const $=Qe();hn($,N,"htmlContainer"),N.html?(Me(N.html,$),vn($,"block")):N.text?($.textContent=N.text,vn($,"block")):Hn($),((M,N)=>{const $=Je(),pe=on.innerParams.get(M),ct=!pe||N.input!==pe.input;bs.forEach(Wt=>{const Pn=he[Wt],Ir=Sn($,Pn);Zr(Wt,N.inputAttributes),Ir.className=Pn,ct&&Hn(Ir)}),N.input&&(ct&&Ji(N),ur(N))})(M,N)},En=(M,N)=>{for(const $ in nt)N.icon!==$&&Ln(M,nt[$]);kt(M,nt[N.icon]),Bn(M,N),wt(),hn(M,N,"icon")},wt=()=>{const M=Je(),N=window.getComputedStyle(M).getPropertyValue("background-color"),$=M.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let pe=0;pe<$.length;pe++)$[pe].style.backgroundColor=N},Qt=(M,N)=>{M.textContent="",_t(M,N.iconHtml?gr(N.iconHtml):"success"===N.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===N.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':gr({question:"?",warning:"!",info:"i"}[N.icon]))},Bn=(M,N)=>{if(N.iconColor){M.style.color=N.iconColor,M.style.borderColor=N.iconColor;for(const $ of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Rt(M,$,"backgroundColor",N.iconColor);Rt(M,".swal2-success-ring","borderColor",N.iconColor)}},gr=M=>'<div class="'.concat(he["icon-content"],'">').concat(M,"</div>"),le=(M,N)=>{const $=Ue();if(!N.progressSteps||0===N.progressSteps.length)return Hn($);vn($),$.textContent="",N.currentProgressStep>=N.progressSteps.length&&Ee("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.progressSteps.forEach((pe,ct)=>{const Wt=(M=>{const N=document.createElement("li");return kt(N,he["progress-step"]),_t(N,M),N})(pe);if($.appendChild(Wt),ct===N.currentProgressStep&&kt(Wt,he["active-progress-step"]),ct!==N.progressSteps.length-1){const Pn=(M=>{const N=document.createElement("li");return kt(N,he["progress-step-line"]),M.progressStepsDistance&&(N.style.width=M.progressStepsDistance),N})(N);$.appendChild(Pn)}})},Ge=(M,N)=>{M.className="".concat(he.popup," ").concat(Vt(M)?N.showClass.popup:""),N.toast?(kt([document.documentElement,document.body],he["toast-shown"]),kt(M,he.toast)):kt(M,he.modal),hn(M,N,"popup"),"string"==typeof N.customClass&&kt(M,N.customClass),N.icon&&kt(M,he["icon-".concat(N.icon)])},Ht=(M,N)=>{((M,N)=>{const $=it(),pe=Je();N.toast?(xn($,"width",N.width),pe.style.width="100%",pe.insertBefore(lt(),Ot())):xn(pe,"width",N.width),xn(pe,"padding",N.padding),N.background&&(pe.style.background=N.background),Hn(Se()),Ge(pe,N)})(0,N),Qn(0,N),le(0,N),((M,N)=>{const $=on.innerParams.get(M),pe=Ot();$&&N.icon===$.icon?(Qt(pe,N),En(pe,N)):N.icon||N.iconHtml?N.icon&&-1===Object.keys(nt).indexOf(N.icon)?(be('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(N.icon,'"')),Hn(pe)):(vn(pe),Qt(pe,N),En(pe,N),kt(pe,N.showClass.icon)):Hn(pe)})(M,N),((M,N)=>{const $=ke();if(!N.imageUrl)return Hn($);vn($,""),$.setAttribute("src",N.imageUrl),$.setAttribute("alt",N.imageAlt),xn($,"width",N.imageWidth),xn($,"height",N.imageHeight),$.className=he.image,hn($,N,"image")})(0,N),((M,N)=>{const $=Le();at($,N.title||N.titleText,"block"),N.title&&Me(N.title,$),N.titleText&&($.innerText=N.titleText),hn($,N,"title")})(0,N),((M,N)=>{const $=gn();_t($,N.closeButtonHtml),hn($,N,"closeButton"),at($,N.showCloseButton),$.setAttribute("aria-label",N.closeButtonAriaLabel)})(0,N),Sr(M,N),Xt(0,N),((M,N)=>{const $=ht();at($,N.footer),N.footer&&Me(N.footer,$),hn($,N,"footer")})(0,N),"function"==typeof N.didRender&&N.didRender(Je())},Jn=()=>Ne()&&Ne().click();const mr=M=>{let N=Je();N||wo.fire(),N=Je();const $=lt();Ce()?Hn(Ot()):Gn(N,M),vn($),N.setAttribute("data-loading",!0),N.setAttribute("aria-busy",!0),N.focus()},Gn=(M,N)=>{const $=qt(),pe=lt();!N&&Vt(Ne())&&(N=Ne()),vn($),N&&(Hn(N),pe.setAttribute("data-button-to-replace",N.className)),pe.parentNode.insertBefore(pe,N),kt([M,$],he.loading)},Zt={},Wr=M=>new Promise(N=>{if(!M)return N();const $=window.scrollX,pe=window.scrollY;Zt.restoreFocusTimeout=setTimeout(()=>{Zt.previousActiveElement&&Zt.previousActiveElement.focus?(Zt.previousActiveElement.focus(),Zt.previousActiveElement=null):document.body&&document.body.focus(),N()},100),window.scrollTo($,pe)}),Xi=()=>{if(Zt.timeout)return(()=>{const M=Gt(),N=parseInt(window.getComputedStyle(M).width);M.style.removeProperty("transition"),M.style.width="100%";const $=parseInt(window.getComputedStyle(M).width),pe=parseInt(N/$*100);M.style.removeProperty("transition"),M.style.width="".concat(pe,"%")})(),Zt.timeout.stop()},Vr=()=>{if(Zt.timeout){const M=Zt.timeout.start();return Mt(M),M}};let Cn=!1;const Mi={};const wr=M=>{for(let N=M.target;N&&N!==document;N=N.parentNode)for(const $ in Mi){const pe=N.getAttribute($);if(pe)return void Mi[$].fire({template:pe})}},Cr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Is=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ri={},qs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ts=M=>Object.prototype.hasOwnProperty.call(Cr,M),Ds=M=>Ri[M],Fo=M=>{ts(M)||Ee('Unknown parameter "'.concat(M,'"'))},kr=M=>{qs.includes(M)&&Ee('The parameter "'.concat(M,'" is incompatible with toasts'))},pi=M=>{Ds(M)&&we(M,Ds(M))};var Gs=Object.freeze({isValidParameter:ts,isUpdatableParameter:M=>-1!==Is.indexOf(M),isDeprecatedParameter:Ds,argsToParams:M=>{const N={};return"object"!=typeof M[0]||ye(M[0])?["title","html","icon"].forEach(($,pe)=>{const ct=M[pe];"string"==typeof ct||ye(ct)?N[$]=ct:void 0!==ct&&be("Unexpected type of ".concat($,'! Expected "string" or "Element", got ').concat(typeof ct))}):Object.assign(N,M[0]),N},isVisible:()=>Vt(Je()),clickConfirm:Jn,clickDeny:()=>He()&&He().click(),clickCancel:()=>Xe()&&Xe().click(),getContainer:it,getPopup:Je,getTitle:Le,getHtmlContainer:Qe,getImage:ke,getIcon:Ot,getInputLabel:()=>ce(he["input-label"]),getCloseButton:gn,getActions:qt,getConfirmButton:Ne,getDenyButton:He,getCancelButton:Xe,getLoader:lt,getFooter:ht,getTimerProgressBar:Gt,getFocusableElements:rt,getValidationMessage:Se,isLoading:()=>Je().hasAttribute("data-loading"),fire:function(...M){return new this(...M)},mixin:function(M){return class extends(this){_main(pe,ct){return super._main(pe,Object.assign({},M,ct))}}},showLoading:mr,enableLoading:mr,getTimerLeft:()=>Zt.timeout&&Zt.timeout.getTimerLeft(),stopTimer:Xi,resumeTimer:Vr,toggleTimer:()=>{const M=Zt.timeout;return M&&(M.running?Xi():Vr())},increaseTimer:M=>{if(Zt.timeout){const N=Zt.timeout.increase(M);return Mt(N,!0),N}},isTimerRunning:()=>Zt.timeout&&Zt.timeout.isRunning(),bindClickHandler:function(M="data-swal-template"){Mi[M]=this,Cn||(document.body.addEventListener("click",wr),Cn=!0)}});function ns(){const M=on.innerParams.get(this);if(!M)return;const N=on.domCache.get(this);Hn(N.loader),Ce()?M.icon&&vn(Ot()):_o(N),Ln([N.popup,N.actions],he.loading),N.popup.removeAttribute("aria-busy"),N.popup.removeAttribute("data-loading"),N.confirmButton.disabled=!1,N.denyButton.disabled=!1,N.cancelButton.disabled=!1}const _o=M=>{const N=M.popup.getElementsByClassName(M.loader.getAttribute("data-button-to-replace"));N.length?vn(N[0],"inline-block"):!Vt(Ne())&&!Vt(He())&&!Vt(Xe())&&Hn(M.actions)};const gi=()=>{null===yt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(yt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(yt.previousBodyPadding+(()=>{const M=document.createElement("div");M.className=he["scrollbar-measure"],document.body.appendChild(M);const N=M.getBoundingClientRect().width-M.clientWidth;return document.body.removeChild(M),N})(),"px"))},As=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const N=44;Je().scrollHeight>window.innerHeight-N&&(it().style.paddingBottom="".concat(N,"px"))}},Ss=()=>{const M=it();let N;M.ontouchstart=$=>{N=ki($)},M.ontouchmove=$=>{N&&($.preventDefault(),$.stopPropagation())}},ki=M=>{const N=M.target,$=it();return!(io(M)||Fi(M)||N!==$&&($n($)||"INPUT"===N.tagName||"TEXTAREA"===N.tagName||$n(Qe())&&Qe().contains(N)))},io=M=>M.touches&&M.touches.length&&"stylus"===M.touches[0].touchType,Fi=M=>M.touches&&M.touches.length>1,bi=()=>{J(document.body.children).forEach(N=>{N.hasAttribute("data-previous-aria-hidden")?(N.setAttribute("aria-hidden",N.getAttribute("data-previous-aria-hidden")),N.removeAttribute("data-previous-aria-hidden")):N.removeAttribute("aria-hidden")})};var rs={swalPromiseResolve:new WeakMap};function xs(M,N,$,pe){Ce()?jr(M,pe):(Wr($).then(()=>jr(M,pe)),Zt.keydownTarget.removeEventListener("keydown",Zt.keydownHandler,{capture:Zt.keydownListenerCapture}),Zt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(N.setAttribute("style","display:none !important"),N.removeAttribute("class"),N.innerHTML=""):N.remove(),mt()&&(null!==yt.previousBodyPadding&&(document.body.style.paddingRight="".concat(yt.previousBodyPadding,"px"),yt.previousBodyPadding=null),(()=>{if(_n(document.body,he.iosfix)){const M=parseInt(document.body.style.top,10);Ln(document.body,he.iosfix),document.body.style.top="",document.body.scrollTop=-1*M}})(),bi()),Ln([document.documentElement,document.body],[he.shown,he["height-auto"],he["no-backdrop"],he["toast-shown"]])}function zs(M){const N=Je();if(!N)return;M=so(M);const $=on.innerParams.get(this);if(!$||_n(N,$.hideClass.popup))return;const pe=rs.swalPromiseResolve.get(this);Ln(N,$.showClass.popup),kt(N,$.hideClass.popup);const ct=it();Ln(ct,$.showClass.backdrop),kt(ct,$.hideClass.backdrop),Br(this,N,$),pe(M)}const so=M=>void 0===M?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},M),Br=(M,N,$)=>{const pe=it(),ct=ot&&wn(N);"function"==typeof $.willClose&&$.willClose(N),ct?Os(M,N,pe,$.returnFocus,$.didClose):xs(M,pe,$.returnFocus,$.didClose)},Os=(M,N,$,pe,ct)=>{Zt.swalCloseEventFinishedCallback=xs.bind(null,M,$,pe,ct),N.addEventListener(ot,function(Wt){Wt.target===N&&(Zt.swalCloseEventFinishedCallback(),delete Zt.swalCloseEventFinishedCallback)})},jr=(M,N)=>{setTimeout(()=>{"function"==typeof N&&N.bind(M.params)(),M._destroy()})};function is(M,N,$){const pe=on.domCache.get(M);N.forEach(ct=>{pe[ct].disabled=$})}function xr(M,N){if(!M)return!1;if("radio"===M.type){const pe=M.parentNode.parentNode.querySelectorAll("input");for(let ct=0;ct<pe.length;ct++)pe[ct].disabled=N}else M.disabled=N}class gt{constructor(N,$){this.callback=N,this.remaining=$,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(N){const $=this.running;return $&&this.stop(),this.remaining+=N,$&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var L={email:(M,N)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(M)?Promise.resolve():Promise.resolve(N||"Invalid email address"),url:(M,N)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(M)?Promise.resolve():Promise.resolve(N||"Invalid URL")};function Z(M){(function(M){M.inputValidator||Object.keys(L).forEach(N=>{M.input===N&&(M.inputValidator=L[N])})})(M),M.showLoaderOnConfirm&&!M.preConfirm&&Ee("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(M){(!M.target||"string"==typeof M.target&&!document.querySelector(M.target)||"string"!=typeof M.target&&!M.target.appendChild)&&(Ee('Target parameter is not valid, defaulting to "body"'),M.target="body")}(M),"string"==typeof M.title&&(M.title=M.title.split("\n").join("<br />")),ie(M)}const Pe=["swal-title","swal-html","swal-footer"],It=M=>{const N={};return J(M.querySelectorAll("swal-param")).forEach($=>{$r($,["name","value"]);const pe=$.getAttribute("name");let ct=$.getAttribute("value");"boolean"==typeof Cr[pe]&&"false"===ct&&(ct=!1),"object"==typeof Cr[pe]&&(ct=JSON.parse(ct)),N[pe]=ct}),N},Wn=M=>{const N={};return J(M.querySelectorAll("swal-button")).forEach($=>{$r($,["type","color","aria-label"]);const pe=$.getAttribute("type");N["".concat(pe,"ButtonText")]=$.innerHTML,N["show".concat(v(pe),"Button")]=!0,$.hasAttribute("color")&&(N["".concat(pe,"ButtonColor")]=$.getAttribute("color")),$.hasAttribute("aria-label")&&(N["".concat(pe,"ButtonAriaLabel")]=$.getAttribute("aria-label"))}),N},li=M=>{const N={},$=M.querySelector("swal-image");return $&&($r($,["src","width","height","alt"]),$.hasAttribute("src")&&(N.imageUrl=$.getAttribute("src")),$.hasAttribute("width")&&(N.imageWidth=$.getAttribute("width")),$.hasAttribute("height")&&(N.imageHeight=$.getAttribute("height")),$.hasAttribute("alt")&&(N.imageAlt=$.getAttribute("alt"))),N},Yr=M=>{const N={},$=M.querySelector("swal-icon");return $&&($r($,["type","color"]),$.hasAttribute("type")&&(N.icon=$.getAttribute("type")),$.hasAttribute("color")&&(N.iconColor=$.getAttribute("color")),N.iconHtml=$.innerHTML),N},Un=M=>{const N={},$=M.querySelector("swal-input");$&&($r($,["type","label","placeholder","value"]),N.input=$.getAttribute("type")||"text",$.hasAttribute("label")&&(N.inputLabel=$.getAttribute("label")),$.hasAttribute("placeholder")&&(N.inputPlaceholder=$.getAttribute("placeholder")),$.hasAttribute("value")&&(N.inputValue=$.getAttribute("value")));const pe=M.querySelectorAll("swal-input-option");return pe.length&&(N.inputOptions={},J(pe).forEach(ct=>{$r(ct,["value"]);const Wt=ct.getAttribute("value");N.inputOptions[Wt]=ct.innerHTML})),N},Hr=(M,N)=>{const $={};for(const pe in N){const ct=N[pe],Wt=M.querySelector(ct);Wt&&($r(Wt,[]),$[ct.replace(/^swal-/,"")]=Wt.innerHTML.trim())}return $},ps=M=>{const N=Pe.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);J(M.children).forEach($=>{const pe=$.tagName.toLowerCase();-1===N.indexOf(pe)&&Ee("Unrecognized element <".concat(pe,">"))})},$r=(M,N)=>{J(M.attributes).forEach($=>{-1===N.indexOf($.name)&&Ee(['Unrecognized attribute "'.concat($.name,'" on <').concat(M.tagName.toLowerCase(),">."),"".concat(N.length?"Allowed attributes are: ".concat(N.join(", ")):"To set the value, use HTML within the element.")])})},vo=M=>{const N=it(),$=Je();"function"==typeof M.willOpen&&M.willOpen($);const ct=window.getComputedStyle(document.body).overflowY;Ns(N,$,M),setTimeout(()=>{nn(N,$)},10),mt()&&(ja(N,M.scrollbarPadding,ct),J(document.body.children).forEach(N=>{N===it()||N.contains(it())||(N.hasAttribute("aria-hidden")&&N.setAttribute("data-previous-aria-hidden",N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))})),!Ce()&&!Zt.previousActiveElement&&(Zt.previousActiveElement=document.activeElement),"function"==typeof M.didOpen&&setTimeout(()=>M.didOpen($)),Ln(N,he["no-transition"])},la=M=>{const N=Je();if(M.target!==N)return;const $=it();N.removeEventListener(ot,la),$.style.overflowY="auto"},nn=(M,N)=>{ot&&wn(N)?(M.style.overflowY="hidden",N.addEventListener(ot,la)):M.style.overflowY="auto"},ja=(M,N,$)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!_n(document.body,he.iosfix)){const N=document.body.scrollTop;document.body.style.top="".concat(-1*N,"px"),kt(document.body,he.iosfix),Ss(),As()}})(),N&&"hidden"!==$&&gi(),setTimeout(()=>{M.scrollTop=0})},Ns=(M,N,$)=>{kt(M,$.showClass.backdrop),N.style.setProperty("opacity","0","important"),vn(N,"grid"),setTimeout(()=>{kt(N,$.showClass.popup),N.style.removeProperty("opacity")},10),kt([document.documentElement,document.body],he.shown),$.heightAuto&&$.backdrop&&!$.toast&&kt([document.documentElement,document.body],he["height-auto"])},ua=M=>M.checked?1:0,oo=M=>M.checked?M.value:null,Gl=M=>M.files.length?null!==M.getAttribute("multiple")?M.files:M.files[0]:null,dt=(M,N)=>{const $=Je(),pe=ct=>zl[N.input]($,or(ct),N);ee(N.inputOptions)||ae(N.inputOptions)?(mr(Ne()),ne(N.inputOptions).then(ct=>{M.hideLoading(),pe(ct)})):"object"==typeof N.inputOptions?pe(N.inputOptions):be("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof N.inputOptions))},Rn=(M,N)=>{const $=M.getInput();Hn($),ne(N.inputValue).then(pe=>{$.value="number"===N.input?parseFloat(pe)||0:"".concat(pe),vn($),$.focus(),M.hideLoading()}).catch(pe=>{be("Error in inputValue promise: ".concat(pe)),$.value="",vn($),$.focus(),M.hideLoading()})},zl={select:(M,N,$)=>{const pe=Sn(M,he.select),ct=(Wt,Pn,Ir)=>{const Tr=document.createElement("option");Tr.value=Ir,_t(Tr,Pn),Tr.selected=$a(Ir,$.inputValue),Wt.appendChild(Tr)};N.forEach(Wt=>{const Pn=Wt[0],Ir=Wt[1];if(Array.isArray(Ir)){const Tr=document.createElement("optgroup");Tr.label=Pn,Tr.disabled=!1,pe.appendChild(Tr),Ir.forEach(Ks=>ct(Tr,Ks[1],Ks[0]))}else ct(pe,Ir,Pn)}),pe.focus()},radio:(M,N,$)=>{const pe=Sn(M,he.radio);N.forEach(Wt=>{const Pn=Wt[0],Ir=Wt[1],Tr=document.createElement("input"),Ks=document.createElement("label");Tr.type="radio",Tr.name=he.radio,Tr.value=Pn,$a(Pn,$.inputValue)&&(Tr.checked=!0);const Ci=document.createElement("span");_t(Ci,Ir),Ci.className=he.label,Ks.appendChild(Tr),Ks.appendChild(Ci),pe.appendChild(Ks)});const ct=pe.querySelectorAll("input");ct.length&&ct[0].focus()}},or=M=>{const N=[];return"undefined"!=typeof Map&&M instanceof Map?M.forEach(($,pe)=>{let ct=$;"object"==typeof ct&&(ct=or(ct)),N.push([pe,ct])}):Object.keys(M).forEach($=>{let pe=M[$];"object"==typeof pe&&(pe=or(pe)),N.push([$,pe])}),N},$a=(M,N)=>N&&N.toString()===M.toString(),ms=(M,N)=>{const $=on.innerParams.get(M),pe=((M,N)=>{const $=M.getInput();if(!$)return null;switch(N.input){case"checkbox":return ua($);case"radio":return oo($);case"file":return Gl($);default:return N.inputAutoTrim?$.value.trim():$.value}})(M,$);$.inputValidator?Zl(M,pe,N):M.getInput().checkValidity()?"deny"===N?ca(M,pe):ao(M,pe):(M.enableButtons(),M.showValidationMessage($.validationMessage))},Zl=(M,N,$)=>{const pe=on.innerParams.get(M);M.disableInput(),Promise.resolve().then(()=>ne(pe.inputValidator(N,pe.validationMessage))).then(Wt=>{M.enableButtons(),M.enableInput(),Wt?M.showValidationMessage(Wt):"deny"===$?ca(M,N):ao(M,N)})},ca=(M,N)=>{const $=on.innerParams.get(M||void 0);$.showLoaderOnDeny&&mr(He()),$.preDeny?Promise.resolve().then(()=>ne($.preDeny(N,$.validationMessage))).then(ct=>{!1===ct?M.hideLoading():M.closePopup({isDenied:!0,value:void 0===ct?N:ct})}):M.closePopup({isDenied:!0,value:N})},da=(M,N)=>{M.closePopup({isConfirmed:!0,value:N})},ao=(M,N)=>{const $=on.innerParams.get(M||void 0);$.showLoaderOnConfirm&&mr(),$.preConfirm?(M.resetValidationMessage(),Promise.resolve().then(()=>ne($.preConfirm(N,$.validationMessage))).then(ct=>{Vt(Se())||!1===ct?M.hideLoading():da(M,void 0===ct?N:ct)})):da(M,N)},Jr=(M,N,$)=>{const pe=rt();if(pe.length)return(N+=$)===pe.length?N=0:-1===N&&(N=pe.length-1),pe[N].focus();Je().focus()},Vo=["ArrowRight","ArrowDown"],Ms=["ArrowLeft","ArrowUp"],Rs=(M,N,$)=>{const pe=on.innerParams.get(M);!pe||(pe.stopKeydownPropagation&&N.stopPropagation(),"Enter"===N.key?lo(M,N,pe):"Tab"===N.key?Uo(N,pe):[...Vo,...Ms].includes(N.key)?$u(N.key):"Escape"===N.key&&Or(N,pe,$))},lo=(M,N,$)=>{if(!N.isComposing&&N.target&&M.getInput()&&N.target.outerHTML===M.getInput().outerHTML){if(["textarea","file"].includes($.input))return;Jn(),N.preventDefault()}},Uo=(M,N)=>{const $=M.target,pe=rt();let ct=-1;for(let Wt=0;Wt<pe.length;Wt++)if($===pe[Wt]){ct=Wt;break}Jr(0,ct,M.shiftKey?-1:1),M.stopPropagation(),M.preventDefault()},$u=M=>{if(![Ne(),He(),Xe()].includes(document.activeElement))return;const ct=Vo.includes(M)?"nextElementSibling":"previousElementSibling",Wt=document.activeElement[ct];Wt&&Wt.focus()},Or=(M,N,$)=>{ue(N.allowEscapeKey)&&(M.preventDefault(),$(ze.esc))},cl=(M,N,$)=>{N.popup.onclick=()=>{const pe=on.innerParams.get(M);pe.showConfirmButton||pe.showDenyButton||pe.showCancelButton||pe.showCloseButton||pe.timer||pe.input||$(ze.close)}};let ys=!1;const dl=M=>{M.popup.onmousedown=()=>{M.container.onmouseup=function(N){M.container.onmouseup=void 0,N.target===M.container&&(ys=!0)}}},Wl=M=>{M.container.onmousedown=()=>{M.popup.onmouseup=function(N){M.popup.onmouseup=void 0,(N.target===M.popup||M.popup.contains(N.target))&&(ys=!0)}}},Ga=(M,N,$)=>{N.container.onclick=pe=>{const ct=on.innerParams.get(M);ys?ys=!1:pe.target===N.container&&ue(ct.allowOutsideClick)&&$(ze.backdrop)}};const za=(M,N)=>{const $=(M=>{const N="string"==typeof M.template?document.querySelector(M.template):M.template;if(!N)return{};const $=N.content;return ps($),Object.assign(It($),Wn($),li($),Yr($),Un($),Hr($,Pe))})(M),pe=Object.assign({},Cr,N,$,M);return pe.showClass=Object.assign({},Cr.showClass,pe.showClass),pe.hideClass=Object.assign({},Cr.hideClass,pe.hideClass),pe},ha=(M,N,$)=>new Promise(pe=>{const ct=Wt=>{M.closePopup({isDismissed:!0,dismiss:Wt})};rs.swalPromiseResolve.set(M,pe),N.confirmButton.onclick=()=>(M=>{const N=on.innerParams.get(M);M.disableButtons(),N.input?ms(M,"confirm"):ao(M,!0)})(M),N.denyButton.onclick=()=>(M=>{const N=on.innerParams.get(M);M.disableButtons(),N.returnInputValueOnDeny?ms(M,"deny"):ca(M,!1)})(M),N.cancelButton.onclick=()=>((M,N)=>{M.disableButtons(),N(ze.cancel)})(M,ct),N.closeButton.onclick=()=>ct(ze.close),((M,N,$)=>{on.innerParams.get(M).toast?cl(M,N,$):(dl(N),Wl(N),Ga(M,N,$))})(M,N,ct),((M,N,$,pe)=>{N.keydownTarget&&N.keydownHandlerAdded&&(N.keydownTarget.removeEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!1),$.toast||(N.keydownHandler=ct=>Rs(M,ct,pe),N.keydownTarget=$.keydownListenerCapture?window:Je(),N.keydownListenerCapture=$.keydownListenerCapture,N.keydownTarget.addEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!0)})(M,Zt,$,ct),((M,N)=>{"select"===N.input||"radio"===N.input?dt(M,N):["text","email","number","tel","textarea"].includes(N.input)&&(ee(N.inputValue)||ae(N.inputValue))&&(mr(Ne()),Rn(M,N))})(M,$),vo($),Ws(Zt,$,ct),Za(N,$),setTimeout(()=>{N.container.scrollTop=0})}),Kl=M=>{const N={popup:Je(),container:it(),actions:qt(),confirmButton:Ne(),denyButton:He(),cancelButton:Xe(),loader:lt(),closeButton:gn(),validationMessage:Se(),progressSteps:Ue()};return on.domCache.set(M,N),N},Ws=(M,N,$)=>{const pe=Gt();Hn(pe),N.timer&&(M.timeout=new gt(()=>{$("timer"),delete M.timeout},N.timer),N.timerProgressBar&&(vn(pe),setTimeout(()=>{M.timeout&&M.timeout.running&&Mt(N.timer)})))},Za=(M,N)=>{if(!N.toast){if(!ue(N.allowEnterKey))return Wa();Rc(M,N)||Jr(0,-1,1)}},Rc=(M,N)=>N.focusDeny&&Vt(M.denyButton)?(M.denyButton.focus(),!0):N.focusCancel&&Vt(M.cancelButton)?(M.cancelButton.focus(),!0):!(!N.focusConfirm||!Vt(M.confirmButton)||(M.confirmButton.focus(),0)),Wa=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const dr=M=>{delete M.params,delete Zt.keydownHandler,delete Zt.keydownTarget,zi(on),zi(rs),delete Zt.currentInstance},zi=M=>{for(const N in M)M[N]=new WeakMap};var Ho=Object.freeze({hideLoading:ns,disableLoading:ns,getInput:function(M){const N=on.innerParams.get(M||this),$=on.domCache.get(M||this);return $?_r($.popup,N.input):null},close:zs,closePopup:zs,closeModal:zs,closeToast:zs,enableButtons:function(){is(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){is(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return xr(this.getInput(),!1)},disableInput:function(){return xr(this.getInput(),!0)},showValidationMessage:function(M){const N=on.domCache.get(this),$=on.innerParams.get(this);_t(N.validationMessage,M),N.validationMessage.className=he["validation-message"],$.customClass&&$.customClass.validationMessage&&kt(N.validationMessage,$.customClass.validationMessage),vn(N.validationMessage);const pe=this.getInput();pe&&(pe.setAttribute("aria-invalid",!0),pe.setAttribute("aria-describedby",he["validation-message"]),Fn(pe),kt(pe,he.inputerror))},resetValidationMessage:function(){const M=on.domCache.get(this);M.validationMessage&&Hn(M.validationMessage);const N=this.getInput();N&&(N.removeAttribute("aria-invalid"),N.removeAttribute("aria-describedby"),Ln(N,he.inputerror))},getProgressSteps:function(){return on.domCache.get(this).progressSteps},_main:function(M,N={}){(M=>{!M.backdrop&&M.allowOutsideClick&&Ee('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const N in M)Fo(N),M.toast&&kr(N),pi(N)})(Object.assign({},N,M)),Zt.currentInstance&&(Zt.currentInstance._destroy(),mt()&&bi()),Zt.currentInstance=this;const $=za(M,N);Z($),Object.freeze($),Zt.timeout&&(Zt.timeout.stop(),delete Zt.timeout),clearTimeout(Zt.restoreFocusTimeout);const pe=Kl(this);return Ht(this,$),on.innerParams.set(this,$),ha(this,pe,$)},update:function(M){const N=Je(),$=on.innerParams.get(this);if(!N||_n(N,$.hideClass.popup))return Ee("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const pe={};Object.keys(M).forEach(Wt=>{wo.isUpdatableParameter(Wt)?pe[Wt]=M[Wt]:Ee('Invalid parameter to update: "'.concat(Wt,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const ct=Object.assign({},$,pe);Ht(this,ct),on.innerParams.set(this,ct),Object.defineProperties(this,{params:{value:Object.assign({},this.params,M),writable:!1,enumerable:!0}})},_destroy:function(){const M=on.domCache.get(this),N=on.innerParams.get(this);!N||(M.popup&&Zt.swalCloseEventFinishedCallback&&(Zt.swalCloseEventFinishedCallback(),delete Zt.swalCloseEventFinishedCallback),Zt.deferDisposalTimer&&(clearTimeout(Zt.deferDisposalTimer),delete Zt.deferDisposalTimer),"function"==typeof N.didDestroy&&N.didDestroy(),dr(this))}});let fa;class Vi{constructor(...N){if("undefined"==typeof window)return;fa=this;const $=Object.freeze(this.constructor.argsToParams(N));Object.defineProperties(this,{params:{value:$,writable:!1,enumerable:!0,configurable:!0}});const pe=this._main(this.params);on.promise.set(this,pe)}then(N){return on.promise.get(this).then(N)}finally(N){return on.promise.get(this).finally(N)}}Object.assign(Vi.prototype,Ho),Object.assign(Vi,Gs),Object.keys(Ho).forEach(M=>{Vi[M]=function(...N){if(fa)return fa[M](...N)}}),Vi.DismissReason=ze,Vi.version="11.1.7";const wo=Vi;return wo.default=wo,wo}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(ze,q){var w=ze.createElement("style");if(ze.getElementsByTagName("head")[0].appendChild(w),w.styleSheet)w.styleSheet.disabled||(w.styleSheet.cssText=q);else try{w.innerHTML=q}catch(v){w.innerText=q}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},1668:(At,ze,q)=>{"use strict";var w=q(9075),v=q(3018),J=q(665),Ee=q(8939),be=q(6575),me=q(8002),Be=q(3637),we=q(7574),ue=q(4402),ee=q(5917),ne=q(9126),ae=q(9761),oe=q(7393);function ye(){return o=>o.lift(new Ke)}class Ke{call(n,r){return r.subscribe(new je(n))}}class je extends oe.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}var Fe=q(2145);function he(o,n){return r=>r.lift(new nt(o,n))}class nt{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new it(n,this.compare,this.keySelector))}}class it extends oe.L{constructor(n,r,l){super(n),this.keySelector=l,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:c}=this;r=c?c(n):n}catch(c){return this.destination.error(c)}let l=!1;if(this.hasKey)try{const{compare:c}=this;l=c(this.key,r)}catch(c){return this.destination.error(c)}else this.hasKey=!0;l||(this.key=r,this.destination.next(n))}}var We=q(5435),ce=q(8583),Ot=(q(6780),q(4486)),Le=q(8239),Qe=q(5452),ke=q(6034),Ue=q(300),Se=q(4685),Ne=function(o,n){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])})(o,n)};function Ae(o){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&o[n],l=0;if(r)return r.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xe,lt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qt=qt||{},ht=lt||self;function Gt(){}function gn(o){var n=typeof o;return"array"==(n="object"!=n?n:o?Array.isArray(o)?"array":n:"null")||"object"==n&&"number"==typeof o.length}function kn(o){var n=typeof o;return"object"==n&&null!=o||"function"==n}var mt="closure_uid_"+(1e9*Math.random()>>>0),Ce=0;function xe(o,n,r){return o.call.apply(o.bind,arguments)}function yt(o,n,r){if(!o)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,l),o.apply(n,c)}}return function(){return o.apply(n,arguments)}}function _t(o,n,r){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xe:yt).apply(null,arguments)}function _n(o,n){var r=Array.prototype.slice.call(arguments,1);return function(){var l=r.slice();return l.push.apply(l,arguments),o.apply(this,l)}}function jt(o,n){function r(){}r.prototype=n.prototype,o.Z=n.prototype,o.prototype=new r,o.prototype.constructor=o,o.Vb=function(l,c,f){for(var _=Array(arguments.length-2),I=2;I<arguments.length;I++)_[I-2]=arguments[I];return n.prototype[c].apply(l,_)}}function hn(){this.s=this.s,this.o=this.o}var Fn={};hn.prototype.s=!1,hn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var o=function(o){return Object.prototype.hasOwnProperty.call(o,mt)&&o[mt]||(o[mt]=++Ce)}(this);delete Fn[o]}},hn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jn=Array.prototype.indexOf?function(o,n){return Array.prototype.indexOf.call(o,n,void 0)}:function(o,n){if("string"==typeof o)return"string"!=typeof n||1!=n.length?-1:o.indexOf(n,0);for(var r=0;r<o.length;r++)if(r in o&&o[r]===n)return r;return-1},kt=Array.prototype.forEach?function(o,n,r){Array.prototype.forEach.call(o,n,r)}:function(o,n,r){for(var l=o.length,c="string"==typeof o?o.split(""):o,f=0;f<l;f++)f in c&&n.call(r,c[f],f,o)};function Sn(o){return Array.prototype.concat.apply([],arguments)}function xn(o){var n=o.length;if(0<n){for(var r=Array(n),l=0;l<n;l++)r[l]=o[l];return r}return[]}function vn(o){return/^[\s\xa0]*$/.test(o)}var Vt,Hn=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]};function Rt(o,n){return-1!=o.indexOf(n)}function at(o,n){return o<n?-1:o>n?1:0}e:{var Kn=ht.navigator;if(Kn){var $n=Kn.userAgent;if($n){Vt=$n;break e}}Vt=""}function wn(o,n,r){for(var l in o)n.call(r,o[l],l,o)}function Mt(o){var n={};for(var r in o)n[r]=o[r];return n}var Pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yn(o,n){for(var r,l,c=1;c<arguments.length;c++){for(r in l=arguments[c])o[r]=l[r];for(var f=0;f<Pt.length;f++)r=Pt[f],Object.prototype.hasOwnProperty.call(l,r)&&(o[r]=l[r])}}function Bi(o){return Bi[" "](o),o}Bi[" "]=Gt;var Ze,o,qn=Rt(Vt,"Opera"),vr=Rt(Vt,"Trident")||Rt(Vt,"MSIE"),zt=Rt(Vt,"Edge"),Mn=zt||vr,ge=Rt(Vt,"Gecko")&&!(Rt(Vt.toLowerCase(),"webkit")&&!Rt(Vt,"Edge"))&&!(Rt(Vt,"Trident")||Rt(Vt,"MSIE"))&&!Rt(Vt,"Edge"),ie=Rt(Vt.toLowerCase(),"webkit")&&!Rt(Vt,"Edge");function Me(){var o=ht.document;return o?o.documentMode:void 0}e:{var Oe="",ot=(o=Vt,ge?/rv:([^\);]+)(\)|;)/.exec(o):zt?/Edge\/([\d\.]+)/.exec(o):vr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):ie?/WebKit\/(\S+)/.exec(o):qn?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(ot&&(Oe=ot?ot[1]:""),vr){var xt=Me();if(null!=xt&&xt>parseFloat(Oe)){Ze=String(xt);break e}}Ze=Oe}var Xt={};function un(){return n=Xt,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){for(var o=0,n=Hn(String(Ze)).split("."),r=Hn("9").split("."),l=Math.max(n.length,r.length),c=0;0==o&&c<l;c++){var f=n[c]||"",_=r[c]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==f[0].length&&0==_[0].length)break;o=at(0==f[1].length?0:parseInt(f[1],10),0==_[1].length?0:parseInt(_[1],10))||at(0==f[2].length,0==_[2].length)||at(f[2],_[2]),f=f[3],_=_[3]}while(0==o)}return 0<=o}();var n}var tn=ht.document&&vr&&(Me()||parseInt(Ze,10))||void 0,On=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var o=!1,n=Object.defineProperty({},"passive",{get:function(){o=!0}});try{ht.addEventListener("test",Gt,n),ht.removeEventListener("test",Gt,n)}catch(r){}return o}();function Qn(o,n){this.type=o,this.g=this.target=n,this.defaultPrevented=!1}function on(o,n){if(Qn.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var r=this.type=o.type,l=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=n,n=o.relatedTarget){if(ge){e:{try{Bi(n.nodeName);var c=!0;break e}catch(f){}c=!1}c||(n=null)}}else"mouseover"==r?n=o.fromElement:"mouseout"==r&&(n=o.toElement);this.relatedTarget=n,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:bs[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&on.Z.h.call(this)}}Qn.prototype.h=function(){this.defaultPrevented=!0},jt(on,Qn);var bs={2:"touch",3:"pen",4:"mouse"};on.prototype.h=function(){on.Z.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var di="closure_listenable_"+(1e6*Math.random()|0),Ji=0;function hs(o,n,r,l,c){this.listener=o,this.proxy=null,this.src=n,this.type=r,this.capture=!!l,this.ia=c,this.key=++Ji,this.ca=this.fa=!1}function Zr(o){o.ca=!0,o.listener=null,o.proxy=null,o.src=null,o.ia=null}function ur(o){this.src=o,this.g={},this.h=0}function ir(o,n){var r=n.type;if(r in o.g){var f,l=o.g[r],c=jn(l,n);(f=0<=c)&&Array.prototype.splice.call(l,c,1),f&&(Zr(n),0==o.g[r].length&&(delete o.g[r],o.h--))}}function Ar(o,n,r,l){for(var c=0;c<o.length;++c){var f=o[c];if(!f.ca&&f.listener==n&&f.capture==!!r&&f.ia==l)return c}return-1}ur.prototype.add=function(o,n,r,l,c){var f=o.toString();(o=this.g[f])||(o=this.g[f]=[],this.h++);var _=Ar(o,n,l,c);return-1<_?(n=o[_],r||(n.fa=!1)):((n=new hs(n,this.src,f,!!l,c)).fa=r,o.push(n)),n};var Lr="closure_lm_"+(1e6*Math.random()|0),Dt={};function Sr(o,n,r,l,c){if(l&&l.once)return Cs(o,n,r,l,c);if(Array.isArray(n)){for(var f=0;f<n.length;f++)Sr(o,n[f],r,l,c);return null}return r=Vn(r),o&&o[di]?o.N(n,r,kn(l)?!!l.capture:!!l,c):wi(o,n,r,!1,l,c)}function wi(o,n,r,l,c,f){if(!n)throw Error("Invalid event type");var _=kn(c)?!!c.capture:!!c,I=gr(o);if(I||(o[Lr]=I=new ur(o)),(r=I.add(n,r,l,_,f)).proxy)return r;if(l=function(){var n=Bn;return function o(r){return n.call(o.src,o.listener,r)}}(),r.proxy=l,l.src=o,l.listener=r,o.addEventListener)On||(c=_),void 0===c&&(c=!1),o.addEventListener(n.toString(),l,c);else if(o.attachEvent)o.attachEvent(Qt(n.toString()),l);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(l)}return r}function Cs(o,n,r,l,c){if(Array.isArray(n)){for(var f=0;f<n.length;f++)Cs(o,n[f],r,l,c);return null}return r=Vn(r),o&&o[di]?o.O(n,r,kn(l)?!!l.capture:!!l,c):wi(o,n,r,!0,l,c)}function En(o,n,r,l,c){if(Array.isArray(n))for(var f=0;f<n.length;f++)En(o,n[f],r,l,c);else l=kn(l)?!!l.capture:!!l,r=Vn(r),o&&o[di]?(o=o.i,(n=String(n).toString())in o.g&&-1<(r=Ar(f=o.g[n],r,l,c))&&(Zr(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete o.g[n],o.h--))):o&&(o=gr(o))&&(n=o.g[n.toString()],o=-1,n&&(o=Ar(n,r,l,c)),(r=-1<o?n[o]:null)&&wt(r))}function wt(o){if("number"!=typeof o&&o&&!o.ca){var n=o.src;if(n&&n[di])ir(n.i,o);else{var r=o.type,l=o.proxy;n.removeEventListener?n.removeEventListener(r,l,o.capture):n.detachEvent?n.detachEvent(Qt(r),l):n.addListener&&n.removeListener&&n.removeListener(l),(r=gr(n))?(ir(r,o),0==r.h&&(r.src=null,n[Lr]=null)):Zr(o)}}}function Qt(o){return o in Dt?Dt[o]:Dt[o]="on"+o}function Bn(o,n){if(o.ca)o=!0;else{n=new on(n,this);var r=o.listener,l=o.ia||o.src;o.fa&&wt(o),o=r.call(l,n)}return o}function gr(o){return(o=o[Lr])instanceof ur?o:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(o){return"function"==typeof o?o:(o[hi]||(o[hi]=function(n){return o.handleEvent(n)}),o[hi])}function ve(){hn.call(this),this.i=new ur(this),this.P=this,this.I=null}function le(o,n){var r,l=o.I;if(l)for(r=[];l;l=l.I)r.push(l);if(o=o.P,l=n.type||n,"string"==typeof n)n=new Qn(n,o);else if(n instanceof Qn)n.target=n.target||o;else{var c=n;Yn(n=new Qn(l,o),c)}if(c=!0,r)for(var f=r.length-1;0<=f;f--){var _=n.g=r[f];c=re(_,l,!0,n)&&c}if(c=re(_=n.g=o,l,!0,n)&&c,c=re(_,l,!1,n)&&c,r)for(f=0;f<r.length;f++)c=re(_=n.g=r[f],l,!1,n)&&c}function re(o,n,r,l){if(!(n=o.i.g[String(n)]))return!0;n=n.concat();for(var c=!0,f=0;f<n.length;++f){var _=n[f];if(_&&!_.ca&&_.capture==r){var I=_.listener,R=_.ia||_.src;_.fa&&ir(o.i,_),c=!1!==I.call(R,l)&&c}}return c&&!l.defaultPrevented}jt(ve,hn),ve.prototype[di]=!0,ve.prototype.removeEventListener=function(o,n,r,l){En(this,o,n,r,l)},ve.prototype.M=function(){if(ve.Z.M.call(this),this.i){var n,o=this.i;for(n in o.g){for(var r=o.g[n],l=0;l<r.length;l++)Zr(r[l]);delete o.g[n],o.h--}}this.I=null},ve.prototype.N=function(o,n,r,l){return this.i.add(String(o),n,!1,r,l)},ve.prototype.O=function(o,n,r,l){return this.i.add(String(o),n,!0,r,l)};var Re=ht.JSON.stringify;function Ge(){var o=Gn,n=null;return o.g&&(n=o.g,o.g=o.g.next,o.g||(o.h=null),n.next=null),n}var Ni,Ht=function(){function o(){this.h=this.g=null}return o.prototype.add=function(n,r){var l=Jt.get();l.set(n,r),this.h?this.h.next=l:this.g=l,this.h=l},o}(),Jt=new(function(){function o(n,r){this.i=n,this.j=r,this.h=0,this.g=null}return o.prototype.get=function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n},o}())(function(){return new Jn},function(o){return o.reset()}),Jn=function(){function o(){this.next=this.g=this.h=null}return o.prototype.set=function(n,r){this.h=n,this.g=r,this.next=null},o.prototype.reset=function(){this.next=this.g=this.h=null},o}();function Xn(o){ht.setTimeout(function(){throw o},0)}function cr(o,n){Ni||function(){var o=ht.Promise.resolve(void 0);Ni=function(){o.then(fs)}}(),mr||(Ni(),mr=!0),Gn.add(o,n)}var mr=!1,Gn=new Ht;function fs(){for(var o;o=Ge();){try{o.h.call(o.g)}catch(r){Xn(r)}var n=Jt;n.j(o),100>n.h&&(n.h++,o.next=n.g,n.g=o)}mr=!1}function Zt(o,n){ve.call(this),this.h=o||1,this.g=n||ht,this.j=_t(this.kb,this),this.l=Date.now()}function Hi(o){o.da=!1,o.S&&(o.g.clearTimeout(o.S),o.S=null)}function Wr(o,n,r){if("function"==typeof o)r&&(o=_t(o,r));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=_t(o.handleEvent,o)}return 2147483647<Number(n)?-1:ht.setTimeout(o,n||0)}function Ei(o){o.g=Wr(function(){o.g=null,o.i&&(o.i=!1,Ei(o))},o.j);var n=o.h;o.h=null,o.m.apply(null,n)}jt(Zt,ve),(Xe=Zt.prototype).da=!1,Xe.S=null,Xe.kb=function(){if(this.da){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-o):(this.S&&(this.g.clearTimeout(this.S),this.S=null),le(this,"tick"),this.da&&(Hi(this),this.start()))}},Xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.M=function(){Zt.Z.M.call(this),Hi(this),delete this.g};var Xi=function(o){function n(r,l){var c=o.call(this)||this;return c.m=r,c.j=l,c.h=null,c.i=!1,c.g=null,c}return function(o,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=o}Ne(o,n),o.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,o),n.prototype.l=function(r){this.h=arguments,this.g?this.i=!0:Ei(this)},n.prototype.M=function(){o.prototype.M.call(this),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(hn);function Vr(o){hn.call(this),this.h=o,this.g={}}jt(Vr,hn);var Dr=[];function fi(o,n,r,l){Array.isArray(r)||(r&&(Dr[0]=r.toString()),r=Dr);for(var c=0;c<r.length;c++){var f=Sr(n,r[c],l||o.handleEvent,!1,o.h||o);if(!f)break;o.g[f.key]=f}}function Ur(o){wn(o.g,function(n,r){this.g.hasOwnProperty(r)&&wt(n)},o),o.g={}}function Cn(){this.g=!0}function wr(o,n,r,l){o.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(o,n){if(!o.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(o=0;o<r.length;o++)if(Array.isArray(r[o])){var l=r[o];if(!(2>l.length)){var c=l[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<c.length;_++)c[_]=""}}}return Re(r)}catch(I){return n}}(o,r)+(l?" "+l:"")})}Vr.prototype.M=function(){Vr.Z.M.call(this),Ur(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cn.prototype.Aa=function(){this.g=!1},Cn.prototype.info=function(){};var Ri={},qs=null;function ts(){return qs=qs||new ve}function Ts(o){Qn.call(this,Ri.Ma,o)}function Ds(o){var n=ts();le(n,new Ts(n,o))}function Fo(o,n){Qn.call(this,Ri.STAT_EVENT,o),this.stat=n}function kr(o){var n=ts();le(n,new Fo(n,o))}function pi(o,n){Qn.call(this,Ri.Na,o),this.size=n}function $i(o,n){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){o()},n)}Ri.Ma="serverreachability",jt(Ts,Qn),Ri.STAT_EVENT="statevent",jt(Fo,Qn),Ri.Na="timingevent",jt(pi,Qn);var Gs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ns={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _o(){}function gi(){}_o.prototype.h=null;var Ss,qi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pi(){Qn.call(this,"d")}function As(){Qn.call(this,"c")}function ki(){}function io(o,n,r,l){this.l=o,this.j=n,this.m=r,this.X=l||1,this.V=new Vr(this),this.P=Ba,this.W=new Zt(o=Mn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}jt(Pi,Qn),jt(As,Qn),jt(ki,_o),ki.prototype.g=function(){return new XMLHttpRequest},ki.prototype.i=function(){return{}},Ss=new ki;var Ba=45e3,mi={},bi={};function rs(o,n,r){o.K=1,o.v=Wn(P(n)),o.s=r,o.U=!0,xs(o,null)}function xs(o,n){o.F=Date.now(),Br(o),o.A=P(o.v);var r=o.A,l=o.X;Array.isArray(l)||(l=[String(l)]),ua(r.h,"t",l),o.C=0,r=o.l.H,o.h=new Fi,o.g=Pc(o.l,r?n:null,!o.s),0<o.O&&(o.L=new Xi(_t(o.Ia,o,o.g),o.O)),fi(o.V,o.g,"readystatechange",o.gb),n=o.H?Mt(o.H):{},o.s?(o.u||(o.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.s,n)):(o.u="GET",o.g.ea(o.A,o.u,null,n)),Ds(1),function(o,n,r,l,c,f){o.info(function(){if(o.g)if(f)for(var _="",I=f.split("&"),R=0;R<I.length;R++){var H=I[R].split("=");if(1<H.length){var W=H[0];H=H[1];var te=W.split("_");_=2<=te.length&&"type"==te[1]?_+(W+"=")+H+"&":_+(W+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+l+") [attempt "+c+"]: "+n+"\n"+r+"\n"+_})}(o.j,o.u,o.A,o.m,o.X,o.s)}function Kr(o){return!!o.g&&"GET"==o.u&&2!=o.K&&o.l.Ba}function zs(o,n,r){for(var c,l=!0;!o.I&&o.C<r.length;){if((c=so(o,r))==bi){4==n&&(o.o=4,kr(14),l=!1),wr(o.j,o.m,null,"[Incomplete Response]");break}if(c==mi){o.o=4,kr(15),wr(o.j,o.m,r,"[Invalid Chunk]"),l=!1;break}wr(o.j,o.m,c,null),Zs(o,c)}Kr(o)&&c!=bi&&c!=mi&&(o.h.g="",o.C=0),4!=n||0!=r.length||o.h.h||(o.o=1,kr(16),l=!1),o.i=o.i&&l,l?0<r.length&&!o.aa&&(o.aa=!0,(n=o.l).g==o&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Wt(n),n.L=!0,kr(11))):(wr(o.j,o.m,r,"[Invalid Chunked Response]"),xr(o),is(o))}function so(o,n){var r=o.C,l=n.indexOf("\n",r);return-1==l?bi:(r=Number(n.substring(r,l)),isNaN(r)?mi:(l+=1)+r>n.length?bi:(n=n.substr(l,r),o.C=l+r,n))}function Br(o){o.Y=Date.now()+o.P,Os(o,o.P)}function Os(o,n){if(null!=o.B)throw Error("WatchDog timer not null");o.B=$i(_t(o.eb,o),n)}function jr(o){o.B&&(ht.clearTimeout(o.B),o.B=null)}function is(o){0==o.l.G||o.I||Tr(o.l,o)}function xr(o){jr(o);var n=o.L;n&&"function"==typeof n.na&&n.na(),o.L=null,Hi(o.W),Ur(o.V),o.g&&(n=o.g,o.g=null,n.abort(),n.na())}function Zs(o,n){try{var r=o.l;if(0!=r.G&&(r.g==o||gs(r.i,o)))if(r.I=o.N,!o.J&&gs(r.i,o)&&3==r.G){try{var l=r.Ca.g.parse(n)}catch(Tt){l=null}if(Array.isArray(l)&&3==l.length){var c=l;if(0==c[0])e:if(r.u)r.ta=c[1],0<r.ta-r.U&&37500>c[2]&&r.N&&0==r.A&&!r.v&&(r.v=$i(_t(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<o.F))break e;Ir(r),zi(r)}ct(r),kr(18)}if(1>=$a(r.i)&&r.ka){try{r.ka()}catch(Tt){}r.ka=void 0}}else Ci(r,11)}else if((o.J||r.g==o)&&Ir(r),!vn(n))for(c=r.Ca.g.parse(n),n=0;n<c.length;n++){var f=c[n];if(r.U=f[0],f=f[1],2==r.G)if("c"==f[0]){r.J=f[1],r.la=f[2];var _=f[3];null!=_&&(r.ma=_,r.h.info("VER="+r.ma));var I=f[4];null!=I&&(r.za=I,r.h.info("SVER="+r.za));var R=f[5];null!=R&&"number"==typeof R&&0<R&&(r.K=l=1.5*R,r.h.info("backChannelRequestTimeoutMs_="+l)),l=r;var H=o.g;if(H){var W=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var te=l.i;!te.g&&(Rt(W,"spdy")||Rt(W,"quic")||Rt(W,"h2"))&&(te.j=te.l,te.g=new Set,te.h&&(Li(te,te.h),te.h=null))}if(l.D){var Ie=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;Ie&&(l.sa=Ie,It(l.F,l.D,Ie))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-o.F,r.h.info("Handshake RTT: "+r.O+"ms"));var qe=o;if((l=r).oa=Ys(l,l.H?l.la:null,l.W),qe.J){qa(l.i,qe);var et=qe,pt=l.K;pt&&et.setTimeout(pt),et.B&&(jr(et),Br(et)),l.g=qe}else pe(l);0<r.l.length&&Vi(r)}else"stop"!=f[0]&&"close"!=f[0]||Ci(r,7);else 3==r.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Ci(r,7):dr(r):"noop"!=f[0]&&r.j&&r.j.wa(f),r.A=0)}Ds(4)}catch(Tt){}}function G(o,n){if(o.forEach&&"function"==typeof o.forEach)o.forEach(n,void 0);else if(gn(o)||"string"==typeof o)kt(o,n,void 0);else{if(o.T&&"function"==typeof o.T)var r=o.T();else if(o.R&&"function"==typeof o.R)r=void 0;else if(gn(o)||"string"==typeof o){r=[];for(var l=o.length,c=0;c<l;c++)r.push(c)}else for(c in r=[],l=0,o)r[l++]=c;c=(l=function(o){if(o.R&&"function"==typeof o.R)return o.R();if("string"==typeof o)return o.split("");if(gn(o)){for(var n=[],r=o.length,l=0;l<r;l++)n.push(o[l]);return n}for(l in n=[],r=0,o)n[r++]=o[l];return n}(o)).length;for(var f=0;f<c;f++)n.call(void 0,l[f],r&&r[f],o)}}function V(o,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var l=0;l<r;l+=2)this.set(arguments[l],arguments[l+1])}else if(o)if(o instanceof V)for(r=o.T(),l=0;l<r.length;l++)this.set(r[l],o.get(r[l]));else for(l in o)this.set(l,o[l])}function K(o){if(o.i!=o.g.length){for(var n=0,r=0;n<o.g.length;){var l=o.g[n];fe(o.h,l)&&(o.g[r++]=l),n++}o.g.length=r}if(o.i!=o.g.length){var c={};for(r=n=0;n<o.g.length;)fe(c,l=o.g[n])||(o.g[r++]=l,c[l]=1),n++;o.g.length=r}}function fe(o,n){return Object.prototype.hasOwnProperty.call(o,n)}(Xe=io.prototype).setTimeout=function(o){this.P=o},Xe.gb=function(o){o=o.target;var n=this.L;n&&3==Ws(o)?n.l():this.Ia(o)},Xe.Ia=function(o){try{if(o==this.g)e:{var n=Ws(this.g),r=this.g.Da(),l=this.g.ba();if(!(3>n)&&(3!=n||Mn||this.g&&(this.h.h||this.g.ga()||Za(this.g)))){this.I||4!=n||7==r||Ds(8==r||0>=l?3:2),jr(this);var c=this.g.ba();this.N=c;t:if(Kr(this)){var f=Za(this.g);o="";var _=f.length,I=4==Ws(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xr(this),is(this);var R="";break t}this.h.i=new ht.TextDecoder}for(r=0;r<_;r++)this.h.h=!0,o+=this.h.i.decode(f[r],{stream:I&&r==_-1});f.splice(0,_),this.h.g+=o,this.C=0,R=this.h.g}else R=this.g.ga();if(this.i=200==c,function(o,n,r,l,c,f,_){o.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+c+"]: "+n+"\n"+r+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.X,n,c),this.i){if(this.$&&!this.J){t:{if(this.g){var H,W=this.g;if((H=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vn(H)){var te=H;break t}}te=null}if(!(c=te)){this.i=!1,this.o=3,kr(12),xr(this),is(this);break e}wr(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zs(this,c)}this.U?(zs(this,n,R),Mn&&this.i&&3==n&&(fi(this.V,this.W,"tick",this.fb),this.W.start())):(wr(this.j,this.m,R,null),Zs(this,R)),4==n&&xr(this),this.i&&!this.I&&(4==n?Tr(this.l,this):(this.i=!1,Br(this)))}else 400==c&&0<R.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),xr(this),is(this)}}}catch(Ie){}},Xe.fb=function(){if(this.g){var o=Ws(this.g),n=this.g.ga();this.C<n.length&&(jr(this),zs(this,o,n),this.i&&4!=o&&Br(this))}},Xe.cancel=function(){this.I=!0,xr(this)},Xe.eb=function(){this.B=null;var o=Date.now();0<=o-this.Y?(function(o,n){o.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Ds(3),kr(17)),xr(this),this.o=2,is(this)):Os(this,this.Y-o)},(Xe=V.prototype).R=function(){K(this);for(var o=[],n=0;n<this.g.length;n++)o.push(this.h[this.g[n]]);return o},Xe.T=function(){return K(this),this.g.concat()},Xe.get=function(o,n){return fe(this.h,o)?this.h[o]:n},Xe.set=function(o,n){fe(this.h,o)||(this.i++,this.g.push(o)),this.h[o]=n},Xe.forEach=function(o,n){for(var r=this.T(),l=0;l<r.length;l++){var c=r[l],f=this.get(c);o.call(n,f,c,this)}};var $e=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function L(o,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,o instanceof L){this.g=void 0!==n?n:o.g,O(this,o.j),this.s=o.s,Z(this,o.i),Pe(this,o.m),this.l=o.l,n=o.h;var r=new ja;r.i=n.i,n.g&&(r.g=new V(n.g),r.h=n.h),bt(this,r),this.o=o.o}else o&&(r=String(o).match($e))?(this.g=!!n,O(this,r[1]||"",!0),this.s=Un(r[2]||""),Z(this,r[3]||"",!0),Pe(this,r[4]),this.l=Un(r[5]||"",!0),bt(this,r[6]||"",!0),this.o=Un(r[7]||"")):(this.g=!!n,this.h=new ja(null,this.g))}function P(o){return new L(o)}function O(o,n,r){o.j=r?Un(n,!0):n,o.j&&(o.j=o.j.replace(/:$/,""))}function Z(o,n,r){o.i=r?Un(n,!0):n}function Pe(o,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);o.m=n}else o.m=null}function bt(o,n,r){n instanceof ja?(o.h=n,function(o,n){n&&!o.j&&(Ns(o),o.i=null,o.g.forEach(function(r,l){var c=l.toLowerCase();l!=c&&(ul(this,l),ua(this,c,r))},o)),o.j=n}(o.h,o.g)):(r||(n=Hr(n,la)),o.h=new ja(n,o.g))}function It(o,n,r){o.h.set(n,r)}function Wn(o){return It(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Un(o,n){return o?n?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Hr(o,n,r){return"string"==typeof o?(o=encodeURI(o).replace(n,ps),r&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ps(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}L.prototype.toString=function(){var o=[],n=this.j;n&&o.push(Hr(n,$r,!0),":");var r=this.i;return(r||"file"==n)&&(o.push("//"),(n=this.s)&&o.push(Hr(n,$r,!0),"@"),o.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&o.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&o.push("/"),o.push(Hr(r,"/"==r.charAt(0)?vo:Gi,!0))),(r=this.h.toString())&&o.push("?",r),(r=this.o)&&o.push("#",Hr(r,nn)),o.join("")};var $r=/[#\/\?@]/g,Gi=/[#\?:]/g,vo=/[#\?]/g,la=/[#\?@]/g,nn=/#/g;function ja(o,n){this.h=this.g=null,this.i=o||null,this.j=!!n}function Ns(o){o.g||(o.g=new V,o.h=0,o.i&&function(o,n){if(o){o=o.split("&");for(var r=0;r<o.length;r++){var l=o[r].indexOf("="),c=null;if(0<=l){var f=o[r].substring(0,l);c=o[r].substring(l+1)}else f=o[r];n(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(o.i,function(n,r){o.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function ul(o,n){Ns(o),n=oo(o,n),fe(o.g.h,n)&&(o.i=null,o.h-=o.g.get(n).length,fe((o=o.g).h,n)&&(delete o.h[n],o.i--,o.g.length>2*o.i&&K(o)))}function Ha(o,n){return Ns(o),n=oo(o,n),fe(o.g.h,n)}function ua(o,n,r){ul(o,n),0<r.length&&(o.i=null,o.g.set(oo(o,n),xn(r)),o.h+=r.length)}function oo(o,n){return n=String(n),o.j&&(n=n.toLowerCase()),n}(Xe=ja.prototype).add=function(o,n){Ns(this),this.i=null,o=oo(this,o);var r=this.g.get(o);return r||this.g.set(o,r=[]),r.push(n),this.h+=1,this},Xe.forEach=function(o,n){Ns(this),this.g.forEach(function(r,l){kt(r,function(c){o.call(n,c,l,this)},this)},this)},Xe.T=function(){Ns(this);for(var o=this.g.R(),n=this.g.T(),r=[],l=0;l<n.length;l++)for(var c=o[l],f=0;f<c.length;f++)r.push(n[l]);return r},Xe.R=function(o){Ns(this);var n=[];if("string"==typeof o)Ha(this,o)&&(n=Sn(n,this.g.get(oo(this,o))));else{o=this.g.R();for(var r=0;r<o.length;r++)n=Sn(n,o[r])}return n},Xe.set=function(o,n){return Ns(this),this.i=null,Ha(this,o=oo(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[n]),this.h+=1,this},Xe.get=function(o,n){return o&&0<(o=this.R(o)).length?String(o[0]):n},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var o=[],n=this.g.T(),r=0;r<n.length;r++){var l=n[r],c=encodeURIComponent(String(l));l=this.R(l);for(var f=0;f<l.length;f++){var _=c;""!==l[f]&&(_+="="+encodeURIComponent(String(l[f]))),o.push(_)}}return this.i=o.join("&")};var dt=function(n,r){this.h=n,this.g=r};function Rn(o){this.l=o||zl,o=ht.PerformanceNavigationTiming?0<(o=ht.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(ht.g&&ht.g.Ea&&ht.g.Ea()&&ht.g.Ea().Zb),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zl=10;function or(o){return!!o.h||!!o.g&&o.g.size>=o.j}function $a(o){return o.h?1:o.g?o.g.size:0}function gs(o,n){return o.h?o.h==n:!!o.g&&o.g.has(n)}function Li(o,n){o.g?o.g.add(n):o.h=n}function qa(o,n){o.h&&o.h==n?o.h=null:o.g&&o.g.has(n)&&o.g.delete(n)}function ms(o){var n,r;if(null!=o.h)return o.i.concat(o.h.D);if(null!=o.g&&0!==o.g.size){var l=o.i;try{for(var c=Ae(o.g.values()),f=c.next();!f.done;f=c.next())l=l.concat(f.value.D)}catch(I){n={error:I}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l}return xn(o.i)}function Zl(){}function ca(){this.g=new Zl}function da(o,n,r){var l=r||"";try{G(o,function(c,f){var _=c;kn(c)&&(_=Re(c)),n.push(l+f+"="+encodeURIComponent(_))})}catch(c){throw n.push(l+"type="+encodeURIComponent("_badmap")),c}}function Qr(o,n,r,l,c){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,c(l)}catch(f){}}function Jr(o){this.l=o.$b||null,this.j=o.ib||!1}function Vo(o,n){ve.call(this),this.D=o,this.u=n,this.m=void 0,this.readyState=Ms,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rn.prototype.cancel=function(){var o,n;if(this.i=ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var r=Ae(this.g.values()),l=r.next();!l.done;l=r.next())l.value.cancel()}catch(f){o={error:f}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}this.g.clear()}},Zl.prototype.stringify=function(o){return ht.JSON.stringify(o,void 0)},Zl.prototype.parse=function(o){return ht.JSON.parse(o,void 0)},jt(Jr,_o),Jr.prototype.g=function(){return new Vo(this.l,this.j)},Jr.prototype.i=function(o){return function(){return o}}({}),jt(Vo,ve);var Ms=0;function Rs(o){o.j.read().then(o.Sa.bind(o)).catch(o.ha.bind(o))}function lo(o){o.readyState=4,o.l=null,o.j=null,o.A=null,Uo(o)}function Uo(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(Xe=Vo.prototype).open=function(o,n){if(this.readyState!=Ms)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=n,this.readyState=1,Uo(this)},Xe.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(n.body=o),(this.D||ht).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=Ms},Xe.Va=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ht.ReadableStream&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rs(this)}else o.text().then(this.Ua.bind(this),this.ha.bind(this))},Xe.Sa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var n=o.value?o.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!o.done}))&&(this.response=this.responseText+=n)}o.done?lo(this):Uo(this),3==this.readyState&&Rs(this)}},Xe.Ua=function(o){this.g&&(this.response=this.responseText=o,lo(this))},Xe.Ta=function(o){this.g&&(this.response=o,lo(this))},Xe.ha=function(){this.g&&lo(this)},Xe.setRequestHeader=function(o,n){this.v.append(o,n)},Xe.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";for(var o=[],n=this.h.entries(),r=n.next();!r.done;)o.push((r=r.value)[0]+": "+r[1]),r=n.next();return o.join("\r\n")},Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var $u=ht.JSON.parse;function Or(o){ve.call(this),this.headers=new V,this.u=o||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bo,this.K=this.L=!1}jt(Or,ve);var Bo="",cl=/^https?$/i,ys=["POST","PUT"];function Wl(o){return"content-type"==o.toLowerCase()}function Ga(o,n){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=n,o.m=5,jo(o),ha(o)}function jo(o){o.D||(o.D=!0,le(o,"complete"),le(o,"error"))}function za(o){if(o.h&&void 0!==qt&&(!o.C[1]||4!=Ws(o)||2!=o.ba()))if(o.v&&4==Ws(o))Wr(o.Fa,0,o);else if(le(o,"readystatechange"),4==Ws(o)){o.h=!1;try{var l,n=o.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(l=r)){var c;if(c=0===n){var f=String(o.H).match($e)[1]||null;if(!f&&ht.self&&ht.self.location){var _=ht.self.location.protocol;f=_.substr(0,_.length-1)}c=!cl.test(f?f.toLowerCase():"")}l=c}if(l)le(o,"complete"),le(o,"success");else{o.m=6;try{var I=2<Ws(o)?o.g.statusText:""}catch(R){I=""}o.j=I+" ["+o.ba()+"]",jo(o)}}finally{ha(o)}}}function ha(o,n){if(o.g){Kl(o);var r=o.g,l=o.C[0]?Gt:null;o.g=null,o.C=null,n||le(o,"ready");try{r.onreadystatechange=l}catch(c){}}}function Kl(o){o.g&&o.K&&(o.g.ontimeout=null),o.A&&(ht.clearTimeout(o.A),o.A=null)}function Ws(o){return o.g?o.g.readyState:0}function Za(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.J){case Bo:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch(n){return null}}function Wa(o,n,r){e:{for(l in r){var l=!1;break e}l=!0}l||(r=function(o){var n="";return wn(o,function(r,l){n+=l,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof o?null!=r&&encodeURIComponent(String(r)):It(o,n,r))}function Xr(o,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[o]||n}function uo(o){this.za=0,this.l=[],this.h=new Cn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xr("failFast",!1,o),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xr("baseRetryDelayMs",5e3,o),this.$a=Xr("retryDelaySeedMs",1e4,o),this.Ya=Xr("forwardChannelMaxRetries",2,o),this.ra=Xr("forwardChannelRequestTimeoutMs",2e4,o),this.qa=o&&o.xmlHttpFactory||void 0,this.Ba=o&&o.Yb||!1,this.K=void 0,this.H=o&&o.supportsCrossDomainXhr||!1,this.J="",this.i=new Rn(o&&o.concurrentRequestLimit),this.Ca=new ca,this.ja=o&&o.fastHandshake||!1,this.Ra=o&&o.Wb||!1,o&&o.Aa&&this.h.Aa(),o&&o.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&o&&o.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!o||!1!==o.Xb}function dr(o){if(Ho(o),3==o.G){var n=o.V++,r=P(o.F);It(r,"SID",o.J),It(r,"RID",n),It(r,"TYPE","terminate"),N(o,r),(n=new io(o,o.h,n,void 0)).K=2,n.v=Wn(P(r)),r=!1,ht.navigator&&ht.navigator.sendBeacon&&(r=ht.navigator.sendBeacon(n.v.toString(),"")),!r&&ht.Image&&((new Image).src=n.v,r=!0),r||(n.g=Pc(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Br(n)}co(o)}function zi(o){o.g&&(Wt(o),o.g.cancel(),o.g=null)}function Ho(o){zi(o),o.u&&(ht.clearTimeout(o.u),o.u=null),Ir(o),o.i.cancel(),o.m&&("number"==typeof o.m&&ht.clearTimeout(o.m),o.m=null)}function fa(o,n){o.l.push(new dt(o.Za++,n)),3==o.G&&Vi(o)}function Vi(o){or(o.i)||o.m||(o.m=!0,cr(o.Ha,o),o.C=0)}function M(o,n){var r;r=n?n.m:o.V++;var l=P(o.F);It(l,"SID",o.J),It(l,"RID",r),It(l,"AID",o.U),N(o,l),o.o&&o.s&&Wa(l,o.o,o.s),r=new io(o,o.h,r,o.C+1),null===o.o&&(r.H=o.s),n&&(o.l=n.D.concat(o.l)),n=$(o,r,1e3),r.setTimeout(Math.round(.5*o.ra)+Math.round(.5*o.ra*Math.random())),Li(o.i,r),rs(r,l,n)}function N(o,n){o.j&&G({},function(r,l){It(n,l,r)})}function $(o,n,r){r=Math.min(o.l.length,r);var l=o.j?_t(o.j.Oa,o.j,o):null;e:for(var c=o.l,f=-1;;){var _=["count="+r];-1==f?0<r?_.push("ofs="+(f=c[0].h)):f=0:_.push("ofs="+f);for(var I=!0,R=0;R<r;R++){var H=c[R].h,W=c[R].g;if(0>(H-=f))f=Math.max(0,c[R].h-100),I=!1;else try{da(W,_,"req"+H+"_")}catch(te){l&&l(W)}}if(I){l=_.join("&");break e}}return o=o.l.splice(0,r),n.D=o,l}function pe(o){o.g||o.u||(o.Y=1,cr(o.Ga,o),o.A=0)}function ct(o){return!(o.g||o.u||3<=o.A||(o.Y++,o.u=$i(_t(o.Ga,o),Ks(o,o.A)),o.A++,0))}function Wt(o){null!=o.B&&(ht.clearTimeout(o.B),o.B=null)}function Pn(o){o.g=new io(o,o.h,"rpc",o.Y),null===o.o&&(o.g.H=o.s),o.g.O=0;var n=P(o.oa);It(n,"RID","rpc"),It(n,"SID",o.J),It(n,"CI",o.N?"0":"1"),It(n,"AID",o.U),N(o,n),It(n,"TYPE","xmlhttp"),o.o&&o.s&&Wa(n,o.o,o.s),o.K&&o.g.setTimeout(o.K);var r=o.g;o=o.la,r.K=1,r.v=Wn(P(n)),r.s=null,r.U=!0,xs(r,o)}function Ir(o){null!=o.v&&(ht.clearTimeout(o.v),o.v=null)}function Tr(o,n){var r=null;if(o.g==n){Ir(o),Wt(o),o.g=null;var l=2}else{if(!gs(o.i,n))return;r=n.D,qa(o.i,n),l=1}if(o.I=n.N,0!=o.G)if(n.i)if(1==l){r=n.s?n.s.length:0,n=Date.now()-n.F;var c=o.C;le(l=ts(),new pi(l,r,n,c)),Vi(o)}else pe(o);else if(3==(c=n.o)||0==c&&0<o.I||!(1==l&&function(o,n){return!($a(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.l=n.D.concat(o.l),0):1==o.G||2==o.G||o.C>=(o.Xa?0:o.Ya)||(o.m=$i(_t(o.Ha,o,n),Ks(o,o.C)),o.C++,0)))}(o,n)||2==l&&ct(o)))switch(r&&0<r.length&&(n=o.i,n.i=n.i.concat(r)),c){case 1:Ci(o,5);break;case 4:Ci(o,10);break;case 3:Ci(o,6);break;default:Ci(o,2)}}function Ks(o,n){var r=o.Pa+Math.floor(Math.random()*o.$a);return o.j||(r*=2),r*n}function Ci(o,n){if(o.h.info("Error code "+n),2==n){var r=null;o.j&&(r=null);var l=_t(o.jb,o);r||(r=new L("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||O(r,"https"),Wn(r)),function(o,n){var r=new Cn;if(ht.Image){var l=new Image;l.onload=_n(Qr,r,l,"TestLoadImage: loaded",!0,n),l.onerror=_n(Qr,r,l,"TestLoadImage: error",!1,n),l.onabort=_n(Qr,r,l,"TestLoadImage: abort",!1,n),l.ontimeout=_n(Qr,r,l,"TestLoadImage: timeout",!1,n),ht.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=o}else n(!1)}(r.toString(),l)}else kr(2);o.G=0,o.j&&o.j.va(n),co(o),Ho(o)}function co(o){o.G=0,o.I=-1,o.j&&((0!=ms(o.i).length||0!=o.l.length)&&(o.i.i.length=0,xn(o.l),o.l.length=0),o.j.ua())}function Ys(o,n,r){var l=function(o){return o instanceof L?P(o):new L(o,void 0)}(r);if(""!=l.i)n&&Z(l,n+"."+l.i),Pe(l,l.m);else{var c=ht.location;l=function(o,n,r,l){var c=new L(null,void 0);return o&&O(c,o),n&&Z(c,n),r&&Pe(c,r),l&&(c.l=l),c}(c.protocol,n?n+"."+c.hostname:c.hostname,+c.port,r)}return o.aa&&wn(o.aa,function(f,_){It(l,_,f)}),r=o.sa,(n=o.D)&&r&&It(l,n,r),It(l,"VER",o.ma),N(o,l),l}function Pc(o,n,r){if(n&&!o.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Or(r&&o.Ba&&!o.qa?new Jr({ib:!0}):o.qa)).L=o.H,n}function Yl(){}function pa(){if(vr&&!(10<=Number(tn)))throw Error("Environmental error: no available transport.")}function _s(o,n){ve.call(this),this.g=new uo(n),this.l=o,this.h=n&&n.messageUrlParams||null,o=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(o?o["X-WebChannel-Content-Type"]=n.messageContentType:o={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(o?o["X-WebChannel-Client-Profile"]=n.ya:o={"X-WebChannel-Client-Profile":n.ya}),this.g.P=o,(o=n&&n.httpHeadersOverwriteParam)&&!vn(o)&&(this.g.o=o),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!vn(n)&&(this.g.D=n,null!==(o=this.h)&&n in o&&n in(o=this.h)&&delete o[n]),this.j=new Qs(this)}function Nr(o){Pi.call(this);var n=o.__sm__;if(n){e:{for(var r in n){o=r;break e}o=void 0}(this.i=o)&&(o=this.i,n=null!==n&&o in n?n[o]:void 0),this.data=n}else this.data=o}function Ql(){As.call(this),this.status=1}function Qs(o){this.g=o}(Xe=Or.prototype).ea=function(o,n,r,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+o);n=n?n.toUpperCase():"GET",this.H=o,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ss.g(),this.C=function(o){return o.h||(o.h=o.i())}(this.u?this.u:Ss),this.g.onreadystatechange=_t(this.Fa,this);try{this.F=!0,this.g.open(n,String(o),!0),this.F=!1}catch(f){return void Ga(this,f)}o=r||"";var c=new V(this.headers);l&&G(l,function(f,_){c.set(_,f)}),l=function(o){e:{for(var n=Wl,r=o.length,l="string"==typeof o?o.split(""):o,c=0;c<r;c++)if(c in l&&n.call(void 0,l[c],c,o)){n=c;break e}n=-1}return 0>n?null:"string"==typeof o?o.charAt(n):o[n]}(c.T()),r=ht.FormData&&o instanceof ht.FormData,!(0<=jn(ys,n))||l||r||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,_){this.g.setRequestHeader(_,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kl(this),0<this.B&&((this.K=function(o){return vr&&un()&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.pa,this)):this.A=Wr(this.pa,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(f){Ga(this,f)}},Xe.pa=function(){void 0!==qt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,le(this,"timeout"),this.abort(8))},Xe.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,le(this,"complete"),le(this,"abort"),ha(this))},Xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ha(this,!0)),Or.Z.M.call(this)},Xe.Fa=function(){this.s||(this.F||this.v||this.l?za(this):this.cb())},Xe.cb=function(){za(this)},Xe.ba=function(){try{return 2<Ws(this)?this.g.status:-1}catch(o){return-1}},Xe.ga=function(){try{return this.g?this.g.responseText:""}catch(o){return""}},Xe.Qa=function(o){if(this.g){var n=this.g.responseText;return o&&0==n.indexOf(o)&&(n=n.substring(o.length)),$u(n)}},Xe.Da=function(){return this.m},Xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=uo.prototype).ma=8,Xe.G=1,Xe.hb=function(o){try{this.h.info("Origin Trials invoked: "+o)}catch(n){}},Xe.Ha=function(o){if(this.m)if(this.m=null,1==this.G){if(!o){this.V=Math.floor(1e5*Math.random()),o=this.V++;var n=new io(this,this.h,o,void 0),r=this.s;if(this.P&&(r?Yn(r=Mt(r),this.P):r=this.P),null===this.o&&(n.H=r),this.ja)e:{for(var l=0,c=0;c<this.l.length;c++){var f=this.l[c];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(l+=f)){l=c;break e}if(4096===l||c===this.l.length-1){l=c+1;break e}}l=1e3}else l=1e3;l=$(this,n,l),It(c=P(this.F),"RID",o),It(c,"CVER",22),this.D&&It(c,"X-HTTP-Session-Id",this.D),N(this,c),this.o&&r&&Wa(c,this.o,r),Li(this.i,n),this.Ra&&It(c,"TYPE","init"),this.ja?(It(c,"$req",l),It(c,"SID","null"),n.$=!0,rs(n,c,null)):rs(n,c,l),this.G=2}}else 3==this.G&&(o?M(this,o):0==this.l.length||or(this.i)||M(this))},Xe.Ga=function(){if(this.u=null,Pn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var o=2*this.O;this.h.info("BP detection timer enabled: "+o),this.B=$i(_t(this.bb,this),o)}},Xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kr(10),zi(this),Pn(this))},Xe.ab=function(){null!=this.v&&(this.v=null,zi(this),ct(this),kr(19))},Xe.jb=function(o){o?(this.h.info("Successfully pinged google.com"),kr(2)):(this.h.info("Failed to ping google.com"),kr(1))},(Xe=Yl.prototype).xa=function(){},Xe.wa=function(){},Xe.va=function(){},Xe.ua=function(){},Xe.Oa=function(){},pa.prototype.g=function(o,n){return new _s(o,n)},jt(_s,ve),_s.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var o=this.g,n=this.l,r=this.h||void 0;o.Wa&&(o.h.info("Origin Trials enabled."),cr(_t(o.hb,o,n))),kr(0),o.W=n,o.aa=r||{},o.N=o.X,o.F=Ys(o,null,o.W),Vi(o)},_s.prototype.close=function(){dr(this.g)},_s.prototype.u=function(o){if("string"==typeof o){var n={};n.__data__=o,fa(this.g,n)}else this.v?((n={}).__data__=Re(o),fa(this.g,n)):fa(this.g,o)},_s.prototype.M=function(){this.g.j=null,delete this.j,dr(this.g),delete this.g,_s.Z.M.call(this)},jt(Nr,Pi),jt(Ql,As),jt(Qs,Yl),Qs.prototype.xa=function(){le(this.g,"a")},Qs.prototype.wa=function(o){le(this.g,new Nr(o))},Qs.prototype.va=function(o){le(this.g,new Ql(o))},Qs.prototype.ua=function(){le(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,_s.prototype.send=_s.prototype.u,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,ns.COMPLETE="complete",gi.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",ve.prototype.listen=ve.prototype.N,Or.prototype.listenOnce=Or.prototype.O,Or.prototype.getLastError=Or.prototype.La,Or.prototype.getLastErrorCode=Or.prototype.Da,Or.prototype.getStatus=Or.prototype.ba,Or.prototype.getResponseJson=Or.prototype.Qa,Or.prototype.getResponseText=Or.prototype.ga,Or.prototype.send=Or.prototype.ea;var Js=Gs,$o=ns,qu=Ri,qo_PROXY=10,qo_NOPROXY=11,ma=Jr,Eo=gi,hl=Or;class ei{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let ya="9.0.2";const ss=new Ue.Yd("@firebase/firestore");function fl(){return ss.logLevel}function Et(o,...n){if(ss.logLevel<=Ue.in.DEBUG){const r=n.map(Gu);ss.debug(`Firestore (${ya}): ${o}`,...r)}}function Mr(o,...n){if(ss.logLevel<=Ue.in.ERROR){const r=n.map(Gu);ss.error(`Firestore (${ya}): ${o}`,...r)}}function Ka(o,...n){if(ss.logLevel<=Ue.in.WARN){const r=n.map(Gu);ss.warn(`Firestore (${ya}): ${o}`,...r)}}function Gu(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch(r){return o}}function Ft(o="Unexpected state"){const n=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+o;throw Mr(n),new Error(n)}function S(o,n){o||Ft()}function b(o,n){return o}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class z{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class se{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class _e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(ei.UNAUTHENTICATED))}shutdown(){}}class st{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class St{constructor(n){this.t=n,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var l=this;let c=this.i;const f=H=>this.i!==c?(c=this.i,r(H)):Promise.resolve();let _=new z;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new z,n.enqueueRetryable(()=>f(this.currentUser))};const I=()=>{const H=_;n.enqueueRetryable((0,Le.Z)(function*(){yield H.promise,yield f(l.currentUser)}))},R=H=>{Et("FirebaseCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(H=>R(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?R(H):(Et("FirebaseCredentialsProvider","Auth not yet detected"),_.resolve(),_=new z)}},0),I()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(l=>this.i!==n?(Et("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(S("string"==typeof l.accessToken),new se(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return S(null===n||"string"==typeof n),new ei(n)}}class zn{constructor(n,r,l){this.h=n,this.l=r,this.m=l,this.type="FirstParty",this.user=ei.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class Kt{constructor(n,r,l){this.h=n,this.l=r,this.m=l}getToken(){return Promise.resolve(new zn(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class In{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=l=>this.g(l),this.p=l=>r.writeSequenceNumber(l))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function bn(o){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(o);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let l=0;l<o;l++)r[l]=Math.floor(256*Math.random());return r}In.T=-1;class os{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let l="";for(;l.length<20;){const c=bn(40);for(let f=0;f<c.length;++f)l.length<20&&c[f]<r&&(l+=n.charAt(c[f]%n.length))}return l}}function an(o,n){return o<n?-1:o>n?1:0}function ui(o,n,r){return o.length===n.length&&o.every((l,c)=>r(l,n[c]))}function Go(o){return o+"\0"}class er{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new F(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new F(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new F(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new F(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return er.fromMillis(Date.now())}static fromDate(n){return er.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),l=Math.floor(1e6*(n-1e3*r));return new er(r,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?an(this.nanoseconds,n.nanoseconds):an(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new rn(n)}static min(){return new rn(new er(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function zu(o){let n=0;for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&n++;return n}function pl(o,n){for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&n(r,o[r])}function Ng(o){for(const n in o)if(Object.prototype.hasOwnProperty.call(o,n))return!1;return!0}class gl{constructor(n,r,l){void 0===r?r=0:r>n.length&&Ft(),void 0===l?l=n.length-r:l>n.length-r&&Ft(),this.segments=n,this.offset=r,this.len=l}get length(){return this.len}isEqual(n){return 0===gl.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof gl?n.forEach(l=>{r.push(l)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,l=this.limit();r<l;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const l=Math.min(n.length,r.length);for(let c=0;c<l;c++){const f=n.get(c),_=r.get(c);if(f<_)return-1;if(f>_)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class sn extends gl{construct(n,r,l){return new sn(n,r,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const l of n){if(l.indexOf("//")>=0)throw new F(x.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);r.push(...l.split("/").filter(c=>c.length>0))}return new sn(r)}static emptyPath(){return new sn([])}}const Wd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends gl{construct(n,r,l){return new Ui(n,r,l)}static isValidIdentifier(n){return Wd.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(n){const r=[];let l="",c=0;const f=()=>{if(0===l.length)throw new F(x.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(l),l=""};let _=!1;for(;c<n.length;){const I=n[c];if("\\"===I){if(c+1===n.length)throw new F(x.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const R=n[c+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new F(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=R,c+=2}else"`"===I?(_=!_,c++):"."!==I||_?(l+=I,c++):(f(),c++)}if(f(),_)throw new F(x.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ui(r)}static emptyPath(){return new Ui([])}}class ml{constructor(n){this.fields=n,n.sort(Ui.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return ui(this.fields,n.fields,(r,l)=>r.isEqual(l))}}class Ii{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Ii(r)}static fromUint8Array(n){const r=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(n);return new Ii(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return an(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const Kd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(o){if(S(!!o),"string"==typeof o){let n=0;const r=Kd.exec(o);if(S(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),n=Number(c)}const l=new Date(o);return{seconds:Math.floor(l.getTime()/1e3),nanos:n}}return{seconds:Ti(o.seconds),nanos:Ti(o.nanos)}}function Ti(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function yl(o){return"string"==typeof o?Ii.fromBase64String(o):Ii.fromUint8Array(o)}function eu(o){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==o?void 0:o.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function _l(o){const n=o.mapValue.fields.__previous_value__;return eu(n)?_l(n):n}function bo(o){const n=va(o.mapValue.fields.__local_write_time__.timestampValue);return new er(n.seconds,n.nanos)}function tu(o){return null==o}function ti(o){return 0===o&&1/o==-1/0}function Zu(o){return"number"==typeof o&&Number.isInteger(o)&&!ti(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}class Lt{constructor(n){this.path=n}static fromPath(n){return new Lt(sn.fromString(n))}static fromName(n){return new Lt(sn.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===sn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return sn.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Lt(new sn(n.slice()))}}function vl(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?eu(o)?4:10:Ft()}function zo(o,n){const r=vl(o);if(r!==vl(n))return!1;switch(r){case 0:return!0;case 1:return o.booleanValue===n.booleanValue;case 4:return bo(o).isEqual(bo(n));case 3:return function(l,c){if("string"==typeof l.timestampValue&&"string"==typeof c.timestampValue&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=va(l.timestampValue),_=va(c.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos}(o,n);case 5:return o.stringValue===n.stringValue;case 6:return c=n,yl(o.bytesValue).isEqual(yl(c.bytesValue));case 7:return o.referenceValue===n.referenceValue;case 8:return function(l,c){return Ti(l.geoPointValue.latitude)===Ti(c.geoPointValue.latitude)&&Ti(l.geoPointValue.longitude)===Ti(c.geoPointValue.longitude)}(o,n);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Ti(l.integerValue)===Ti(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=Ti(l.doubleValue),_=Ti(c.doubleValue);return f===_?ti(f)===ti(_):isNaN(f)&&isNaN(_)}return!1}(o,n);case 9:return ui(o.arrayValue.values||[],n.arrayValue.values||[],zo);case 10:return function(l,c){const f=l.mapValue.fields||{},_=c.mapValue.fields||{};if(zu(f)!==zu(_))return!1;for(const I in f)if(f.hasOwnProperty(I)&&(void 0===_[I]||!zo(f[I],_[I])))return!1;return!0}(o,n);default:return Ft()}var c}function as(o,n){return void 0!==(o.values||[]).find(r=>zo(r,n))}function Zi(o,n){const r=vl(o),l=vl(n);if(r!==l)return an(r,l);switch(r){case 0:return 0;case 1:return an(o.booleanValue,n.booleanValue);case 2:return function(c,f){const _=Ti(c.integerValue||c.doubleValue),I=Ti(f.integerValue||f.doubleValue);return _<I?-1:_>I?1:_===I?0:isNaN(_)?isNaN(I)?0:-1:1}(o,n);case 3:return Wu(o.timestampValue,n.timestampValue);case 4:return Wu(bo(o),bo(n));case 5:return an(o.stringValue,n.stringValue);case 6:return function(c,f){const _=yl(c),I=yl(f);return _.compareTo(I)}(o.bytesValue,n.bytesValue);case 7:return function(c,f){const _=c.split("/"),I=f.split("/");for(let R=0;R<_.length&&R<I.length;R++){const H=an(_[R],I[R]);if(0!==H)return H}return an(_.length,I.length)}(o.referenceValue,n.referenceValue);case 8:return function(c,f){const _=an(Ti(c.latitude),Ti(f.latitude));return 0!==_?_:an(Ti(c.longitude),Ti(f.longitude))}(o.geoPointValue,n.geoPointValue);case 9:return function(c,f){const _=c.values||[],I=f.values||[];for(let R=0;R<_.length&&R<I.length;++R){const H=Zi(_[R],I[R]);if(H)return H}return an(_.length,I.length)}(o.arrayValue,n.arrayValue);case 10:return function(c,f){const _=c.fields||{},I=Object.keys(_),R=f.fields||{},H=Object.keys(R);I.sort(),H.sort();for(let W=0;W<I.length&&W<H.length;++W){const te=an(I[W],H[W]);if(0!==te)return te;const Ie=Zi(_[I[W]],R[H[W]]);if(0!==Ie)return Ie}return an(I.length,H.length)}(o.mapValue,n.mapValue);default:throw Ft()}}function Wu(o,n){if("string"==typeof o&&"string"==typeof n&&o.length===n.length)return an(o,n);const r=va(o),l=va(n),c=an(r.seconds,l.seconds);return 0!==c?c:an(r.nanos,l.nanos)}function Co(o){return Zo(o)}function Zo(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(l){const c=va(l);return`time(${c.seconds},${c.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?yl(o.bytesValue).toBase64():"referenceValue"in o?Lt.fromName(o.referenceValue).toString():"geoPointValue"in o?`geo(${(n=o.geoPointValue).latitude},${n.longitude})`:"arrayValue"in o?function(l){let c="[",f=!0;for(const _ of l.values||[])f?f=!1:c+=",",c+=Zo(_);return c+"]"}(o.arrayValue):"mapValue"in o?function(l){const c=Object.keys(l.fields||{}).sort();let f="{",_=!0;for(const I of c)_?_=!1:f+=",",f+=`${I}:${Zo(l.fields[I])}`;return f+"}"}(o.mapValue):Ft();var n}function wl(o,n){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`}}function Ku(o){return!!o&&"integerValue"in o}function Yd(o){return!!o&&"arrayValue"in o}function Qd(o){return!!o&&"nullValue"in o}function Mg(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Yu(o){return!!o&&"mapValue"in o}function Di(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const n={mapValue:{fields:{}}};return pl(o.mapValue.fields,(r,l)=>n.mapValue.fields[r]=Di(l)),n}if(o.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(o.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Di(o.arrayValue.values[r]);return n}return Object.assign({},o)}class yi{constructor(n){this.value=n}static empty(){return new yi({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let l=0;l<n.length-1;++l)if(r=(r.mapValue.fields||{})[n.get(l)],!Yu(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Di(r)}setAll(n){let r=Ui.emptyPath(),l={},c=[];n.forEach((_,I)=>{if(!r.isImmediateParentOf(I)){const R=this.getFieldsMap(r);this.applyChanges(R,l,c),l={},c=[],r=I.popLast()}_?l[I.lastSegment()]=Di(_):c.push(I.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,l,c)}delete(n){const r=this.field(n.popLast());Yu(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return zo(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let l=0;l<n.length;++l){let c=r.mapValue.fields[n.get(l)];Yu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[n.get(l)]=c),r=c}return r.mapValue.fields}applyChanges(n,r,l){pl(r,(c,f)=>n[c]=f);for(const c of l)delete n[c]}clone(){return new yi(Di(this.value))}}function wa(o){const n=[];return pl(o.fields,(r,l)=>{const c=new Ui([r]);if(Yu(l)){const f=wa(l.mapValue).fields;if(0===f.length)n.push(c);else for(const _ of f)n.push(c.child(_))}else n.push(c)}),new ml(n)}class qr{constructor(n,r,l,c,f){this.key=n,this.documentType=r,this.version=l,this.data=c,this.documentState=f}static newInvalidDocument(n){return new qr(n,0,rn.min(),yi.empty(),0)}static newFoundDocument(n,r,l){return new qr(n,1,r,l,0)}static newNoDocument(n,r){return new qr(n,2,r,yi.empty(),0)}static newUnknownDocument(n,r){return new qr(n,3,r,yi.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof qr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new qr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kc{constructor(n,r=null,l=[],c=[],f=null,_=null,I=null){this.path=n,this.collectionGroup=r,this.orderBy=l,this.filters=c,this.limit=f,this.startAt=_,this.endAt=I,this.A=null}}function Jd(o,n=null,r=[],l=[],c=null,f=null,_=null){return new kc(o,n,r,l,c,f,_)}function Qu(o){const n=b(o);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(l=>function(o){return o.field.canonicalString()+o.op.toString()+Co(o.value)}(l)).join(","),r+="|ob:",r+=n.orderBy.map(l=>{return(c=l).field.canonicalString()+c.dir;var c}).join(","),tu(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=eh(n.startAt)),n.endAt&&(r+="|ub:",r+=eh(n.endAt)),n.A=r}return n.A}function nu(o,n){if(o.limit!==n.limit||o.orderBy.length!==n.orderBy.length)return!1;for(let c=0;c<o.orderBy.length;c++)if(!ru(o.orderBy[c],n.orderBy[c]))return!1;if(o.filters.length!==n.filters.length)return!1;for(let c=0;c<o.filters.length;c++)if((r=o.filters[c]).op!==(l=n.filters[c]).op||!r.field.isEqual(l.field)||!zo(r.value,l.value))return!1;var r,l;return o.collectionGroup===n.collectionGroup&&!!o.path.isEqual(n.path)&&!!Af(o.startAt,n.startAt)&&Af(o.endAt,n.endAt)}function Fc(o){return Lt.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}class Ai extends class{}{constructor(n,r,l){super(),this.field=n,this.op=r,this.value=l}static create(n,r,l){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,l):new Lc(n,r,l):"array-contains"===r?new Ya(n,l):"in"===r?new Uc(n,l):"not-in"===r?new Xd(n,l):"array-contains-any"===r?new Df(n,l):new Ai(n,r,l)}static R(n,r,l){return"in"===r?new B_(n,l):new El(n,l)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Zi(r,this.value)):null!==r&&vl(this.value)===vl(r)&&this.P(Zi(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Ft()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Lc extends Ai{constructor(n,r,l){super(n,r,l),this.key=Lt.fromName(l.referenceValue)}matches(n){const r=Lt.comparator(n.key,this.key);return this.P(r)}}class B_ extends Ai{constructor(n,r){super(n,"in",r),this.keys=Vc(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class El extends Ai{constructor(n,r){super(n,"not-in",r),this.keys=Vc(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function Vc(o,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(l=>Lt.fromName(l.referenceValue))}class Ya extends Ai{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return Yd(r)&&as(r.arrayValue,this.value)}}class Uc extends Ai{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&as(this.value.arrayValue,r)}}class Xd extends Ai{constructor(n,r){super(n,"not-in",r)}matches(n){if(as(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!as(this.value.arrayValue,r)}}class Df extends Ai{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!Yd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(l=>as(this.value.arrayValue,l))}}class Ea{constructor(n,r){this.position=n,this.before=r}}function eh(o){return`${o.before?"b":"a"}:${o.position.map(n=>Co(n)).join(",")}`}class ba{constructor(n,r="asc"){this.field=n,this.dir=r}}function ru(o,n){return o.dir===n.dir&&o.field.isEqual(n.field)}function Qa(o,n,r){let l=0;for(let c=0;c<o.position.length;c++){const f=n[c],_=o.position[c];if(l=f.field.isKeyField()?Lt.comparator(Lt.fromName(_.referenceValue),r.key):Zi(_,r.data.field(f.field)),"desc"===f.dir&&(l*=-1),0!==l)break}return o.before?l<=0:l<0}function Af(o,n){if(null===o)return null===n;if(null===n||o.before!==n.before||o.position.length!==n.position.length)return!1;for(let r=0;r<o.position.length;r++)if(!zo(o.position[r],n.position[r]))return!1;return!0}class yr{constructor(n,r=null,l=[],c=[],f=null,_="F",I=null,R=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=l,this.filters=c,this.limit=f,this.limitType=_,this.startAt=I,this.endAt=R,this.V=null,this.S=null}}function Xu(o,n,r,l,c,f,_,I){return new yr(o,n,r,l,c,f,_,I)}function ec(o){return new yr(o)}function Wo(o){return!tu(o.limit)&&"F"===o.limitType}function Ja(o){return!tu(o.limit)&&"L"===o.limitType}function tc(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function Bc(o){for(const n of o.filters)if(n.v())return n.field;return null}function jc(o){return null!==o.collectionGroup}function iu(o){const n=b(o);if(null===n.V){n.V=[];const r=Bc(n),l=tc(n);if(null!==r&&null===l)r.isKeyField()||n.V.push(new ba(r)),n.V.push(new ba(Ui.keyField(),"asc"));else{let c=!1;for(const f of n.explicitOrderBy)n.V.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new ba(Ui.keyField(),f))}}}return n.V}function Wi(o){const n=b(o);if(!n.S)if("F"===n.limitType)n.S=Jd(n.path,n.collectionGroup,iu(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const f of iu(n))r.push(new ba(f.field,"desc"===f.dir?"asc":"desc"));const l=n.endAt?new Ea(n.endAt.position,!n.endAt.before):null,c=n.startAt?new Ea(n.startAt.position,!n.startAt.before):null;n.S=Jd(n.path,n.collectionGroup,r,n.filters,n.limit,l,c)}return n.S}function Xs(o,n,r){return new yr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),n,r,o.startAt,o.endAt)}function Ca(o,n){return nu(Wi(o),Wi(n))&&o.limitType===n.limitType}function Ia(o){return`${Qu(Wi(o))}|lt:${o.limitType}`}function th(o){return`Query(target=${function(o){let n=o.path.canonicalString();return null!==o.collectionGroup&&(n+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(n+=`, filters: [${o.filters.map(r=>{return`${(l=r).field.canonicalString()} ${l.op} ${Co(l.value)}`;var l}).join(", ")}]`),tu(o.limit)||(n+=", limit: "+o.limit),o.orderBy.length>0&&(n+=`, orderBy: [${o.orderBy.map(r=>{return`${(l=r).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),o.startAt&&(n+=", startAt: "+eh(o.startAt)),o.endAt&&(n+=", endAt: "+eh(o.endAt)),`Target(${n})`}(Wi(o))}; limitType=${o.limitType})`}function su(o,n){return n.isFoundDocument()&&function(r,l){const c=l.key.path;return null!==r.collectionGroup?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Lt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(o,n)&&function(r,l){for(const c of r.explicitOrderBy)if(!c.field.isKeyField()&&null===l.data.field(c.field))return!1;return!0}(o,n)&&function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0}(o,n)&&(l=n,!((r=o).startAt&&!Qa(r.startAt,iu(r),l)||r.endAt&&Qa(r.endAt,iu(r),l)));var r,l}function Hc(o){return(n,r)=>{let l=!1;for(const c of iu(o)){const f=$c(c,n,r);if(0!==f)return f;l=l||c.field.isKeyField()}return 0}}function $c(o,n,r){const l=o.field.isKeyField()?Lt.comparator(n.key,r.key):function(c,f,_){const I=f.data.field(c),R=_.data.field(c);return null!==I&&null!==R?Zi(I,R):Ft()}(o.field,n,r);switch(o.dir){case"asc":return l;case"desc":return-1*l;default:return Ft()}}function nh(o,n){if(o.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ti(n)?"-0":n}}function Sf(o){return{integerValue:""+o}}function qc(o,n){return Zu(n)?Sf(n):nh(o,n)}class Ta{constructor(){this._=void 0}}function nc(o,n,r){return o instanceof bl?function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&(f.fields.__previous_value__=c),{mapValue:f}}(r,n):o instanceof Xa?Fg(o,n):o instanceof Cl?xf(o,n):function(l,c){const f=kg(l,c),_=Il(f)+Il(l.C);return Ku(f)&&Ku(l.C)?Sf(_):nh(l.N,_)}(o,n)}function Pg(o,n,r){return o instanceof Xa?Fg(o,n):o instanceof Cl?xf(o,n):r}function kg(o,n){return o instanceof ou?Ku(r=n)||(l=r)&&"doubleValue"in l?n:{integerValue:0}:null;var l,r}class bl extends Ta{}class Xa extends Ta{constructor(n){super(),this.elements=n}}function Fg(o,n){const r=Gc(n);for(const l of o.elements)r.some(c=>zo(c,l))||r.push(l);return{arrayValue:{values:r}}}class Cl extends Ta{constructor(n){super(),this.elements=n}}function xf(o,n){let r=Gc(n);for(const l of o.elements)r=r.filter(c=>!zo(c,l));return{arrayValue:{values:r}}}class ou extends Ta{constructor(n,r){super(),this.N=n,this.C=r}}function Il(o){return Ti(o.integerValue||o.doubleValue)}function Gc(o){return Yd(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class ho{constructor(n,r){this.field=n,this.transform=r}}class Of{constructor(n,r){this.version=n,this.transformResults=r}}class Si{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Si}static exists(n){return new Si(void 0,n)}static updateTime(n){return new Si(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Da(o,n){return void 0!==o.updateTime?n.isFoundDocument()&&n.version.isEqual(o.updateTime):void 0===o.exists||o.exists===n.isFoundDocument()}class au{}function Nf(o,n,r){o instanceof Zc?function(l,c,f){const _=l.value.clone(),I=kf(l.fieldTransforms,c,f.transformResults);_.setAll(I),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(o,n,r):o instanceof Ps?function(l,c,f){if(!Da(l.precondition,c))return void c.convertToUnknownDocument(f.version);const _=kf(l.fieldTransforms,c,f.transformResults),I=c.data;I.setAll(Pf(l)),I.setAll(_),c.convertToFoundDocument(f.version,I).setHasCommittedMutations()}(o,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function zc(o,n,r){var c;o instanceof Zc?function(l,c,f){if(!Da(l.precondition,c))return;const _=l.value.clone(),I=fo(l.fieldTransforms,f,c);_.setAll(I),c.convertToFoundDocument(Rf(c),_).setHasLocalMutations()}(o,n,r):o instanceof Ps?function(l,c,f){if(!Da(l.precondition,c))return;const _=fo(l.fieldTransforms,f,c),I=c.data;I.setAll(Pf(l)),I.setAll(_),c.convertToFoundDocument(Rf(c),I).setHasLocalMutations()}(o,n,r):Da(o.precondition,c=n)&&c.convertToNoDocument(rn.min())}function Mf(o,n){let r=null;for(const l of o.fieldTransforms){const c=n.data.field(l.field),f=kg(l.transform,c||null);null!=f&&(null==r&&(r=yi.empty()),r.set(l.field,f))}return r||null}function el(o,n){return o.type===n.type&&!!o.key.isEqual(n.key)&&!!o.precondition.isEqual(n.precondition)&&(l=n.fieldTransforms,!!(void 0===(r=o.fieldTransforms)&&void 0===l||r&&l&&ui(r,l,(c,f)=>function(o,n){return o.field.isEqual(n.field)&&(l=n.transform,(r=o.transform)instanceof Xa&&l instanceof Xa||r instanceof Cl&&l instanceof Cl?ui(r.elements,l.elements,zo):r instanceof ou&&l instanceof ou?zo(r.C,l.C):r instanceof bl&&l instanceof bl);var r,l}(c,f))))&&(0===o.type?o.value.isEqual(n.value):1!==o.type||o.data.isEqual(n.data)&&o.fieldMask.isEqual(n.fieldMask));var r,l}function Rf(o){return o.isFoundDocument()?o.version:rn.min()}class Zc extends au{constructor(n,r,l,c=[]){super(),this.key=n,this.value=r,this.precondition=l,this.fieldTransforms=c,this.type=0}}class Ps extends au{constructor(n,r,l,c,f=[]){super(),this.key=n,this.data=r,this.fieldMask=l,this.precondition=c,this.fieldTransforms=f,this.type=1}}function Pf(o){const n=new Map;return o.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const l=o.data.field(r);n.set(r,l)}}),n}function kf(o,n,r){const l=new Map;S(o.length===r.length);for(let c=0;c<r.length;c++){const f=o[c],_=f.transform,I=n.data.field(f.field);l.set(f.field,Pg(_,I,r[c]))}return l}function fo(o,n,r){const l=new Map;for(const c of o){const f=c.transform,_=r.data.field(c.field);l.set(c.field,nc(f,_,n))}return l}class Ko extends au{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class lu extends au{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class Vg{constructor(n){this.count=n}}var _i,Zn;function Ff(o){switch(o){case x.OK:return Ft();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return Ft()}}function Lf(o){if(void 0===o)return Mr("GRPC error has no .code"),x.UNKNOWN;switch(o){case _i.OK:return x.OK;case _i.CANCELLED:return x.CANCELLED;case _i.UNKNOWN:return x.UNKNOWN;case _i.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case _i.INTERNAL:return x.INTERNAL;case _i.UNAVAILABLE:return x.UNAVAILABLE;case _i.UNAUTHENTICATED:return x.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case _i.NOT_FOUND:return x.NOT_FOUND;case _i.ALREADY_EXISTS:return x.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return x.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case _i.ABORTED:return x.ABORTED;case _i.OUT_OF_RANGE:return x.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return x.UNIMPLEMENTED;case _i.DATA_LOSS:return x.DATA_LOSS;default:return Ft()}}(Zn=_i||(_i={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";class ni{constructor(n,r){this.comparator=n,this.root=r||Ki.EMPTY}insert(n,r){return new ni(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(n){return new ni(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const l=this.comparator(n,r.key);if(0===l)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}indexOf(n){let r=0,l=this.root;for(;!l.isEmpty();){const c=this.comparator(n,l.key);if(0===c)return r+l.left.size;c<0?l=l.left:(r+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,l)=>(n(r,l),!1))}toString(){const n=[];return this.inorderTraversal((r,l)=>(n.push(`${r}:${l}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Wc(this.root,n,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Wc(this.root,n,this.comparator,!0)}}class Wc{constructor(n,r,l,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=r?l(n.key,r):1,c&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ki{constructor(n,r,l,c,f){this.key=n,this.value=r,this.color=null!=l?l:Ki.RED,this.left=null!=c?c:Ki.EMPTY,this.right=null!=f?f:Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,l,c,f){return new Ki(null!=n?n:this.key,null!=r?r:this.value,null!=l?l:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,l){let c=this;const f=l(n,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(n,r,l),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(n,r,l)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let l,c=this;if(r(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(n,c.key)){if(c.right.isEmpty())return Ki.EMPTY;l=c.right.min(),c=c.copy(l.key,l.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const n=this.left.check();if(n!==this.right.check())throw Ft();return n+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(o,n,r,l,c){return this}insert(o,n,r){return new Ki(o,n)}remove(o,n){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(n){this.comparator=n,this.data=new ni(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,l)=>(n(r),!1))}forEachInRange(n,r){const l=this.data.getIteratorFrom(n[0]);for(;l.hasNext();){const c=l.getNext();if(this.comparator(c.key,n[1])>=0)return;r(c.key)}}forEachWhile(n,r){let l;for(l=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();l.hasNext();)if(!n(l.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new Vf(this.data.getIterator())}getIteratorFrom(n){return new Vf(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(l=>{r=r.add(l)}),r}isEqual(n){if(!(n instanceof ri)||this.size!==n.size)return!1;const r=this.data.getIterator(),l=n.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,f=l.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new ri(this.comparator);return r.data=n,r}}class Vf{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const j_=new ni(Lt.comparator);function eo(){return j_}const Tl=new ni(Lt.comparator);function Kc(){return Tl}const Yo=new ni(Lt.comparator);function tl(){return Yo}const Yc=new ri(Lt.comparator);function hr(...o){let n=Yc;for(const r of o)n=n.add(r);return n}const Uf=new ri(an);function uu(){return Uf}class Qc{constructor(n,r,l,c,f){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=l,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,r){const l=new Map;return l.set(n,Jc.createSynthesizedTargetChangeForCurrentChange(n,r)),new Qc(rn.min(),l,uu(),eo(),hr())}}class Jc{constructor(n,r,l,c,f){this.resumeToken=n,this.current=r,this.addedDocuments=l,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Jc(Ii.EMPTY_BYTE_STRING,r,hr(),hr(),hr())}}class cu{constructor(n,r,l,c){this.k=n,this.removedTargetIds=r,this.key=l,this.$=c}}class rc{constructor(n,r){this.targetId=n,this.O=r}}class Xc{constructor(n,r,l=Ii.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=r,this.resumeToken=l,this.cause=c}}class Ug{constructor(){this.F=0,this.M=ic(),this.L=Ii.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=hr(),r=hr(),l=hr();return this.M.forEach((c,f)=>{switch(f){case 0:n=n.add(c);break;case 2:r=r.add(c);break;case 1:l=l.add(c);break;default:Ft()}}),new Jc(this.L,this.B,n,r,l)}G(){this.U=!1,this.M=ic()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class H_{constructor(n){this.tt=n,this.et=new Map,this.nt=eo(),this.st=rh(),this.it=new ri(an)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const l=this.ut(r);switch(n.state){case 0:this.ht(r)&&l.j(n.resumeToken);break;case 1:l.X(),l.q||l.G(),l.j(n.resumeToken);break;case 2:l.X(),l.q||this.removeTarget(r);break;case 3:this.ht(r)&&(l.Z(),l.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),l.j(n.resumeToken));break;default:Ft()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((l,c)=>{this.ht(c)&&r(c)})}ft(n){const r=n.targetId,l=n.O.count,c=this.dt(r);if(c){const f=c.target;if(Fc(f))if(0===l){const _=new Lt(f.path);this.at(r,_,qr.newNoDocument(_,rn.min()))}else S(1===l);else this.wt(r)!==l&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((f,_)=>{const I=this.dt(_);if(I){if(f.current&&Fc(I.target)){const R=new Lt(I.target.path);null!==this.nt.get(R)||this.gt(_,R)||this.at(_,R,qr.newNoDocument(R,n))}f.K&&(r.set(_,f.W()),f.G())}});let l=hr();this.st.forEach((f,_)=>{let I=!0;_.forEachWhile(R=>{const H=this.dt(R);return!H||2===H.purpose||(I=!1,!1)}),I&&(l=l.add(f))});const c=new Qc(n,r,this.it,this.nt,l);return this.nt=eo(),this.st=rh(),this.it=new ri(an),c}ot(n,r){if(!this.ht(n))return;const l=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,l),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,l){if(!this.ht(n))return;const c=this.ut(n);this.gt(n,r)?c.H(r,1):c.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),l&&(this.nt=this.nt.insert(r,l))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new Ug,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new ri(an),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Et("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Ug),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function rh(){return new ni(Lt.comparator)}function ic(){return new ni(Lt.comparator)}const Bg={asc:"ASCENDING",desc:"DESCENDING"},Bf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jg{constructor(n,r){this.databaseId=n,this.D=r}}function du(o,n){return o.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function sc(o,n){return o.D?n.toBase64():n.toUint8Array()}function jf(o,n){return du(o,n.toTimestamp())}function ci(o){return S(!!o),rn.fromTimestamp(function(n){const r=va(n);return new er(r.seconds,r.nanos)}(o))}function oc(o,n){return(r=o,new sn(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function Rr(o){const n=sn.fromString(o);return S(id(n)),n}function Dl(o,n){return oc(o.databaseId,n.path)}function Qo(o,n){const r=Rr(n);if(r.get(1)!==o.databaseId.projectId)throw new F(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+o.databaseId.projectId);if(r.get(3)!==o.databaseId.database)throw new F(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+o.databaseId.database);return new Lt(ih(r))}function Al(o,n){return oc(o.databaseId,n)}function vs(o){const n=Rr(o);return 4===n.length?sn.emptyPath():ih(n)}function Aa(o){return new sn(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function ih(o){return S(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Hf(o,n,r){return{name:Dl(o,n),fields:r.value.mapValue.fields}}function ed(o,n,r){const l=Qo(o,n.name),c=ci(n.updateTime),f=new yi({mapValue:{fields:n.fields}}),_=qr.newFoundDocument(l,c,f);return r&&_.setHasCommittedMutations(),r?_.setHasCommittedMutations():_}function td(o,n){let r;if(n instanceof Zc)r={update:Hf(o,n.key,n.value)};else if(n instanceof Ko)r={delete:Dl(o,n.key)};else if(n instanceof Ps)r={update:Hf(o,n.key,n.data),updateMask:$f(n.fieldMask)};else{if(!(n instanceof lu))return Ft();r={verify:Dl(o,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(l=>function(c,f){const _=f.transform;if(_ instanceof bl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Xa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Cl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof ou)return{fieldPath:f.field.canonicalString(),increment:_.C};throw Ft()}(0,l))),n.precondition.isNone||(r.currentDocument=void 0!==(c=n.precondition).updateTime?{updateTime:jf(o,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ft()),r;var c}function hu(o,n){const r=n.currentDocument?void 0!==(c=n.currentDocument).updateTime?Si.updateTime(ci(c.updateTime)):void 0!==c.exists?Si.exists(c.exists):Si.none():Si.none(),l=n.updateTransforms?n.updateTransforms.map(c=>function(f,_){let I=null;"setToServerValue"in _?(S("REQUEST_TIME"===_.setToServerValue),I=new bl):"appendMissingElements"in _?I=new Xa(_.appendMissingElements.values||[]):"removeAllFromArray"in _?I=new Cl(_.removeAllFromArray.values||[]):"increment"in _?I=new ou(f,_.increment):Ft();const R=Ui.fromServerFormat(_.fieldPath);return new ho(R,I)}(o,c)):[];var c;if(n.update){const c=Qo(o,n.update.name),f=new yi({mapValue:{fields:n.update.fields}});if(n.updateMask){const _=new ml((n.updateMask.fieldPaths||[]).map(H=>Ui.fromServerFormat(H)));return new Ps(c,f,_,r,l)}return new Zc(c,f,r,l)}if(n.delete){const c=Qo(o,n.delete);return new Ko(c,r)}if(n.verify){const c=Qo(o,n.verify);return new lu(c,r)}return Ft()}function ac(o,n){return{documents:[Al(o,n.path)]}}function oh(o,n){const r={structuredQuery:{}},l=n.path;null!==n.collectionGroup?(r.parent=Al(o,l),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Al(o,l.popLast()),r.structuredQuery.from=[{collectionId:l.lastSegment()}]);const c=function(I){if(0===I.length)return;const R=I.map(H=>function(W){if("=="===W.op){if(Mg(W.value))return{unaryFilter:{field:fu(W.field),op:"IS_NAN"}};if(Qd(W.value))return{unaryFilter:{field:fu(W.field),op:"IS_NULL"}}}else if("!="===W.op){if(Mg(W.value))return{unaryFilter:{field:fu(W.field),op:"IS_NOT_NAN"}};if(Qd(W.value))return{unaryFilter:{field:fu(W.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(W.field),op:rd(W.op),value:W.value}}}(H));return 1===R.length?R[0]:{compositeFilter:{op:"AND",filters:R}}}(n.filters);c&&(r.structuredQuery.where=c);const f=function(I){if(0!==I.length)return I.map(R=>{return{field:fu((H=R).field),direction:lh(H.dir)};var H})}(n.orderBy);f&&(r.structuredQuery.orderBy=f);const _=(R=n.limit,o.D||tu(R)?R:{value:R});var R;return null!==_&&(r.structuredQuery.limit=_),n.startAt&&(r.structuredQuery.startAt=Yi(n.startAt)),n.endAt&&(r.structuredQuery.endAt=Yi(n.endAt)),r}function ah(o){let n=vs(o.parent);const r=o.structuredQuery,l=r.from?r.from.length:0;let c=null;if(l>0){S(1===l);const W=r.from[0];W.allDescendants?c=W.collectionId:n=n.child(W.collectionId)}let f=[];r.where&&(f=Sl(r.where));let _=[];r.orderBy&&(_=r.orderBy.map(W=>{return new ba(ws((te=W).field),function(Ie){switch(Ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction));var te}));let I=null;r.limit&&(I=function(W){let te;return te="object"==typeof W?W.value:W,tu(te)?null:te}(r.limit));let R=null;r.startAt&&(R=nd(r.startAt));let H=null;return r.endAt&&(H=nd(r.endAt)),Xu(n,c,_,f,I,"F",R,H)}function Sl(o){return o?void 0!==o.unaryFilter?[uh(o)]:void 0!==o.fieldFilter?[lc(o)]:void 0!==o.compositeFilter?o.compositeFilter.filters.map(n=>Sl(n)).reduce((n,r)=>n.concat(r)):Ft():[]}function Yi(o){return{before:o.before,values:o.position}}function nd(o){return new Ea(o.values||[],!!o.before)}function lh(o){return Bg[o]}function rd(o){return Bf[o]}function fu(o){return{fieldPath:o.canonicalString()}}function ws(o){return Ui.fromServerFormat(o.fieldPath)}function lc(o){return Ai.create(ws(o.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ft()}}(o.fieldFilter.op),o.fieldFilter.value)}function uh(o){switch(o.unaryFilter.op){case"IS_NAN":const n=ws(o.unaryFilter.field);return Ai.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(o.unaryFilter.field);return Ai.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ws(o.unaryFilter.field);return Ai.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ws(o.unaryFilter.field);return Ai.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ft()}}function $f(o){const n=[];return o.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function id(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}function Io(o){let n="";for(let r=0;r<o.length;r++)n.length>0&&(n=sd(n)),n=qf(o.get(r),n);return sd(n)}function qf(o,n){let r=n;const l=o.length;for(let c=0;c<l;c++){const f=o.charAt(c);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function sd(o){return o+"\x01\x01"}function Jo(o){const n=o.length;if(S(n>=2),2===n)return S("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),sn.emptyPath();const r=n-2,l=[];let c="";for(let f=0;f<n;){const _=o.indexOf("\x01",f);switch((_<0||_>r)&&Ft(),o.charAt(_+1)){case"\x01":const I=o.substring(f,_);let R;0===c.length?R=I:(c+=I,R=c,c=""),l.push(R);break;case"\x10":c+=o.substring(f,_),c+="\0";break;case"\x11":c+=o.substring(f,_+1);break;default:Ft()}f=_+2}return new sn(l)}class C{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class p{constructor(n,r,l){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=l}}p.store="owner",p.key="owner";class g{constructor(n,r,l){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=l}}g.store="mutationQueues",g.keyPath="userId";class T{constructor(n,r,l,c,f){this.userId=n,this.batchId=r,this.localWriteTimeMs=l,this.baseMutations=c,this.mutations=f}}T.store="mutations",T.keyPath="batchId",T.userMutationsIndex="userMutationsIndex",T.userMutationsKeyPath=["userId","batchId"];class B{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,Io(r)]}static key(n,r,l){return[n,Io(r),l]}}B.store="documentMutations",B.PLACEHOLDER=new B;class Q{constructor(n,r){this.path=n,this.readTime=r}}class De{constructor(n,r){this.path=n,this.version=r}}class Ye{constructor(n,r,l,c,f,_){this.unknownDocument=n,this.noDocument=r,this.document=l,this.hasCommittedMutations=c,this.readTime=f,this.parentPath=_}}Ye.store="remoteDocuments",Ye.readTimeIndex="readTimeIndex",Ye.readTimeIndexPath="readTime",Ye.collectionReadTimeIndex="collectionReadTimeIndex",Ye.collectionReadTimeIndexPath=["parentPath","readTime"];class Ct{constructor(n){this.byteSize=n}}Ct.store="remoteDocumentGlobal",Ct.key="remoteDocumentGlobalKey";class Nt{constructor(n,r,l,c,f,_,I){this.targetId=n,this.canonicalId=r,this.readTime=l,this.resumeToken=c,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=_,this.query=I}}Nt.store="targets",Nt.keyPath="targetId",Nt.queryTargetsIndexName="queryTargetsIndex",Nt.queryTargetsKeyPath=["canonicalId","targetId"];class Ut{constructor(n,r,l){this.targetId=n,this.path=r,this.sequenceNumber=l}}Ut.store="targetDocuments",Ut.keyPath=["targetId","path"],Ut.documentTargetsIndex="documentTargetsIndex",Ut.documentTargetsKeyPath=["path","targetId"];class Bt{constructor(n,r,l,c){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=l,this.targetCount=c}}Bt.key="targetGlobalKey",Bt.store="targetGlobal";class Er{constructor(n,r){this.collectionId=n,this.parent=r}}Er.store="collectionParents",Er.keyPath=["collectionId","parent"];class fr{constructor(n,r,l,c){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=l,this.inForeground=c}}fr.store="clientMetadata",fr.keyPath="clientId";class Xo{constructor(n,r,l){this.bundleId=n,this.createTime=r,this.version=l}}Xo.store="bundles",Xo.keyPath="bundleId";class xl{constructor(n,r,l){this.name=n,this.readTime=r,this.bundledQuery=l}}xl.store="namedQueries",xl.keyPath="name";const ch=[g.store,T.store,B.store,Ye.store,Nt.store,p.store,Bt.store,Ut.store,fr.store,Ct.store,Er.store,Xo.store,xl.store],od="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class ft{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new ft((l,c)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(l,c)},this.catchCallback=f=>{this.wrapFailure(r,f).next(l,c)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof ft?r:ft.resolve(r)}catch(r){return ft.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):ft.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):ft.reject(r)}static resolve(n){return new ft((r,l)=>{r(n)})}static reject(n){return new ft((r,l)=>{l(n)})}static waitFor(n){return new ft((r,l)=>{let c=0,f=0,_=!1;n.forEach(I=>{++c,I.next(()=>{++f,_&&f===c&&r()},R=>l(R))}),_=!0,f===c&&r()})}static or(n){let r=ft.resolve(!1);for(const l of n)r=r.next(c=>c?ft.resolve(c):l());return r}static forEach(n,r){const l=[];return n.forEach((c,f)=>{l.push(r.call(this,c,f))}),this.waitFor(l)}}class uc{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new z,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new To(n,r.error)):this.Tt.resolve()},this.transaction.onerror=l=>{const c=q_(l.target.error);this.Tt.reject(new To(n,c))}}static open(n,r,l,c){try{return new uc(r,n.transaction(c,l))}catch(f){throw new To(r,f)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Et("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new zf(r)}}class po{constructor(n,r,l){this.name=n,this.version=r,this.At=l,12.2===po.Rt((0,Se.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Et("SimpleDb","Removing database:",n),pu(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(po.Pt())return!0;const n=(0,Se.z$)(),r=po.Rt(n),l=0<r&&r<10,c=po.vt(n),f=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||l||f)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static vt(n){const r=n.match(/Android ([\d.]+)/i),l=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(l)}Dt(n){var r=this;return(0,Le.Z)(function*(){return r.db||(Et("SimpleDb","Opening database:",r.name),r.db=yield new Promise((l,c)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=_=>{l(_.target.result)},f.onblocked=()=>{c(new To(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const I=_.target.error;c("VersionError"===I.name?new F(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===I.name?new F(x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+I):new To(n,I))},f.onupgradeneeded=_=>{Et("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',_.oldVersion),r.At.Ct(_.target.result,f.transaction,_.oldVersion,r.version).next(()=>{Et("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=l=>r.Nt(l)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,l,c){var f=this;return(0,Le.Z)(function*(){const _="readonly"===r;let I=0;for(;;){++I;try{f.db=yield f.Dt(n);const R=uc.open(f.db,n,_?"readonly":"readwrite",l),H=c(R).catch(W=>(R.abort(W),ft.reject(W))).toPromise();return H.catch(()=>{}),yield R.It,H}catch(R){const H="FirebaseError"!==R.name&&I<3;if(Et("SimpleDb","Transaction failed with error:",R.message,"Retrying:",H),f.close(),!H)return Promise.reject(R)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class dh{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return pu(this.kt.delete())}}class To extends F{constructor(n,r){super(x.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function us(o){return"IndexedDbTransactionError"===o.name}class zf{constructor(n){this.store=n}put(n,r){let l;return void 0!==r?(Et("SimpleDb","PUT",this.store.name,n,r),l=this.store.put(r,n)):(Et("SimpleDb","PUT",this.store.name,"<auto-key>",n),l=this.store.put(n)),pu(l)}add(n){return Et("SimpleDb","ADD",this.store.name,n,n),pu(this.store.add(n))}get(n){return pu(this.store.get(n)).next(r=>(void 0===r&&(r=null),Et("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Et("SimpleDb","DELETE",this.store.name,n),pu(this.store.delete(n))}count(){return Et("SimpleDb","COUNT",this.store.name),pu(this.store.count())}Lt(n,r){const l=this.cursor(this.options(n,r)),c=[];return this.Bt(l,(f,_)=>{c.push(_)}).next(()=>c)}Ut(n,r){Et("SimpleDb","DELETE ALL",this.store.name);const l=this.options(n,r);l.qt=!1;const c=this.cursor(l);return this.Bt(c,(f,_,I)=>I.delete())}Kt(n,r){let l;r?l=n:(l={},r=n);const c=this.cursor(l);return this.Bt(c,r)}jt(n){const r=this.cursor({});return new ft((l,c)=>{r.onerror=f=>{const _=q_(f.target.error);c(_)},r.onsuccess=f=>{const _=f.target.result;_?n(_.primaryKey,_.value).next(I=>{I?_.continue():l()}):l()}})}Bt(n,r){const l=[];return new ft((c,f)=>{n.onerror=_=>{f(_.target.error)},n.onsuccess=_=>{const I=_.target.result;if(!I)return void c();const R=new dh(I),H=r(I.primaryKey,I.value,R);if(H instanceof ft){const W=H.catch(te=>(R.done(),ft.reject(te)));l.push(W)}R.isDone?c():null===R.Ft?I.continue():I.continue(R.Ft)}}).next(()=>ft.waitFor(l))}options(n,r){let l;return void 0!==n&&("string"==typeof n?l=n:r=n),{index:l,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const l=this.store.index(n.index);return n.qt?l.openKeyCursor(n.range,r):l.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function pu(o){return new ft((n,r)=>{o.onsuccess=l=>{n(l.target.result)},o.onerror=l=>{const c=q_(l.target.error);r(c)}})}let Hg=!1;function q_(o){const n=po.Rt((0,Se.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(r)>=0){const l=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hg||(Hg=!0,setTimeout(()=>{throw l},0)),l}}return o}class Sa extends Gf{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function ks(o,n){const r=b(o);return po.St(r.Qt,n)}class hh{constructor(n,r,l,c){this.batchId=n,this.localWriteTime=r,this.baseMutations=l,this.mutations=c}applyToRemoteDocument(n,r){const l=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(n.key)&&Nf(f,n,l[c])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&zc(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&zc(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const l=n.get(r.key),c=l;this.applyToLocalView(c),l.isValidDocument()||c.convertToNoDocument(rn.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),hr())}isEqual(n){return this.batchId===n.batchId&&ui(this.mutations,n.mutations,(r,l)=>el(r,l))&&ui(this.baseMutations,n.baseMutations,(r,l)=>el(r,l))}}class $g{constructor(n,r,l,c){this.batch=n,this.commitVersion=r,this.mutationResults=l,this.docVersions=c}static from(n,r,l){S(n.mutations.length===l.length);let c=tl();const f=n.mutations;for(let _=0;_<f.length;_++)c=c.insert(f[_].key,l[_].version);return new $g(n,r,l,c)}}class Ol{constructor(n,r,l,c,f=rn.min(),_=rn.min(),I=Ii.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=l,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=I}withSequenceNumber(n){return new Ol(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class ad{constructor(n){this.Wt=n}}function Zf(o,n){if(n.document)return ed(o.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Lt.fromSegments(n.noDocument.path),l=ph(n.noDocument.readTime),c=qr.newNoDocument(r,l);return n.hasCommittedMutations?c.setHasCommittedMutations():c}if(n.unknownDocument){const r=Lt.fromSegments(n.unknownDocument.path),l=ph(n.unknownDocument.version);return qr.newUnknownDocument(r,l)}return Ft()}function qg(o,n,r){const l=fh(r),c=n.key.path.popLast().toArray();if(n.isFoundDocument()){const f={name:Dl(I=o.Wt,(R=n).key),fields:R.data.value.mapValue.fields,updateTime:du(I,R.version.toTimestamp())};return new Ye(null,null,f,n.hasCommittedMutations,l,c)}var I,R;if(n.isNoDocument()){const f=n.key.path.toArray(),_=cc(n.version),I=n.hasCommittedMutations;return new Ye(null,new Q(f,_),null,I,l,c)}if(n.isUnknownDocument()){const f=n.key.path.toArray(),_=cc(n.version);return new Ye(new De(f,_),null,null,!0,l,c)}return Ft()}function fh(o){const n=o.toTimestamp();return[n.seconds,n.nanoseconds]}function Wf(o){const n=new er(o[0],o[1]);return rn.fromTimestamp(n)}function cc(o){const n=o.toTimestamp();return new C(n.seconds,n.nanoseconds)}function ph(o){const n=new er(o.seconds,o.nanoseconds);return rn.fromTimestamp(n)}function xa(o,n){const r=(n.baseMutations||[]).map(f=>hu(o.Wt,f));for(let f=0;f<n.mutations.length-1;++f){const _=n.mutations[f];f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(_.updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f)}const l=n.mutations.map(f=>hu(o.Wt,f)),c=er.fromMillis(n.localWriteTimeMs);return new hh(n.batchId,c,r,l)}function dc(o){const n=ph(o.readTime),r=void 0!==o.lastLimboFreeSnapshotVersion?ph(o.lastLimboFreeSnapshotVersion):rn.min();let l;var c;return void 0!==o.query.documents?(S(1===(c=o.query).documents.length),l=Wi(ec(vs(c.documents[0])))):l=Wi(ah(o.query)),new Ol(l,o.targetId,0,o.lastListenSequenceNumber,n,r,Ii.fromBase64String(o.resumeToken))}function Gg(o,n){const r=cc(n.snapshotVersion),l=cc(n.lastLimboFreeSnapshotVersion);let c;c=Fc(n.target)?ac(o.Wt,n.target):oh(o.Wt,n.target);const f=n.resumeToken.toBase64();return new Nt(n.targetId,Qu(n.target),r,f,n.sequenceNumber,l,c)}function zg(o){const n=ah({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Xs(n,n.limit,"L"):n}class Zg{getBundleMetadata(n,r){return G_(n).get(r).next(l=>{if(l)return{id:(c=l).bundleId,createTime:ph(c.createTime),version:c.version};var c})}saveBundleMetadata(n,r){return G_(n).put({bundleId:(l=r).id,createTime:cc(ci(l.createTime)),version:l.version});var l}getNamedQuery(n,r){return z_(n).get(r).next(l=>{if(l)return{name:(c=l).name,query:zg(c.bundledQuery),readTime:ph(c.readTime)};var c})}saveNamedQuery(n,r){return z_(n).put({name:(l=r).name,readTime:cc(ci(l.readTime)),bundledQuery:l.bundledQuery});var l}}function G_(o){return ks(o,Xo.store)}function z_(o){return ks(o,xl.store)}class tE{constructor(){this.Gt=new Wg}addToCollectionParentIndex(n,r){return this.Gt.add(r),ft.resolve()}getCollectionParents(n,r){return ft.resolve(this.Gt.getEntries(r))}}class Wg{constructor(){this.index={}}add(n){const r=n.lastSegment(),l=n.popLast(),c=this.index[r]||new ri(sn.comparator),f=!c.has(l);return this.index[r]=c.add(l),f}has(n){const r=n.lastSegment(),l=n.popLast(),c=this.index[r];return c&&c.has(l)}getEntries(n){return(this.index[n]||new ri(sn.comparator)).toArray()}}class nE{constructor(){this.zt=new Wg}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const l=r.lastSegment(),c=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const f={collectionId:l,parent:Io(c)};return Z_(n).put(f)}return ft.resolve()}getCollectionParents(n,r){const l=[],c=IDBKeyRange.bound([r,""],[Go(r),""],!1,!0);return Z_(n).Lt(c).next(f=>{for(const _ of f){if(_.collectionId!==r)break;l.push(Jo(_.parent))}return l})}}function Z_(o){return ks(o,Er.store)}const Kg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(n,r,l){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=l}static withCacheSize(n){return new Fs(n,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yg(o,n,r){const l=o.store(T.store),c=o.store(B.store),f=[],_=IDBKeyRange.only(r.batchId);let I=0;const R=l.Kt({range:_},(W,te,Ie)=>(I++,Ie.delete()));f.push(R.next(()=>{S(1===I)}));const H=[];for(const W of r.mutations){const te=B.key(n,W.key.path,r.batchId);f.push(c.delete(te)),H.push(W.key)}return ft.waitFor(f).next(()=>H)}function ld(o){if(!o)return 0;let n;if(o.document)n=o.document;else if(o.unknownDocument)n=o.unknownDocument;else{if(!o.noDocument)throw Ft();n=o.noDocument}return JSON.stringify(n).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class Qg{constructor(n,r,l,c){this.userId=n,this.N=r,this.Ht=l,this.referenceDelegate=c,this.Jt={}}static Yt(n,r,l,c){S(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new Qg(f,r,l,c)}checkEmpty(n){let r=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nl(n).Kt({index:T.userMutationsIndex,range:l},(c,f,_)=>{r=!1,_.done()}).next(()=>r)}addMutationBatch(n,r,l,c){const f=hc(n),_=Nl(n);return _.add({}).next(I=>{S("number"==typeof I);const R=new hh(I,r,l,c),H=function(Ie,qe,et){const pt=et.baseMutations.map(dn=>td(Ie.Wt,dn)),Tt=et.mutations.map(dn=>td(Ie.Wt,dn));return new T(qe,et.batchId,et.localWriteTime.toMillis(),pt,Tt)}(this.N,this.userId,R),W=[];let te=new ri((Ie,qe)=>an(Ie.canonicalString(),qe.canonicalString()));for(const Ie of c){const qe=B.key(this.userId,Ie.key.path,I);te=te.add(Ie.key.path.popLast()),W.push(_.put(H)),W.push(f.put(qe,B.PLACEHOLDER))}return te.forEach(Ie=>{W.push(this.Ht.addToCollectionParentIndex(n,Ie))}),n.addOnCommittedListener(()=>{this.Jt[I]=R.keys()}),ft.waitFor(W).next(()=>R)})}lookupMutationBatch(n,r){return Nl(n).get(r).next(l=>l?(S(l.userId===this.userId),xa(this.N,l)):null)}Xt(n,r){return this.Jt[r]?ft.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(l=>{if(l){const c=l.keys();return this.Jt[r]=c,c}return null})}getNextMutationBatchAfterBatchId(n,r){const l=r+1,c=IDBKeyRange.lowerBound([this.userId,l]);let f=null;return Nl(n).Kt({index:T.userMutationsIndex,range:c},(_,I,R)=>{I.userId===this.userId&&(S(I.batchId>=l),f=xa(this.N,I)),R.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Nl(n).Kt({index:T.userMutationsIndex,range:r,reverse:!0},(c,f,_)=>{l=f.batchId,_.done()}).next(()=>l)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nl(n).Lt(T.userMutationsIndex,r).next(l=>l.map(c=>xa(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(n,r){const l=B.prefixForPath(this.userId,r.path),c=IDBKeyRange.lowerBound(l),f=[];return hc(n).Kt({range:c},(_,I,R)=>{const[H,W,te]=_,Ie=Jo(W);if(H===this.userId&&r.path.isEqual(Ie))return Nl(n).get(te).next(qe=>{if(!qe)throw Ft();S(qe.userId===this.userId),f.push(xa(this.N,qe))});R.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let l=new ri(an);const c=[];return r.forEach(f=>{const _=B.prefixForPath(this.userId,f.path),I=IDBKeyRange.lowerBound(_),R=hc(n).Kt({range:I},(H,W,te)=>{const[Ie,qe,et]=H,pt=Jo(qe);Ie===this.userId&&f.path.isEqual(pt)?l=l.add(et):te.done()});c.push(R)}),ft.waitFor(c).next(()=>this.Zt(n,l))}getAllMutationBatchesAffectingQuery(n,r){const l=r.path,c=l.length+1,f=B.prefixForPath(this.userId,l),_=IDBKeyRange.lowerBound(f);let I=new ri(an);return hc(n).Kt({range:_},(R,H,W)=>{const[te,Ie,qe]=R,et=Jo(Ie);te===this.userId&&l.isPrefixOf(et)?et.length===c&&(I=I.add(qe)):W.done()}).next(()=>this.Zt(n,I))}Zt(n,r){const l=[],c=[];return r.forEach(f=>{c.push(Nl(n).get(f).next(_=>{if(null===_)throw Ft();S(_.userId===this.userId),l.push(xa(this.N,_))}))}),ft.waitFor(c).next(()=>l)}removeMutationBatch(n,r){return Yg(n.Qt,this.userId,r).next(l=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),ft.forEach(l,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return ft.resolve();const l=IDBKeyRange.lowerBound(B.prefixForUser(this.userId)),c=[];return hc(n).Kt({range:l},(f,_,I)=>{if(f[0]===this.userId){const R=Jo(f[1]);c.push(R)}else I.done()}).next(()=>{S(0===c.length)})})}containsKey(n,r){return W_(n,this.userId,r)}ee(n){return gu(n).get(this.userId).next(r=>r||new g(this.userId,-1,""))}}function W_(o,n,r){const l=B.prefixForPath(n,r.path),c=l[1],f=IDBKeyRange.lowerBound(l);let _=!1;return hc(o).Kt({range:f,qt:!0},(I,R,H)=>{const[W,te,Ie]=I;W===n&&te===c&&(_=!0),H.done()}).next(()=>_)}function Nl(o){return ks(o,T.store)}function hc(o){return ks(o,B.store)}function gu(o){return ks(o,g.store)}class mu{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new mu(0)}static ie(){return new mu(-1)}}class K_{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const l=new mu(r.highestTargetId);return r.highestTargetId=l.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>rn.fromTimestamp(new er(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,l){return this.re(n).next(c=>(c.highestListenSequenceNumber=r,l&&(c.lastRemoteSnapshotVersion=l.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.oe(n,c)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(l=>(l.targetCount+=1,this.ce(r,l),this.oe(n,l))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>ud(n).delete(r.targetId)).next(()=>this.re(n)).next(l=>(S(l.targetCount>0),l.targetCount-=1,this.oe(n,l)))}removeTargets(n,r,l){let c=0;const f=[];return ud(n).Kt((_,I)=>{const R=dc(I);R.sequenceNumber<=r&&null===l.get(R.targetId)&&(c++,f.push(this.removeTargetData(n,R)))}).next(()=>ft.waitFor(f)).next(()=>c)}forEachTarget(n,r){return ud(n).Kt((l,c)=>{const f=dc(c);r(f)})}re(n){return gh(n).get(Bt.key).next(r=>(S(null!==r),r))}oe(n,r){return gh(n).put(Bt.key,r)}ae(n,r){return ud(n).put(Gg(this.N,r))}ce(n,r){let l=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,l=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,l=!0),l}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const l=Qu(r),c=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let f=null;return ud(n).Kt({range:c,index:Nt.queryTargetsIndexName},(_,I,R)=>{const H=dc(I);nu(r,H.target)&&(f=H,R.done())}).next(()=>f)}addMatchingKeys(n,r,l){const c=[],f=yu(n);return r.forEach(_=>{const I=Io(_.path);c.push(f.put(new Ut(l,I))),c.push(this.referenceDelegate.addReference(n,l,_))}),ft.waitFor(c)}removeMatchingKeys(n,r,l){const c=yu(n);return ft.forEach(r,f=>{const _=Io(f.path);return ft.waitFor([c.delete([l,_]),this.referenceDelegate.removeReference(n,l,f)])})}removeMatchingKeysForTargetId(n,r){const l=yu(n),c=IDBKeyRange.bound([r],[r+1],!1,!0);return l.delete(c)}getMatchingKeysForTargetId(n,r){const l=IDBKeyRange.bound([r],[r+1],!1,!0),c=yu(n);let f=hr();return c.Kt({range:l,qt:!0},(_,I,R)=>{const H=Jo(_[1]),W=new Lt(H);f=f.add(W)}).next(()=>f)}containsKey(n,r){const l=Io(r.path),c=IDBKeyRange.bound([l],[Go(l)],!1,!0);let f=0;return yu(n).Kt({index:Ut.documentTargetsIndex,qt:!0,range:c},([_,I],R,H)=>{0!==_&&(f++,H.done())}).next(()=>f>0)}Et(n,r){return ud(n).get(r).next(l=>l?dc(l):null)}}function ud(o){return ks(o,Nt.store)}function gh(o){return ks(o,Bt.store)}function yu(o){return ks(o,Ut.store)}function _u(o){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,Le.Z)(function*(o){if(o.code!==x.FAILED_PRECONDITION||o.message!==od)throw o;Et("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Jg([o,n],[r,l]){const c=an(o,r);return 0===c?an(n,l):c}class Xg{constructor(n){this.ue=n,this.buffer=new ri(Jg),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const l=this.buffer.last();Jg(r,l)<0&&(this.buffer=this.buffer.delete(l).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Y_{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const l=this.de?3e5:6e4;Et("LruGarbageCollector",`Garbage collection scheduled in ${l}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",l,(0,Le.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(c){us(c)?Et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield _u(c)}yield r._e(n)}))}}class Yf{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(l=>Math.floor(r/100*l))}nthSequenceNumber(n,r){if(0===r)return ft.resolve(In.T);const l=new Xg(r);return this.me.forEachTarget(n,c=>l.fe(c.sequenceNumber)).next(()=>this.me.ye(n,c=>l.fe(c))).next(()=>l.maxValue)}removeTargets(n,r,l){return this.me.removeTargets(n,r,l)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(Kg)):this.getCacheSize(n).next(l=>l<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kg):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let l,c,f,_,I,R,H;const W=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(te=>(te>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${te}`),c=this.params.maximumSequenceNumbersToCollect):c=te,_=Date.now(),this.nthSequenceNumber(n,c))).next(te=>(l=te,I=Date.now(),this.removeTargets(n,l,r))).next(te=>(f=te,R=Date.now(),this.removeOrphanedDocuments(n,l))).next(te=>(H=Date.now(),fl()<=Ue.in.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-W}ms\n\tDetermined least recently used ${c} in `+(I-_)+`ms\n\tRemoved ${f} targets in `+(R-I)+`ms\n\tRemoved ${te} documents in `+(H-R)+`ms\nTotal Duration: ${H-W}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:te})))}}class Qf{constructor(n,r){this.db=n,this.garbageCollector=new Yf(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(l=>r.next(c=>l+c))}Ee(n){let r=0;return this.ye(n,l=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(l,c)=>r(c))}addReference(n,r,l){return mh(n,l)}removeReference(n,r,l){return mh(n,l)}removeTargets(n,r,l){return this.db.getTargetCache().removeTargets(n,r,l)}markPotentiallyOrphaned(n,r){return mh(n,r)}Ie(n,r){return function(l,c){let f=!1;return gu(l).jt(_=>W_(l,_,c).next(I=>(I&&(f=!0),ft.resolve(!I)))).next(()=>f)}(n,r)}removeOrphanedDocuments(n,r){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Te(n,(_,I)=>{if(I<=r){const R=this.Ie(n,_).next(H=>{if(!H)return f++,l.getEntry(n,_).next(()=>(l.removeEntry(_),yu(n).delete([0,Io(_.path)])))});c.push(R)}}).next(()=>ft.waitFor(c)).next(()=>l.apply(n)).next(()=>f)}removeTarget(n,r){const l=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,l)}updateLimboDocument(n,r){return mh(n,r)}Te(n,r){const l=yu(n);let c,f=In.T;return l.Kt({index:Ut.documentTargetsIndex},([_,I],{path:R,sequenceNumber:H})=>{0===_?(f!==In.T&&r(new Lt(Jo(c)),f),f=H,c=R):f=In.T}).next(()=>{f!==In.T&&r(new Lt(Jo(c)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function mh(o,n){return yu(o).put((l=o.currentSequenceNumber,new Ut(0,Io(n.path),l)));var l}class vu{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),l=this.inner[r];if(void 0!==l)for(const[c,f]of l)if(this.equalsFn(c,n))return f}has(n){return void 0!==this.get(n)}set(n,r){const l=this.mapKeyFn(n),c=this.inner[l];if(void 0!==c){for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return void(c[f]=[n,r]);c.push([n,r])}else this.inner[l]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),l=this.inner[r];if(void 0===l)return!1;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],n))return 1===l.length?delete this.inner[r]:l.splice(c,1),!0;return!1}forEach(n){pl(this.inner,(r,l)=>{for(const[c,f]of l)n(c,f)})}isEmpty(){return Ng(this.inner)}}class em{constructor(){this.changes=new vu(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:rn.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:qr.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const l=this.changes.get(r);return void 0!==l?ft.resolve(l.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class tm{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,l){return Ml(n).put(Jf(r),l)}removeEntry(n,r){const l=Ml(n),c=Jf(r);return l.delete(c)}updateMetadata(n,r){return this.getMetadata(n).next(l=>(l.byteSize+=r,this.Ae(n,l)))}getEntry(n,r){return Ml(n).get(Jf(r)).next(l=>this.Re(r,l))}be(n,r){return Ml(n).get(Jf(r)).next(l=>({document:this.Re(r,l),size:ld(l)}))}getEntries(n,r){let l=eo();return this.Pe(n,r,(c,f)=>{const _=this.Re(c,f);l=l.insert(c,_)}).next(()=>l)}ve(n,r){let l=eo(),c=new ni(Lt.comparator);return this.Pe(n,r,(f,_)=>{const I=this.Re(f,_);l=l.insert(f,I),c=c.insert(f,ld(_))}).next(()=>({documents:l,Ve:c}))}Pe(n,r,l){if(r.isEmpty())return ft.resolve();const c=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let _=f.getNext();return Ml(n).Kt({range:c},(I,R,H)=>{const W=Lt.fromSegments(I);for(;_&&Lt.comparator(_,W)<0;)l(_,null),_=f.getNext();_&&_.isEqual(W)&&(l(_,R),_=f.hasNext()?f.getNext():null),_?H.Mt(_.path.toArray()):H.done()}).next(()=>{for(;_;)l(_,null),_=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(n,r,l){let c=eo();const f=r.path.length+1,_={};if(l.isEqual(rn.min())){const I=r.path.toArray();_.range=IDBKeyRange.lowerBound(I)}else{const I=r.path.toArray(),R=fh(l);_.range=IDBKeyRange.lowerBound([I,R],!0),_.index=Ye.collectionReadTimeIndex}return Ml(n).Kt(_,(I,R,H)=>{if(I.length!==f)return;const W=Zf(this.N,R);r.path.isPrefixOf(W.key.path)?su(r,W)&&(c=c.insert(W.key,W)):H.done()}).next(()=>c)}newChangeBuffer(n){return new yh(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return Q_(n).get(Ct.key).next(r=>(S(!!r),r))}Ae(n,r){return Q_(n).put(Ct.key,r)}Re(n,r){if(r){const l=Zf(this.N,r);if(!l.isNoDocument()||!l.version.isEqual(rn.min()))return l}return qr.newInvalidDocument(n)}}class yh extends em{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new vu(l=>l.toString(),(l,c)=>l.isEqual(c))}applyChanges(n){const r=[];let l=0,c=new ri((f,_)=>an(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const I=this.De.get(f);if(_.document.isValidDocument()){const R=qg(this.Se.N,_.document,this.getReadTime(f));c=c.add(f.path.popLast()),l+=ld(R)-I,r.push(this.Se.addEntry(n,f,R))}else if(l-=I,this.trackRemovals){const R=qg(this.Se.N,qr.newNoDocument(f,rn.min()),this.getReadTime(f));r.push(this.Se.addEntry(n,f,R))}else r.push(this.Se.removeEntry(n,f))}),c.forEach(f=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,f))}),r.push(this.Se.updateMetadata(n,l)),ft.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(l=>(this.De.set(r,l.size),l.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:l,Ve:c})=>(c.forEach((f,_)=>{this.De.set(f,_)}),l))}}function Q_(o){return ks(o,Ct.store)}function Ml(o){return ks(o,Ye.store)}function Jf(o){return o.path.toArray()}class rE{constructor(n){this.N=n}Ct(n,r,l,c){S(l<c&&l>=0&&c<=11);const f=new uc("createOrUpgrade",r);var I;l<1&&c>=1&&(n.createObjectStore(p.store),(I=n).createObjectStore(g.store,{keyPath:g.keyPath}),I.createObjectStore(T.store,{keyPath:T.keyPath,autoIncrement:!0}).createIndex(T.userMutationsIndex,T.userMutationsKeyPath,{unique:!0}),I.createObjectStore(B.store),nm(n),function(I){I.createObjectStore(Ye.store)}(n));let _=ft.resolve();return l<3&&c>=3&&(0!==l&&(function(I){I.deleteObjectStore(Ut.store),I.deleteObjectStore(Nt.store),I.deleteObjectStore(Bt.store)}(n),nm(n)),_=_.next(()=>function(I){const R=I.store(Bt.store),H=new Bt(0,0,rn.min().toTimestamp(),0);return R.put(Bt.key,H)}(f))),l<4&&c>=4&&(0!==l&&(_=_.next(()=>function(I,R){return R.store(T.store).Lt().next(H=>{I.deleteObjectStore(T.store),I.createObjectStore(T.store,{keyPath:T.keyPath,autoIncrement:!0}).createIndex(T.userMutationsIndex,T.userMutationsKeyPath,{unique:!0});const W=R.store(T.store),te=H.map(Ie=>W.put(Ie));return ft.waitFor(te)})}(n,f))),_=_.next(()=>{!function(I){I.createObjectStore(fr.store,{keyPath:fr.keyPath})}(n)})),l<5&&c>=5&&(_=_.next(()=>this.Ce(f))),l<6&&c>=6&&(_=_.next(()=>(function(I){I.createObjectStore(Ct.store)}(n),this.Ne(f)))),l<7&&c>=7&&(_=_.next(()=>this.xe(f))),l<8&&c>=8&&(_=_.next(()=>this.ke(n,f))),l<9&&c>=9&&(_=_.next(()=>{(function(I){I.objectStoreNames.contains("remoteDocumentChanges")&&I.deleteObjectStore("remoteDocumentChanges")})(n),function(I){const R=I.objectStore(Ye.store);R.createIndex(Ye.readTimeIndex,Ye.readTimeIndexPath,{unique:!1}),R.createIndex(Ye.collectionReadTimeIndex,Ye.collectionReadTimeIndexPath,{unique:!1})}(r)})),l<10&&c>=10&&(_=_.next(()=>this.$e(f))),l<11&&c>=11&&(_=_.next(()=>{(function(I){I.createObjectStore(Xo.store,{keyPath:Xo.keyPath})})(n),function(I){I.createObjectStore(xl.store,{keyPath:xl.keyPath})}(n)})),_}Ne(n){let r=0;return n.store(Ye.store).Kt((l,c)=>{r+=ld(c)}).next(()=>{const l=new Ct(r);return n.store(Ct.store).put(Ct.key,l)})}Ce(n){const r=n.store(g.store),l=n.store(T.store);return r.Lt().next(c=>ft.forEach(c,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return l.Lt(T.userMutationsIndex,_).next(I=>ft.forEach(I,R=>{S(R.userId===f.userId);const H=xa(this.N,R);return Yg(n,f.userId,H).next(()=>{})}))}))}xe(n){const r=n.store(Ut.store),l=n.store(Ye.store);return n.store(Bt.store).get(Bt.key).next(c=>{const f=[];return l.Kt((_,I)=>{const R=new sn(_),H=[0,Io(R)];f.push(r.get(H).next(W=>W?ft.resolve():r.put(new Ut(0,Io(R),c.highestListenSequenceNumber))))}).next(()=>ft.waitFor(f))})}ke(n,r){n.createObjectStore(Er.store,{keyPath:Er.keyPath});const l=r.store(Er.store),c=new Wg,f=_=>{if(c.add(_)){const I=_.lastSegment(),R=_.popLast();return l.put({collectionId:I,parent:Io(R)})}};return r.store(Ye.store).Kt({qt:!0},(_,I)=>{const R=new sn(_);return f(R.popLast())}).next(()=>r.store(B.store).Kt({qt:!0},([_,I,R],H)=>{const W=Jo(I);return f(W.popLast())}))}$e(n){const r=n.store(Nt.store);return r.Kt((l,c)=>{const f=dc(c),_=Gg(this.N,f);return r.put(_)})}}function nm(o){o.createObjectStore(Ut.store,{keyPath:Ut.keyPath}).createIndex(Ut.documentTargetsIndex,Ut.documentTargetsKeyPath,{unique:!0}),o.createObjectStore(Nt.store,{keyPath:Nt.keyPath}).createIndex(Nt.queryTargetsIndexName,Nt.queryTargetsKeyPath,{unique:!0}),o.createObjectStore(Bt.store)}const _h="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xf{constructor(n,r,l,c,f,_,I,R,H,W){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=l,this.Oe=f,this.window=_,this.document=I,this.Fe=H,this.Me=W,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=te=>Promise.resolve(),!Xf.bt())throw new F(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qf(this,c),this.We=r+"main",this.N=new ad(R),this.Ge=new po(this.We,11,new rE(this.N)),this.ze=new K_(this.referenceDelegate,this.N),this.Ht=new nE,this.He=new tm(this.N,this.Ht),this.Je=new Zg,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===W&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(x.FAILED_PRECONDITION,_h);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new In(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var l=(0,Le.Z)(function*(c){if(r.started)return n(c)});return function(c){return l.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,Le.Z)(function*(l){null===l.newVersion&&(yield n())});return function(l){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,Le.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>vh(n).put(new fr(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(us(n))return Et("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return ep(n).get(p.key).next(r=>ft.resolve(this.cn(r)))}un(n){return vh(n).delete(this.clientId)}hn(){var n=this;return(0,Le.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const c=ks(l,fr.store);return c.Lt().next(f=>{const _=n.fn(f,18e5),I=f.filter(R=>-1===_.indexOf(R));return ft.forEach(I,R=>c.delete(R.clientId)).next(()=>I)})}).catch(()=>[]);if(n.Ye)for(const l of r)n.Ye.removeItem(n.dn(l.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?ft.resolve(!0):ep(n).get(p.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new F(x.FAILED_PRECONDITION,_h);return!1}}return!(!this.networkEnabled||!this.inForeground)||vh(n).Lt().next(l=>void 0===this.fn(l,5e3).find(c=>{if(this.clientId!==c.clientId){const _=!this.inForeground&&c.inForeground,I=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||_&&I)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Et("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,Le.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[p.store,fr.store],r=>{const l=new Sa(r,In.T);return n.on(l).next(()=>n.un(l))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(l=>this.ln(l.updateTimeMs,r)&&!this.wn(l.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>vh(n).Lt().next(r=>this.fn(r,18e5).map(l=>l.clientId)))}get started(){return this.Be}getMutationQueue(n){return Qg.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,l){let f;return Et("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",ch,_=>(f=new Sa(_,this.Le?this.Le.next():In.T),"readwrite-primary"===r?this.sn(f).next(I=>!!I||this.rn(f)).next(I=>{if(!I)throw Mr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new F(x.FAILED_PRECONDITION,od);return l(f)}).next(I=>this.an(f).next(()=>I)):this.En(f).next(()=>l(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}En(n){return ep(n).get(p.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new F(x.FAILED_PRECONDITION,_h)})}an(n){const r=new p(this.clientId,this.allowTabSynchronization,Date.now());return ep(n).put(p.key,r)}static bt(){return po.bt()}on(n){const r=ep(n);return r.get(p.key).next(l=>this.cn(l)?(Et("IndexedDbPersistence","Releasing primary lease."),r.delete(p.key)):ft.resolve())}ln(n,r){const l=Date.now();return!(n<l-r||n>l&&(Mr(`Detected an update time that is in the future: ${n} > ${l}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Se.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const l=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Et("IndexedDbPersistence",`Client '${n}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Mr("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Mr("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function ep(o){return ks(o,p.store)}function vh(o){return ks(o,fr.store)}function rm(o,n){let r=o.projectId;return o.isDefaultDatabase||(r+="."+o.database),"firestore/"+n+"/"+r+"/"}class J_{constructor(n,r){this.progress=n,this.Tn=r}}class X_{constructor(n,r,l){this.He=n,this.In=r,this.Ht=l}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(l=>this.Rn(n,r,l))}Rn(n,r,l){return this.He.getEntry(n,r).next(c=>{for(const f of l)f.applyToLocalView(c);return c})}bn(n,r){n.forEach((l,c)=>{for(const f of r)f.applyToLocalView(c)})}Pn(n,r){return this.He.getEntries(n,r).next(l=>this.vn(n,l).next(()=>l))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(l=>this.bn(r,l))}getDocumentsMatchingQuery(n,r,l){return Lt.isDocumentKey((c=r).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(n,r.path):jc(r)?this.Sn(n,r,l):this.Dn(n,r,l);var c}Vn(n,r){return this.An(n,new Lt(r)).next(l=>{let c=Kc();return l.isFoundDocument()&&(c=c.insert(l.key,l)),c})}Sn(n,r,l){const c=r.collectionGroup;let f=Kc();return this.Ht.getCollectionParents(n,c).next(_=>ft.forEach(_,I=>{const R=(H=r,W=I.child(c),new yr(W,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,W;return this.Dn(n,R,l).next(H=>{H.forEach((W,te)=>{f=f.insert(W,te)})})}).next(()=>f))}Dn(n,r,l){let c,f;return this.He.getDocumentsMatchingQuery(n,r,l).next(_=>(c=_,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(_=>(f=_,this.Cn(n,f,c).next(I=>{c=I;for(const R of f)for(const H of R.mutations){const W=H.key;let te=c.get(W);null==te&&(te=qr.newInvalidDocument(W),c=c.insert(W,te)),zc(H,te,R.localWriteTime),te.isFoundDocument()||(c=c.remove(W))}}))).next(()=>(c.forEach((_,I)=>{su(r,I)||(c=c.remove(_))}),c))}Cn(n,r,l){let c=hr();for(const _ of r)for(const I of _.mutations)I instanceof Ps&&null===l.get(I.key)&&(c=c.add(I.key));let f=l;return this.He.getEntries(n,c).next(_=>(_.forEach((I,R)=>{R.isFoundDocument()&&(f=f.insert(I,R))}),f))}}class im{constructor(n,r,l,c){this.targetId=n,this.fromCache=r,this.Nn=l,this.xn=c}static kn(n,r){let l=hr(),c=hr();for(const f of r.docChanges)switch(f.type){case 0:l=l.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new im(n,r.fromCache,l,c)}}class ea{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,l,c){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||l.isEqual(rn.min())?this.Fn(n,r):this.On.Pn(n,c).next(f=>{const _=this.Mn(r,f);return(Wo(r)||Ja(r))&&this.Ln(r.limitType,_,c,l)?this.Fn(n,r):(fl()<=Ue.in.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),th(r)),this.On.getDocumentsMatchingQuery(n,r,l).next(I=>(_.forEach(R=>{I=I.insert(R.key,R)}),I)))});var f}Mn(n,r){let l=new ri(Hc(n));return r.forEach((c,f)=>{su(n,f)&&(l=l.add(f))}),l}Ln(n,r,l,c){if(l.size!==r.size)return!0;const f="F"===n?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Fn(n,r){return fl()<=Ue.in.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",th(r)),this.On.getDocumentsMatchingQuery(n,r,rn.min())}}class iE{constructor(n,r,l,c){this.persistence=n,this.Bn=r,this.N=c,this.Un=new ni(an),this.qn=new vu(f=>Qu(f),nu),this.Kn=rn.min(),this.In=n.getMutationQueue(l),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new X_(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function sm(o,n,r,l){return new iE(o,n,r,l)}function ev(o,n){return om.apply(this,arguments)}function om(){return(om=(0,Le.Z)(function*(o,n){const r=b(o);let l=r.In,c=r.Qn;const f=yield r.persistence.runTransaction("Handle user change","readonly",_=>{let I;return r.In.getAllMutationBatches(_).next(R=>(I=R,l=r.persistence.getMutationQueue(n),c=new X_(r.jn,l,r.persistence.getIndexManager()),l.getAllMutationBatches(_))).next(R=>{const H=[],W=[];let te=hr();for(const Ie of I){H.push(Ie.batchId);for(const qe of Ie.mutations)te=te.add(qe.key)}for(const Ie of R){W.push(Ie.batchId);for(const qe of Ie.mutations)te=te.add(qe.key)}return c.Pn(_,te).next(Ie=>({Wn:Ie,removedBatchIds:H,addedBatchIds:W}))})});return r.In=l,r.Qn=c,r.Bn.$n(r.Qn),f})).apply(this,arguments)}function sE(o,n){const r=b(o);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const c=n.batch.keys(),f=r.jn.newChangeBuffer({trackRemovals:!0});return function(_,I,R,H){const W=R.batch,te=W.keys();let Ie=ft.resolve();return te.forEach(qe=>{Ie=Ie.next(()=>H.getEntry(I,qe)).next(et=>{const pt=R.docVersions.get(qe);S(null!==pt),et.version.compareTo(pt)<0&&(W.applyToRemoteDocument(et,R),et.isValidDocument()&&H.addEntry(et,R.commitVersion))})}),Ie.next(()=>_.In.removeMutationBatch(I,W))}(r,l,n,f).next(()=>f.apply(l)).next(()=>r.In.performConsistencyCheck(l)).next(()=>r.Qn.Pn(l,c))})}function tv(o){const n=b(o);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function nv(o,n){const r=b(o),l=n.snapshotVersion;let c=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=r.jn.newChangeBuffer({trackRemovals:!0});c=r.Un;const I=[];n.targetChanges.forEach((H,W)=>{const te=c.get(W);if(!te)return;I.push(r.ze.removeMatchingKeys(f,H.removedDocuments,W).next(()=>r.ze.addMatchingKeys(f,H.addedDocuments,W)));const Ie=H.resumeToken;if(Ie.approximateByteSize()>0){const qe=te.withResumeToken(Ie,l).withSequenceNumber(f.currentSequenceNumber);c=c.insert(W,qe),et=te,Tt=H,S((pt=qe).resumeToken.approximateByteSize()>0),(0===et.resumeToken.approximateByteSize()||pt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=3e8||Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0)&&I.push(r.ze.updateTargetData(f,qe))}var et,pt,Tt});let R=eo();if(n.documentUpdates.forEach((H,W)=>{n.resolvedLimboDocuments.has(H)&&I.push(r.persistence.referenceDelegate.updateLimboDocument(f,H))}),I.push(rv(f,_,n.documentUpdates,l,void 0).next(H=>{R=H})),!l.isEqual(rn.min())){const H=r.ze.getLastRemoteSnapshotVersion(f).next(W=>r.ze.setTargetsMetadata(f,f.currentSequenceNumber,l));I.push(H)}return ft.waitFor(I).next(()=>_.apply(f)).next(()=>r.Qn.vn(f,R)).next(()=>R)}).then(f=>(r.Un=c,f))}function rv(o,n,r,l,c){let f=hr();return r.forEach(_=>f=f.add(_)),n.getEntries(o,f).next(_=>{let I=eo();return r.forEach((R,H)=>{const W=_.get(R),te=(null==c?void 0:c.get(R))||l;H.isNoDocument()&&H.version.isEqual(rn.min())?(n.removeEntry(R,te),I=I.insert(R,H)):!W.isValidDocument()||H.version.compareTo(W.version)>0||0===H.version.compareTo(W.version)&&W.hasPendingWrites?(n.addEntry(H,te),I=I.insert(R,H)):Et("LocalStore","Ignoring outdated watch update for ",R,". Current version:",W.version," Watch version:",H.version)}),I})}function oE(o,n){const r=b(o);return r.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(l,n)))}function cd(o,n){const r=b(o);return r.persistence.runTransaction("Allocate target","readwrite",l=>{let c;return r.ze.getTargetData(l,n).next(f=>f?(c=f,ft.resolve(c)):r.ze.allocateTargetId(l).next(_=>(c=new Ol(n,_,0,l.currentSequenceNumber),r.ze.addTargetData(l,c).next(()=>c))))}).then(l=>{const c=r.Un.get(l.targetId);return(null===c||l.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.Un=r.Un.insert(l.targetId,l),r.qn.set(n,l.targetId)),l})}function cn(o,n,r){return tp.apply(this,arguments)}function tp(){return(tp=(0,Le.Z)(function*(o,n,r){const l=b(o),c=l.Un.get(n),f=r?"readwrite":"readwrite-primary";try{r||(yield l.persistence.runTransaction("Release target",f,_=>l.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!us(_))throw _;Et("LocalStore",`Failed to update sequence numbers for target ${n}: ${_}`)}l.Un=l.Un.remove(n),l.qn.delete(c.target)})).apply(this,arguments)}function wh(o,n,r){const l=b(o);let c=rn.min(),f=hr();return l.persistence.runTransaction("Execute query","readonly",_=>function(I,R,H){const W=b(I),te=W.qn.get(H);return void 0!==te?ft.resolve(W.Un.get(te)):W.ze.getTargetData(R,H)}(l,_,Wi(n)).next(I=>{if(I)return c=I.lastLimboFreeSnapshotVersion,l.ze.getMatchingKeysForTargetId(_,I.targetId).next(R=>{f=R})}).next(()=>l.Bn.getDocumentsMatchingQuery(_,n,r?c:rn.min(),r?f:hr())).next(I=>({documents:I,Gn:f})))}function Eh(o,n){const r=b(o),l=b(r.ze),c=r.Un.get(n);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",f=>l.Et(f,n).next(_=>_?_.target:null))}function ta(o){const n=b(o);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(l,c,f){const _=b(l);let I=eo(),R=fh(f);const H=Ml(c),W=IDBKeyRange.lowerBound(R,!0);return H.Kt({index:Ye.readTimeIndex,range:W},(te,Ie)=>{const qe=Zf(_.N,Ie);I=I.insert(qe.key,qe),R=Ie.readTime}).next(()=>({Tn:I,readTime:Wf(R)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:l})=>(n.Kn=l,r))}function am(){return(am=(0,Le.Z)(function*(o){const n=b(o);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(l){const c=Ml(l);let f=rn.min();return c.Kt({index:Ye.readTimeIndex,reverse:!0},(_,I,R)=>{I.readTime&&(f=Wf(I.readTime)),R.done()}).next(()=>f)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Oa(){return(Oa=(0,Le.Z)(function*(o,n,r,l){const c=b(o);let f=hr(),_=eo(),I=tl();for(const W of r){const te=n.zn(W.metadata.name);W.document&&(f=f.add(te)),_=_.insert(te,n.Hn(W)),I=I.insert(te,n.Jn(W.metadata.readTime))}const R=c.jn.newChangeBuffer({trackRemovals:!0}),H=yield cd(c,(W=l,Wi(ec(sn.fromString(`__bundle__/docs/${W}`)))));var W;return c.persistence.runTransaction("Apply bundle documents","readwrite",W=>rv(W,R,_,rn.min(),I).next(te=>(R.apply(W),te)).next(te=>c.ze.removeMatchingKeysForTargetId(W,H.targetId).next(()=>c.ze.addMatchingKeys(W,f,H.targetId)).next(()=>c.Qn.vn(W,te)).next(()=>te)))})).apply(this,arguments)}function um(o,n){return np.apply(this,arguments)}function np(){return(np=(0,Le.Z)(function*(o,n,r=hr()){const l=yield cd(o,Wi(zg(n.bundledQuery))),c=b(o);return c.persistence.runTransaction("Save named query","readwrite",f=>{const _=ci(n.readTime);if(l.snapshotVersion.compareTo(_)>=0)return c.Je.saveNamedQuery(f,n);const I=l.withResumeToken(Ii.EMPTY_BYTE_STRING,_);return c.Un=c.Un.insert(I.targetId,I),c.ze.updateTargetData(f,I).next(()=>c.ze.removeMatchingKeysForTargetId(f,l.targetId)).next(()=>c.ze.addMatchingKeys(f,r,l.targetId)).next(()=>c.Je.saveNamedQuery(f,n))})})).apply(this,arguments)}class cm{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return ft.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var l;return this.Yn.set(r.id,{id:(l=r).id,version:l.version,createTime:ci(l.createTime)}),ft.resolve()}getNamedQuery(n,r){return ft.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(l=r).name,query:zg(l.bundledQuery),readTime:ci(l.readTime)}),ft.resolve();var l}}class sv{constructor(){this.Zn=new ri(Qi.ts),this.es=new ri(Qi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const l=new Qi(n,r);this.Zn=this.Zn.add(l),this.es=this.es.add(l)}ss(n,r){n.forEach(l=>this.addReference(l,r))}removeReference(n,r){this.rs(new Qi(n,r))}os(n,r){n.forEach(l=>this.removeReference(l,r))}cs(n){const r=new Lt(new sn([])),l=new Qi(r,n),c=new Qi(r,n+1),f=[];return this.es.forEachInRange([l,c],_=>{this.rs(_),f.push(_.key)}),f}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Lt(new sn([])),l=new Qi(r,n),c=new Qi(r,n+1);let f=hr();return this.es.forEachInRange([l,c],_=>{f=f.add(_.key)}),f}containsKey(n){const r=new Qi(n,0),l=this.Zn.firstAfterOrEqual(r);return null!==l&&n.isEqual(l.key)}}class Qi{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Lt.comparator(n.key,r.key)||an(n.ls,r.ls)}static ns(n,r){return an(n.ls,r.ls)||Lt.comparator(n.key,r.key)}}class fI{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new ri(Qi.ts)}checkEmpty(n){return ft.resolve(0===this.In.length)}addMutationBatch(n,r,l,c){const f=this.fs;this.fs++;const _=new hh(f,r,l,c);this.In.push(_);for(const I of c)this.ds=this.ds.add(new Qi(I.key,f)),this.Ht.addToCollectionParentIndex(n,I.key.path.popLast());return ft.resolve(_)}lookupMutationBatch(n,r){return ft.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const c=this._s(r+1),f=c<0?0:c;return ft.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return ft.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const l=new Qi(r,0),c=new Qi(r,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([l,c],_=>{const I=this.ws(_.ls);f.push(I)}),ft.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let l=new ri(an);return r.forEach(c=>{const f=new Qi(c,0),_=new Qi(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,_],I=>{l=l.add(I.ls)})}),ft.resolve(this.gs(l))}getAllMutationBatchesAffectingQuery(n,r){const l=r.path,c=l.length+1;let f=l;Lt.isDocumentKey(f)||(f=f.child(""));const _=new Qi(new Lt(f),0);let I=new ri(an);return this.ds.forEachWhile(R=>{const H=R.key.path;return!!l.isPrefixOf(H)&&(H.length===c&&(I=I.add(R.ls)),!0)},_),ft.resolve(this.gs(I))}gs(n){const r=[];return n.forEach(l=>{const c=this.ws(l);null!==c&&r.push(c)}),r}removeMutationBatch(n,r){S(0===this.ys(r.batchId,"removed")),this.In.shift();let l=this.ds;return ft.forEach(r.mutations,c=>{const f=new Qi(c.key,r.batchId);return l=l.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.ds=l})}te(n){}containsKey(n,r){const l=new Qi(r,0),c=this.ds.firstAfterOrEqual(l);return ft.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(n){return ft.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class Rl{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new ni(Lt.comparator),this.size=0}addEntry(n,r,l){const c=r.key,f=this.docs.get(c),_=f?f.size:0,I=this.ps(r);return this.docs=this.docs.insert(c,{document:r.clone(),size:I,readTime:l}),this.size+=I-_,this.Ht.addToCollectionParentIndex(n,c.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const l=this.docs.get(r);return ft.resolve(l?l.document.clone():qr.newInvalidDocument(r))}getEntries(n,r){let l=eo();return r.forEach(c=>{const f=this.docs.get(c);l=l.insert(c,f?f.document.clone():qr.newInvalidDocument(c))}),ft.resolve(l)}getDocumentsMatchingQuery(n,r,l){let c=eo();const f=new Lt(r.path.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:I,value:{document:R,readTime:H}}=_.getNext();if(!r.path.isPrefixOf(I.path))break;H.compareTo(l)<=0||su(r,R)&&(c=c.insert(R.key,R.clone()))}return ft.resolve(c)}Es(n,r){return ft.forEach(this.docs,l=>r(l))}newChangeBuffer(n){return new rp(this)}getSize(n){return ft.resolve(this.size)}}class rp extends em{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((l,c)=>{c.document.isValidDocument()?r.push(this.Se.addEntry(n,c.document,this.getReadTime(l))):this.Se.removeEntry(l)}),ft.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class ip{constructor(n){this.persistence=n,this.Ts=new vu(r=>Qu(r),nu),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.Is=0,this.As=new sv,this.targetCount=0,this.Rs=mu.se()}forEachTarget(n,r){return this.Ts.forEach((l,c)=>r(c)),ft.resolve()}getLastRemoteSnapshotVersion(n){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ft.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(n,r,l){return l&&(this.lastRemoteSnapshotVersion=l),r>this.Is&&(this.Is=r),ft.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new mu(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,ft.resolve()}updateTargetData(n,r){return this.ae(r),ft.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,ft.resolve()}removeTargets(n,r,l){let c=0;const f=[];return this.Ts.forEach((_,I)=>{I.sequenceNumber<=r&&null===l.get(I.targetId)&&(this.Ts.delete(_),f.push(this.removeMatchingKeysForTargetId(n,I.targetId)),c++)}),ft.waitFor(f).next(()=>c)}getTargetCount(n){return ft.resolve(this.targetCount)}getTargetData(n,r){const l=this.Ts.get(r)||null;return ft.resolve(l)}addMatchingKeys(n,r,l){return this.As.ss(r,l),ft.resolve()}removeMatchingKeys(n,r,l){this.As.os(r,l);const c=this.persistence.referenceDelegate,f=[];return c&&r.forEach(_=>{f.push(c.markPotentiallyOrphaned(n,_))}),ft.waitFor(f)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),ft.resolve()}getMatchingKeysForTargetId(n,r){const l=this.As.hs(r);return ft.resolve(l)}containsKey(n,r){return ft.resolve(this.As.containsKey(r))}}class dm{constructor(n,r){this.bs={},this.Le=new In(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new ip(this),this.Ht=new tE,this.He=new Rl(this.Ht,l=>this.referenceDelegate.Ps(l)),this.N=new ad(r),this.Je=new cm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new fI(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,l){Et("MemoryPersistence","Starting transaction:",n);const c=new pI(this.Le.next());return this.referenceDelegate.vs(),l(c).next(f=>this.referenceDelegate.Vs(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ss(n,r){return ft.or(Object.values(this.bs).map(l=>()=>l.containsKey(n,r)))}}class pI extends Gf{constructor(n){super(),this.currentSequenceNumber=n}}class hm{constructor(n){this.persistence=n,this.Ds=new sv,this.Cs=null}static Ns(n){return new hm(n)}get xs(){if(this.Cs)return this.Cs;throw Ft()}addReference(n,r,l){return this.Ds.addReference(l,r),this.xs.delete(l.toString()),ft.resolve()}removeReference(n,r,l){return this.Ds.removeReference(l,r),this.xs.add(l.toString()),ft.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),ft.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(c=>this.xs.add(c.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(n,r.targetId).next(c=>{c.forEach(f=>this.xs.add(f.toString()))}).next(()=>l.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.xs,l=>{const c=Lt.fromPath(l);return this.ks(n,c).next(f=>{f||r.removeEntry(c)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(l=>{l?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return ft.or([()=>ft.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function fm(o,n){return`firestore_clients_${o}_${n}`}function aE(o,n,r){let l=`firestore_mutations_${o}_${r}`;return n.isAuthenticated()&&(l+=`_${n.uid}`),l}function pm(o,n){return`firestore_targets_${o}_${n}`}class gm{constructor(n,r,l,c){this.user=n,this.batchId=r,this.state=l,this.error=c}static $s(n,r,l){const c=JSON.parse(l);let f,_="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(f=new F(c.error.code,c.error.message))),_?new gm(n,r,c.state,f):(Mr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${l}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class dd{constructor(n,r,l){this.targetId=n,this.state=r,this.error=l}static $s(n,r){const l=JSON.parse(r);let c,f="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return f&&l.error&&(f="string"==typeof l.error.message&&"string"==typeof l.error.code,f&&(c=new F(l.error.code,l.error.message))),f?new dd(n,l.state,c):(Mr("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class bh{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const l=JSON.parse(r);let c="object"==typeof l&&l.activeTargetIds instanceof Array,f=uu();for(let _=0;c&&_<l.activeTargetIds.length;++_)c=Zu(l.activeTargetIds[_]),f=f.add(l.activeTargetIds[_]);return c?new bh(n,f):(Mr("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class mm{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new mm(r.clientId,r.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Ch{constructor(){this.activeTargetIds=uu()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class ov{constructor(n,r,l,c,f){this.window=n,this.Oe=r,this.persistenceKey=l,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ni(an),this.started=!1,this.Ks=[];const _=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=fm(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Ch),this.Ws=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(I){return`firestore_bundle_loaded_${I}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Le.Z)(function*(){const r=yield n.syncEngine.pn();for(const c of r){if(c===n.Ls)continue;const f=n.getItem(fm(n.persistenceKey,c));if(f){const _=bh.$s(c,f);_&&(n.qs=n.qs.insert(_.clientId,_))}}n.Ys();const l=n.storage.getItem(n.Hs);if(l){const c=n.Xs(l);c&&n.Zs(c)}for(const c of n.Ks)n.Us(c);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((l,c)=>{c.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,l){this.ei(n,r,l),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const l=this.storage.getItem(pm(this.persistenceKey,n));if(l){const c=dd.$s(n,l);c&&(r=c.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(pm(this.persistenceKey,n))}updateQueryState(n,r,l){this.ii(n,r,l)}handleUserChange(n,r,l){r.forEach(c=>{this.ni(c)}),this.currentUser=n,l.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Et("SharedClientState","READ",n,r),r}setItem(n,r){Et("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Et("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const l=n;if(l.storageArea===this.storage){if(Et("SharedClientState","EVENT",l.key,l.newValue),l.key===this.js)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Le.Z)(function*(){if(r.started){if(null!==l.key)if(r.Ws.test(l.key)){if(null==l.newValue){const c=r.ai(l.key);return r.ci(c,null)}{const c=r.ui(l.key,l.newValue);if(c)return r.ci(c.clientId,c)}}else if(r.Gs.test(l.key)){if(null!==l.newValue){const c=r.hi(l.key,l.newValue);if(c)return r.li(c)}}else if(r.zs.test(l.key)){if(null!==l.newValue){const c=r.fi(l.key,l.newValue);if(c)return r.di(c)}}else if(l.key===r.Hs){if(null!==l.newValue){const c=r.Xs(l.newValue);if(c)return r.Zs(c)}}else if(l.key===r.Qs){const c=function(f){let _=In.T;if(null!=f)try{const I=JSON.parse(f);S("number"==typeof I),_=I}catch(I){Mr("SharedClientState","Failed to read sequence number from WebStorage",I)}return _}(l.newValue);c!==In.T&&r.sequenceNumberHandler(c)}else if(l.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(l)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,l){const c=new gm(this.currentUser,n,r,l),f=aE(this.persistenceKey,this.currentUser,n);this.setItem(f,c.Os())}ni(n){const r=aE(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,l){const c=pm(this.persistenceKey,n),f=new dd(n,r,l);this.setItem(c,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const l=this.ai(n);return bh.$s(l,r)}hi(n,r){const l=this.Gs.exec(n),c=Number(l[1]);return gm.$s(new ei(void 0!==l[2]?l[2]:null),c,r)}fi(n,r){const l=this.zs.exec(n),c=Number(l[1]);return dd.$s(c,r)}Xs(n){return mm.$s(n)}li(n){var r=this;return(0,Le.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Et("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const l=r?this.qs.insert(n,r):this.qs.remove(n),c=this.ti(this.qs),f=this.ti(l),_=[],I=[];return f.forEach(R=>{c.has(R)||_.push(R)}),c.forEach(R=>{f.has(R)||I.push(R)}),this.syncEngine.gi(_,I).then(()=>{this.qs=l})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=uu();return n.forEach((l,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class lE{constructor(){this.yi=new Ch,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,l){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,l){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new Ch,Promise.resolve()}handleUserChange(n,r,l){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class gI{Ei(n){}shutdown(){}}class uE{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class yI{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class _I extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,l,c){const f=this.Bi(n,r);Et("RestConnection","Sending: ",f,l);const _={};return this.Ui(_,c),this.qi(n,f,_,l).then(I=>(Et("RestConnection","Received: ",I),I),I=>{throw Ka("RestConnection",`${n} failed with error: `,I,"url: ",f,"request:",l),I})}Ki(n,r,l,c){return this.Li(n,r,l,c)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+ya,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const l in r.authHeaders)r.authHeaders.hasOwnProperty(l)&&(n[l]=r.authHeaders[l])}Bi(n,r){return`${this.Fi}/v1/${r}:${mI[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,l,c){return new Promise((f,_)=>{const I=new hl;I.listenOnce($o.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case Js.NO_ERROR:const H=I.getResponseJson();Et("Connection","XHR received:",JSON.stringify(H)),f(H);break;case Js.TIMEOUT:Et("Connection",'RPC "'+n+'" timed out'),_(new F(x.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:const W=I.getStatus();if(Et("Connection",'RPC "'+n+'" failed with status:',W,"response text:",I.getResponseText()),W>0){const te=I.getResponseJson().error;if(te&&te.status&&te.message){const Ie=function(qe){const et=qe.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(et)>=0?et:x.UNKNOWN}(te.status);_(new F(Ie,te.message))}else _(new F(x.UNKNOWN,"Server responded with status "+I.getStatus()))}else _(new F(x.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{Et("Connection",'RPC "'+n+'" completed.')}});const R=JSON.stringify(c);I.send(r,"POST",R,l,15)})}ji(n,r){const l=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],c=new pa,f=ts(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new ma({})),this.Ui(_.initMessageHeaders,r),(0,Se.uI)()||(0,Se.b$)()||(0,Se.d)()||(0,Se.w1)()||(0,Se.Mn)()||(0,Se.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");const I=l.join("");Et("Connection","Creating WebChannel: "+I,_);const R=c.createWebChannel(I,_);let H=!1,W=!1;const te=new yI({vi:qe=>{W?Et("Connection","Not sending because WebChannel is closed:",qe):(H||(Et("Connection","Opening WebChannel transport."),R.open(),H=!0),Et("Connection","WebChannel sending:",qe),R.send(qe))},Vi:()=>R.close()}),Ie=(qe,et,pt)=>{qe.listen(et,Tt=>{try{pt(Tt)}catch(dn){setTimeout(()=>{throw dn},0)}})};return Ie(R,Eo.EventType.OPEN,()=>{W||Et("Connection","WebChannel transport opened.")}),Ie(R,Eo.EventType.CLOSE,()=>{W||(W=!0,Et("Connection","WebChannel transport closed"),te.$i())}),Ie(R,Eo.EventType.ERROR,qe=>{W||(W=!0,Ka("Connection","WebChannel transport errored:",qe),te.$i(new F(x.UNAVAILABLE,"The operation could not be completed")))}),Ie(R,Eo.EventType.MESSAGE,qe=>{var et;if(!W){const pt=qe.data[0];S(!!pt);const Tt=pt,dn=Tt.error||(null===(et=Tt[0])||void 0===et?void 0:et.error);if(dn){Et("Connection","WebChannel received error:",dn);const Nn=dn.status;let Tn=function(tr){const js=_i[tr];if(void 0!==js)return Lf(js)}(Nn),Dn=dn.message;void 0===Tn&&(Tn=x.INTERNAL,Dn="Unknown error status: "+Nn+" with message "+dn.message),W=!0,te.$i(new F(Tn,Dn)),R.close()}else Et("Connection","WebChannel received:",pt),te.Oi(pt)}}),Ie(f,qu.STAT_EVENT,qe=>{qe.stat===qo_PROXY?Et("Connection","Detected buffering proxy"):qe.stat===qo_NOPROXY&&Et("Connection","Detected no buffering proxy")}),setTimeout(()=>{te.ki()},0),te}}function cE(){return"undefined"!=typeof window?window:null}function ym(){return"undefined"!=typeof document?document:null}function sp(o){return new jg(o,!0)}class av{constructor(n,r,l=1e3,c=1.5,f=6e4){this.Oe=n,this.timerId=r,this.Qi=l,this.Wi=c,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),l=Math.max(0,Date.now()-this.Ji),c=Math.max(0,r-l);c>0&&Et("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${l} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Pl{constructor(n,r,l,c,f,_){this.Oe=n,this.er=l,this.nr=c,this.credentialsProvider=f,this.listener=_,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new av(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,Le.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,Le.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var l=this;return(0,Le.Z)(function*(){l._r(),l.rr.cancel(),l.sr++,3!==n?l.rr.reset():r&&r.code===x.RESOURCE_EXHAUSTED?(Mr(r.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),l.rr.Yi()):r&&r.code===x.UNAUTHENTICATED&&l.credentialsProvider.invalidateToken(),null!==l.stream&&(l.mr(),l.stream.close(),l.stream=null),l.state=n,yield l.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(l=>{this.sr===r&&this.yr(l)},l=>{n(()=>{const c=new F(x.UNKNOWN,"Fetching auth token failed: "+l.message);return this.pr(c)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(l=>{r(()=>this.pr(l))}),this.stream.onMessage(l=>{r(()=>this.onMessage(l))})}ur(){var n=this;this.state=4,this.rr.Xi((0,Le.Z)(function*(){n.state=0,n.start()}))}pr(n){return Et("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _m extends Pl{constructor(n,r,l,c,f){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,l,f),this.N=c}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(o,n){let r;if("targetChange"in n){const l="NO_CHANGE"===(R=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===R?1:"REMOVE"===R?2:"CURRENT"===R?3:"RESET"===R?4:Ft(),c=n.targetChange.targetIds||[],f=function(R,H){return R.D?(S(void 0===H||"string"==typeof H),Ii.fromBase64String(H||"")):(S(void 0===H||H instanceof Uint8Array),Ii.fromUint8Array(H||new Uint8Array))}(o,n.targetChange.resumeToken),_=n.targetChange.cause,I=_&&function(R){const H=void 0===R.code?x.UNKNOWN:Lf(R.code);return new F(H,R.message||"")}(_);r=new Xc(l,c,f,I||null)}else if("documentChange"in n){const l=n.documentChange,c=Qo(o,l.document.name),f=ci(l.document.updateTime),_=new yi({mapValue:{fields:l.document.fields}}),I=qr.newFoundDocument(c,f,_);r=new cu(l.targetIds||[],l.removedTargetIds||[],I.key,I)}else if("documentDelete"in n){const l=n.documentDelete,c=Qo(o,l.document),f=l.readTime?ci(l.readTime):rn.min(),_=qr.newNoDocument(c,f);r=new cu([],l.removedTargetIds||[],_.key,_)}else if("documentRemove"in n){const l=n.documentRemove,c=Qo(o,l.document);r=new cu([],l.removedTargetIds||[],c,null)}else{if(!("filter"in n))return Ft();{const l=n.filter,f=new Vg(l.count||0);r=new rc(l.targetId,f)}}var R;return r}(this.N,n),l=function(c){if(!("targetChange"in c))return rn.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?rn.min():f.readTime?ci(f.readTime):rn.min()}(n);return this.listener.Tr(r,l)}Ir(n){const r={};r.database=Aa(this.N),r.addTarget=function(c,f){let _;const I=f.target;return _=Fc(I)?{documents:ac(c,I)}:{query:oh(c,I)},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?_.resumeToken=sc(c,f.resumeToken):f.snapshotVersion.compareTo(rn.min())>0&&(_.readTime=du(c,f.snapshotVersion.toTimestamp())),_}(this.N,n);const l=function(o,n){const r=function(l,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ft()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);l&&(r.labels=l),this.wr(r)}Ar(n){const r={};r.database=Aa(this.N),r.removeTarget=n,this.wr(r)}}class dE extends Pl{constructor(n,r,l,c,f){super(n,"write_stream_connection_backoff","write_stream_idle",r,l,f),this.N=c,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(S(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(o,n){return o&&o.length>0?(S(void 0!==n),o.map(r=>function(l,c){let f=ci(l.updateTime?l.updateTime:c);return f.isEqual(rn.min())&&(f=ci(c)),new Of(f,l.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),l=ci(n.commitTime);return this.listener.vr(l,r)}return S(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Aa(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(l=>td(this.N,l))};this.wr(r)}}class lv extends class{}{constructor(n,r,l){super(),this.credentials=n,this.nr=r,this.N=l,this.Dr=!1}Cr(){if(this.Dr)throw new F(x.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,l){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(n,r,l,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===x.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new F(x.UNKNOWN,c.toString())})}Ki(n,r,l){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(n,r,l,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===x.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new F(x.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class vm{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Mr(r),this.$r=!1):Et("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class uv{constructor(n,r,l,c,f){var _=this;this.localStore=n,this.datastore=r,this.asyncQueue=l,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(I=>{l.enqueueAndForget((0,Le.Z)(function*(){var R;wu(_)&&(Et("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,Le.Z)(function*(H){const W=b(H);W.Kr.add(4),yield Do(W),W.Wr.set("Unknown"),W.Kr.delete(4),yield fc(W)}),function(H){return R.apply(this,arguments)})(_))}))}),this.Wr=new vm(l,c)}}function fc(o){return wm.apply(this,arguments)}function wm(){return(wm=(0,Le.Z)(function*(o){if(wu(o))for(const n of o.jr)yield n(!0)})).apply(this,arguments)}function Do(o){return op.apply(this,arguments)}function op(){return(op=(0,Le.Z)(function*(o){for(const n of o.jr)yield n(!1)})).apply(this,arguments)}function ap(o,n){const r=b(o);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),Em(r)?up(r):Ah(r).cr()&&Ih(r,n))}function lp(o,n){const r=b(o),l=Ah(r);r.qr.delete(n),l.cr()&&cv(r,n),0===r.qr.size&&(l.cr()?l.lr():wu(r)&&r.Wr.set("Unknown"))}function Ih(o,n){o.Gr.Y(n.targetId),Ah(o).Ir(n)}function cv(o,n){o.Gr.Y(n),Ah(o).Ar(n)}function up(o){o.Gr=new H_({getRemoteKeysForTarget:n=>o.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>o.qr.get(n)||null}),Ah(o).start(),o.Wr.Or()}function Em(o){return wu(o)&&!Ah(o).ar()&&o.qr.size>0}function wu(o){return 0===b(o).Kr.size}function hd(o){o.Gr=void 0}function fd(o){return Th.apply(this,arguments)}function Th(){return(Th=(0,Le.Z)(function*(o){o.qr.forEach((n,r)=>{Ih(o,n)})})).apply(this,arguments)}function pd(o,n){return pc.apply(this,arguments)}function pc(){return(pc=(0,Le.Z)(function*(o,n){hd(o),Em(o)?(o.Wr.Lr(n),up(o)):o.Wr.set("Unknown")})).apply(this,arguments)}function gd(o,n,r){return bm.apply(this,arguments)}function bm(){return(bm=(0,Le.Z)(function*(o,n,r){if(o.Wr.set("Online"),n instanceof Xc&&2===n.state&&n.cause)try{yield(l=(0,Le.Z)(function*(c,f){const _=f.cause;for(const I of f.targetIds)c.qr.has(I)&&(yield c.remoteSyncer.rejectListen(I,_),c.qr.delete(I),c.Gr.removeTarget(I))}),function(c,f){return l.apply(this,arguments)})(o,n)}catch(l){Et("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),l),yield Dh(o,l)}else if(n instanceof cu?o.Gr.rt(n):n instanceof rc?o.Gr.ft(n):o.Gr.ct(n),!r.isEqual(rn.min()))try{const l=yield tv(o.localStore);r.compareTo(l)>=0&&(yield function(c,f){const _=c.Gr._t(f);return _.targetChanges.forEach((I,R)=>{if(I.resumeToken.approximateByteSize()>0){const H=c.qr.get(R);H&&c.qr.set(R,H.withResumeToken(I.resumeToken,f))}}),_.targetMismatches.forEach(I=>{const R=c.qr.get(I);if(!R)return;c.qr.set(I,R.withResumeToken(Ii.EMPTY_BYTE_STRING,R.snapshotVersion)),cv(c,I);const H=new Ol(R.target,I,1,R.sequenceNumber);Ih(c,H)}),c.remoteSyncer.applyRemoteEvent(_)}(o,r))}catch(l){Et("RemoteStore","Failed to raise snapshot:",l),yield Dh(o,l)}var l})).apply(this,arguments)}function Dh(o,n,r){return cp.apply(this,arguments)}function cp(){return(cp=(0,Le.Z)(function*(o,n,r){if(!us(n))throw n;o.Kr.add(1),yield Do(o),o.Wr.set("Offline"),r||(r=()=>tv(o.localStore)),o.asyncQueue.enqueueRetryable((0,Le.Z)(function*(){Et("RemoteStore","Retrying IndexedDB access"),yield r(),o.Kr.delete(1),yield fc(o)}))})).apply(this,arguments)}function dp(o,n){return n().catch(r=>Dh(o,r,n))}function Eu(o){return hp.apply(this,arguments)}function hp(){return(hp=(0,Le.Z)(function*(o){const n=b(o),r=kl(n);let l=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;fp(n);)try{const c=yield oE(n.localStore,l);if(null===c){0===n.Ur.length&&r.lr();break}l=c.batchId,hE(n,c)}catch(c){yield Dh(n,c)}Cm(n)&&fE(n)})).apply(this,arguments)}function fp(o){return wu(o)&&o.Ur.length<10}function hE(o,n){o.Ur.push(n);const r=kl(o);r.cr()&&r.br&&r.Pr(n.mutations)}function Cm(o){return wu(o)&&!kl(o).ar()&&o.Ur.length>0}function fE(o){kl(o).start()}function dv(o){return pp.apply(this,arguments)}function pp(){return(pp=(0,Le.Z)(function*(o){kl(o).Sr()})).apply(this,arguments)}function pE(o){return gp.apply(this,arguments)}function gp(){return(gp=(0,Le.Z)(function*(o){const n=kl(o);for(const r of o.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function gE(o,n,r){return Im.apply(this,arguments)}function Im(){return(Im=(0,Le.Z)(function*(o,n,r){const l=o.Ur.shift(),c=$g.from(l,n,r);yield dp(o,()=>o.remoteSyncer.applySuccessfulWrite(c)),yield Eu(o)})).apply(this,arguments)}function Ao(o,n){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,Le.Z)(function*(o,n){var r;n&&kl(o).br&&(yield(r=(0,Le.Z)(function*(l,c){if(Ff(f=c.code)&&f!==x.ABORTED){const _=l.Ur.shift();kl(l).hr(),yield dp(l,()=>l.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield Eu(l)}var f}),function(l,c){return r.apply(this,arguments)})(o,n)),Cm(o)&&fE(o)})).apply(this,arguments)}function Dm(o,n){return hv.apply(this,arguments)}function hv(){return(hv=(0,Le.Z)(function*(o,n){const r=b(o);n?(r.Kr.delete(2),yield fc(r)):n||(r.Kr.add(2),yield Do(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function Ah(o){return o.zr||(o.zr=function(n,r,l){const c=b(n);return c.Cr(),new _m(r,c.nr,c.credentials,c.N,l)}(o.datastore,o.asyncQueue,{Si:fd.bind(null,o),Ci:pd.bind(null,o),Tr:gd.bind(null,o)}),o.jr.push(function(){var n=(0,Le.Z)(function*(r){r?(o.zr.hr(),Em(o)?up(o):o.Wr.set("Unknown")):(yield o.zr.stop(),hd(o))});return function(r){return n.apply(this,arguments)}}())),o.zr}function kl(o){return o.Hr||(o.Hr=function(n,r,l){const c=b(n);return c.Cr(),new dE(r,c.nr,c.credentials,c.N,l)}(o.datastore,o.asyncQueue,{Si:dv.bind(null,o),Ci:Ao.bind(null,o),Vr:pE.bind(null,o),vr:gE.bind(null,o)}),o.jr.push(function(){var n=(0,Le.Z)(function*(r){r?(o.Hr.hr(),yield Eu(o)):(yield o.Hr.stop(),o.Ur.length>0&&(Et("RemoteStore",`Stopping write stream with ${o.Ur.length} pending writes`),o.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),o.Hr}class fv{constructor(n,r,l,c,f){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=l,this.op=c,this.removalCallback=f,this.deferred=new z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(n,r,l,c,f){const _=Date.now()+l,I=new fv(n,r,_,c,f);return I.start(l),I}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(x.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function md(o,n){if(Mr("AsyncQueue",`${n}: ${o}`),us(o))return new F(x.UNAVAILABLE,`${n}: ${o}`);throw o}class bu{constructor(n){this.comparator=n?(r,l)=>n(r,l)||Lt.comparator(r.key,l.key):(r,l)=>Lt.comparator(r.key,l.key),this.keyedMap=Kc(),this.sortedSet=new ni(this.comparator)}static emptySet(n){return new bu(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,l)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof bu)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),l=n.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,f=l.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const l=new bu;return l.comparator=this.comparator,l.keyedMap=n,l.sortedSet=r,l}}class Am{constructor(){this.Jr=new ni(Lt.comparator)}track(n){const r=n.doc.key,l=this.Jr.get(r);l?0!==n.type&&3===l.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==l.type?this.Jr=this.Jr.insert(r,{type:l.type,doc:n.doc}):2===n.type&&2===l.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===l.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===l.type?this.Jr=this.Jr.remove(r):1===n.type&&2===l.type?this.Jr=this.Jr.insert(r,{type:1,doc:l.doc}):0===n.type&&1===l.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Ft():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,l)=>{n.push(l)}),n}}class yd{constructor(n,r,l,c,f,_,I,R){this.query=n,this.docs=r,this.oldDocs=l,this.docChanges=c,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=I,this.excludesMetadataChanges=R}static fromInitialDocuments(n,r,l,c){const f=[];return r.forEach(_=>{f.push({type:0,doc:_})}),new yd(n,r,bu.emptySet(r),f,l,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Ca(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,l=n.docChanges;if(r.length!==l.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==l[c].type||!r[c].doc.isEqual(l[c].doc))return!1;return!0}}class mE{constructor(){this.Xr=void 0,this.listeners=[]}}class yE{constructor(){this.queries=new vu(n=>Ia(n),Ca),this.onlineState="Unknown",this.Zr=new Set}}function mp(o,n){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,Le.Z)(function*(o,n){const r=b(o),l=n.query;let c=!1,f=r.queries.get(l);if(f||(c=!0,f=new mE),c)try{f.Xr=yield r.onListen(l)}catch(_){const I=md(_,`Initialization of query '${th(n.query)}' failed`);return void n.onError(I)}r.queries.set(l,f),f.listeners.push(n),n.eo(r.onlineState),f.Xr&&n.no(f.Xr)&&_p(r)})).apply(this,arguments)}function yp(o,n){return xm.apply(this,arguments)}function xm(){return(xm=(0,Le.Z)(function*(o,n){const r=b(o),l=n.query;let c=!1;const f=r.queries.get(l);if(f){const _=f.listeners.indexOf(n);_>=0&&(f.listeners.splice(_,1),c=0===f.listeners.length)}if(c)return r.queries.delete(l),r.onUnlisten(l)})).apply(this,arguments)}function _E(o,n){const r=b(o);let l=!1;for(const c of n){const _=r.queries.get(c.query);if(_){for(const I of _.listeners)I.no(c)&&(l=!0);_.Xr=c}}l&&_p(r)}function pv(o,n,r){const l=b(o),c=l.queries.get(n);if(c)for(const f of c.listeners)f.onError(r);l.queries.delete(n)}function _p(o){o.Zr.forEach(n=>{n.next()})}class Om{constructor(n,r,l){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=l||{}}no(n){if(!this.options.includeMetadataChanges){const l=[];for(const c of n.docChanges)3!==c.type&&l.push(c);n=new yd(n.query,n.docs,n.oldDocs,l,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=yd.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class nl{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class vp{constructor(n){this.N=n}zn(n){return Qo(this.N,n)}Hn(n){return n.metadata.exists?ed(this.N,n.document,!1):qr.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return ci(n)}}class vE{constructor(n,r,l){this.lo=n,this.localStore=r,this.N=l,this.queries=[],this.documents=[],this.progress=gv(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,l=new vp(this.N);for(const c of n)if(c.metadata.queries){const f=l.zn(c.metadata.name);for(const _ of c.metadata.queries){const I=(r.get(_)||hr()).add(f);r.set(_,I)}}return r}complete(){var n=this;return(0,Le.Z)(function*(){const r=yield function(o,n,r,l){return Oa.apply(this,arguments)}(n.localStore,new vp(n.N),n.documents,n.lo.id),l=n.wo(n.documents);for(const c of n.queries)yield um(n.localStore,c,l.get(c.name));return n.progress.taskState="Success",new J_(Object.assign({},n.progress),r)})()}}function gv(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class wE{constructor(n){this.key=n}}class Nm{constructor(n){this.key=n}}class mv{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=hr(),this.mutatedKeys=hr(),this.po=Hc(n),this.Eo=new bu(this.po)}get To(){return this._o}Io(n,r){const l=r?r.Ao:new Am,c=r?r.Eo:this.Eo;let f=r?r.mutatedKeys:this.mutatedKeys,_=c,I=!1;const R=Wo(this.query)&&c.size===this.query.limit?c.last():null,H=Ja(this.query)&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((W,te)=>{const Ie=c.get(W),qe=su(this.query,te)?te:null,et=!!Ie&&this.mutatedKeys.has(Ie.key),pt=!!qe&&(qe.hasLocalMutations||this.mutatedKeys.has(qe.key)&&qe.hasCommittedMutations);let Tt=!1;Ie&&qe?Ie.data.isEqual(qe.data)?et!==pt&&(l.track({type:3,doc:qe}),Tt=!0):this.Ro(Ie,qe)||(l.track({type:2,doc:qe}),Tt=!0,(R&&this.po(qe,R)>0||H&&this.po(qe,H)<0)&&(I=!0)):!Ie&&qe?(l.track({type:0,doc:qe}),Tt=!0):Ie&&!qe&&(l.track({type:1,doc:Ie}),Tt=!0,(R||H)&&(I=!0)),Tt&&(qe?(_=_.add(qe),f=pt?f.add(W):f.delete(W)):(_=_.delete(W),f=f.delete(W)))}),Wo(this.query)||Ja(this.query))for(;_.size>this.query.limit;){const W=Wo(this.query)?_.last():_.first();_=_.delete(W.key),f=f.delete(W.key),l.track({type:1,doc:W})}return{Eo:_,Ao:l,Ln:I,mutatedKeys:f}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,l){const c=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const f=n.Ao.Yr();f.sort((H,W)=>function(te,Ie){const qe=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return qe(te)-qe(Ie)}(H.type,W.type)||this.po(H.doc,W.doc)),this.bo(l);const _=r?this.Po():[],I=0===this.yo.size&&this.current?1:0,R=I!==this.mo;return this.mo=I,0!==f.length||R?{snapshot:new yd(this.query,n.Eo,c,f,n.mutatedKeys,0===I,R,!1),vo:_}:{vo:_}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Am,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=hr(),this.Eo.forEach(l=>{this.Vo(l.key)&&(this.yo=this.yo.add(l.key))});const r=[];return n.forEach(l=>{this.yo.has(l)||r.push(new Nm(l))}),this.yo.forEach(l=>{n.has(l)||r.push(new wE(l))}),r}So(n){this._o=n.Gn,this.yo=hr();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return yd.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class EE{constructor(n,r,l){this.query=n,this.targetId=r,this.view=l}}class bE{constructor(n){this.key=n,this.Co=!1}}class Mm{constructor(n,r,l,c,f,_){this.localStore=n,this.remoteStore=r,this.eventManager=l,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.No={},this.xo=new vu(I=>Ia(I),Ca),this.ko=new Map,this.$o=new Set,this.Oo=new ni(Lt.comparator),this.Fo=new Map,this.Mo=new sv,this.Lo={},this.Bo=new Map,this.Uo=mu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function CE(o,n){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,Le.Z)(function*(o,n){const r=Gm(o);let l,c;const f=r.xo.get(n);if(f)l=f.targetId,r.sharedClientState.addLocalQueryTarget(l),c=f.view.Do();else{const _=yield cd(r.localStore,Wi(n)),I=r.sharedClientState.addLocalQueryTarget(_.targetId);l=_.targetId,c=yield _d(r,n,l,"current"===I),r.isPrimaryClient&&ap(r.remoteStore,_)}return c})).apply(this,arguments)}function _d(o,n,r,l){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,Le.Z)(function*(o,n,r,l){o.Ko=(W,te,Ie)=>{return(qe=(0,Le.Z)(function*(et,pt,Tt,dn){let Nn=pt.view.Io(Tt);Nn.Ln&&(Nn=yield wh(et.localStore,pt.query,!1).then(({documents:tr})=>pt.view.Io(tr,Nn)));const Tn=dn&&dn.targetChanges.get(pt.targetId),Dn=pt.view.applyChanges(Nn,et.isPrimaryClient,Tn);return Cu(et,pt.targetId,Dn.vo),Dn.snapshot}),function(et,pt,Tt,dn){return qe.apply(this,arguments)})(o,W,te,Ie);var qe};const c=yield wh(o.localStore,n,!0),f=new mv(n,c.Gn),_=f.Io(c.documents),I=Jc.createSynthesizedTargetChangeForCurrentChange(r,l&&"Offline"!==o.onlineState),R=f.applyChanges(_,o.isPrimaryClient,I);Cu(o,r,R.vo);const H=new EE(n,r,f);return o.xo.set(n,H),o.ko.has(r)?o.ko.get(r).push(n):o.ko.set(r,[n]),R.snapshot})).apply(this,arguments)}function IE(o,n){return xh.apply(this,arguments)}function xh(){return(xh=(0,Le.Z)(function*(o,n){const r=b(o),l=r.xo.get(n),c=r.ko.get(l.targetId);if(c.length>1)return r.ko.set(l.targetId,c.filter(f=>!Ca(f,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||(yield cn(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),lp(r.remoteStore,l.targetId),wd(r,l.targetId)}).catch(_u))):(wd(r,l.targetId),yield cn(r.localStore,l.targetId,!0))})).apply(this,arguments)}function wp(){return(wp=(0,Le.Z)(function*(o,n,r){const l=Ap(o);try{const c=yield function(f,_){const I=b(f),R=er.now(),H=_.reduce((te,Ie)=>te.add(Ie.key),hr());let W;return I.persistence.runTransaction("Locally write mutations","readwrite",te=>I.Qn.Pn(te,H).next(Ie=>{W=Ie;const qe=[];for(const et of _){const pt=Mf(et,W.get(et.key));null!=pt&&qe.push(new Ps(et.key,pt,wa(pt.value.mapValue),Si.exists(!0)))}return I.In.addMutationBatch(te,R,qe,_)})).then(te=>(te.applyToLocalDocumentSet(W),{batchId:te.batchId,changes:W}))}(l.localStore,n);l.sharedClientState.addPendingMutation(c.batchId),function(f,_,I){let R=f.Lo[f.currentUser.toKey()];R||(R=new ni(an)),R=R.insert(_,I),f.Lo[f.currentUser.toKey()]=R}(l,c.batchId,r),yield So(l,c.changes),yield Eu(l.remoteStore)}catch(c){const f=md(c,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function yv(o,n){return km.apply(this,arguments)}function km(){return(km=(0,Le.Z)(function*(o,n){const r=b(o);try{const l=yield nv(r.localStore,n);n.targetChanges.forEach((c,f)=>{const _=r.Fo.get(f);_&&(S(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.Co=!0:c.modifiedDocuments.size>0?S(_.Co):c.removedDocuments.size>0&&(S(_.Co),_.Co=!1))}),yield So(r,l,n)}catch(l){yield _u(l)}})).apply(this,arguments)}function Ep(o,n,r){const l=b(o);if(l.isPrimaryClient&&0===r||!l.isPrimaryClient&&1===r){const c=[];l.xo.forEach((f,_)=>{const I=_.view.eo(n);I.snapshot&&c.push(I.snapshot)}),function(f,_){const I=b(f);I.onlineState=_;let R=!1;I.queries.forEach((H,W)=>{for(const te of W.listeners)te.eo(_)&&(R=!0)}),R&&_p(I)}(l.eventManager,n),c.length&&l.No.Tr(c),l.onlineState=n,l.isPrimaryClient&&l.sharedClientState.setOnlineState(n)}}function vI(o,n,r){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,Le.Z)(function*(o,n,r){const l=b(o);l.sharedClientState.updateQueryState(n,"rejected",r);const c=l.Fo.get(n),f=c&&c.key;if(f){let _=new ni(Lt.comparator);_=_.insert(f,qr.newNoDocument(f,rn.min()));const I=hr().add(f),R=new Qc(rn.min(),new Map,new ri(an),_,I);yield yv(l,R),l.Oo=l.Oo.remove(f),l.Fo.delete(n),gc(l)}else yield cn(l.localStore,n,!1).then(()=>wd(l,n,r)).catch(_u)})).apply(this,arguments)}function _v(o,n){return bp.apply(this,arguments)}function bp(){return(bp=(0,Le.Z)(function*(o,n){const r=b(o),l=n.batch.batchId;try{const c=yield sE(r.localStore,n);Lm(r,l,null),vd(r,l),r.sharedClientState.updateMutationState(l,"acknowledged"),yield So(r,c)}catch(c){yield _u(c)}})).apply(this,arguments)}function vv(o,n,r){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,Le.Z)(function*(o,n,r){const l=b(o);try{const c=yield function(f,_){const I=b(f);return I.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let H;return I.In.lookupMutationBatch(R,_).next(W=>(S(null!==W),H=W.keys(),I.In.removeMutationBatch(R,W))).next(()=>I.In.performConsistencyCheck(R)).next(()=>I.Qn.Pn(R,H))})}(l.localStore,n);Lm(l,n,r),vd(l,n),l.sharedClientState.updateMutationState(n,"rejected",r),yield So(l,c)}catch(c){yield _u(c)}})).apply(this,arguments)}function Na(){return(Na=(0,Le.Z)(function*(o,n){const r=b(o);wu(r.remoteStore)||Et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(f){const _=b(f);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",I=>_.In.getHighestUnacknowledgedBatchId(I))}(r.localStore);if(-1===l)return void n.resolve();const c=r.Bo.get(l)||[];c.push(n),r.Bo.set(l,c)}catch(l){const c=md(l,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}})).apply(this,arguments)}function vd(o,n){(o.Bo.get(n)||[]).forEach(r=>{r.resolve()}),o.Bo.delete(n)}function Lm(o,n,r){const l=b(o);let c=l.Lo[l.currentUser.toKey()];if(c){const f=c.get(n);f&&(r?f.reject(r):f.resolve(),c=c.remove(n)),l.Lo[l.currentUser.toKey()]=c}}function wd(o,n,r=null){o.sharedClientState.removeLocalQueryTarget(n);for(const l of o.ko.get(n))o.xo.delete(l),r&&o.No.jo(l,r);o.ko.delete(n),o.isPrimaryClient&&o.Mo.cs(n).forEach(l=>{o.Mo.containsKey(l)||TE(o,l)})}function TE(o,n){o.$o.delete(n.path.canonicalString());const r=o.Oo.get(n);null!==r&&(lp(o.remoteStore,r),o.Oo=o.Oo.remove(n),o.Fo.delete(r),gc(o))}function Cu(o,n,r){for(const l of r)l instanceof wE?(o.Mo.addReference(l.key,n),Ev(o,l)):l instanceof Nm?(Et("SyncEngine","Document no longer in limbo: "+l.key),o.Mo.removeReference(l.key,n),o.Mo.containsKey(l.key)||TE(o,l.key)):Ft()}function Ev(o,n){const r=n.key,l=r.path.canonicalString();o.Oo.get(r)||o.$o.has(l)||(Et("SyncEngine","New document in limbo: "+r),o.$o.add(l),gc(o))}function gc(o){for(;o.$o.size>0&&o.Oo.size<o.maxConcurrentLimboResolutions;){const n=o.$o.values().next().value;o.$o.delete(n);const r=new Lt(sn.fromString(n)),l=o.Uo.next();o.Fo.set(l,new bE(r)),o.Oo=o.Oo.insert(r,l),ap(o.remoteStore,new Ol(Wi(ec(r.path)),l,2,In.T))}}function So(o,n,r){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,Le.Z)(function*(o,n,r){const l=b(o),c=[],f=[],_=[];var I;l.xo.isEmpty()||(l.xo.forEach((I,R)=>{_.push(l.Ko(R,n,r).then(H=>{if(H){l.isPrimaryClient&&l.sharedClientState.updateQueryState(R.targetId,H.fromCache?"not-current":"current"),c.push(H);const W=im.kn(R.targetId,H);f.push(W)}}))}),yield Promise.all(_),l.No.Tr(c),yield(I=(0,Le.Z)(function*(R,H){const W=b(R);try{yield W.persistence.runTransaction("notifyLocalViewChanges","readwrite",te=>ft.forEach(H,Ie=>ft.forEach(Ie.Nn,qe=>W.persistence.referenceDelegate.addReference(te,Ie.targetId,qe)).next(()=>ft.forEach(Ie.xn,qe=>W.persistence.referenceDelegate.removeReference(te,Ie.targetId,qe)))))}catch(te){if(!us(te))throw te;Et("LocalStore","Failed to update sequence numbers: "+te)}for(const te of H){const Ie=te.targetId;if(!te.fromCache){const qe=W.Un.get(Ie),pt=qe.withLastLimboFreeSnapshotVersion(qe.snapshotVersion);W.Un=W.Un.insert(Ie,pt)}}}),function(R,H){return I.apply(this,arguments)})(l.localStore,f))})).apply(this,arguments)}function Um(o,n){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,Le.Z)(function*(o,n){const r=b(o);if(!r.currentUser.isEqual(n)){Et("SyncEngine","User change. New user:",n.toKey());const l=yield ev(r.localStore,n);r.currentUser=n,(c=r).Bo.forEach(_=>{_.forEach(I=>{I.reject(new F(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),r.sharedClientState.handleUserChange(n,l.removedBatchIds,l.addedBatchIds),yield So(r,l.Wn)}var c})).apply(this,arguments)}function DE(o,n){const r=b(o),l=r.Fo.get(n);if(l&&l.Co)return hr().add(l.key);{let c=hr();const f=r.ko.get(n);if(!f)return c;for(const _ of f){const I=r.xo.get(_);c=c.unionWith(I.view.To)}return c}}function bv(o,n){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,Le.Z)(function*(o,n){const r=b(o),l=yield wh(r.localStore,n.query,!0),c=n.view.So(l);return r.isPrimaryClient&&Cu(r,n.targetId,c.vo),c})).apply(this,arguments)}function jm(o){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,Le.Z)(function*(o){const n=b(o);return ta(n.localStore).then(r=>So(n,r))})).apply(this,arguments)}function AE(o,n,r,l){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,Le.Z)(function*(o,n,r,l){const c=b(o),f=yield function(_,I){const R=b(_),H=b(R.In);return R.persistence.runTransaction("Lookup mutation documents","readonly",W=>H.Xt(W,I).next(te=>te?R.Qn.Pn(W,te):ft.resolve(null)))}(c.localStore,n);var I;null!==f?("pending"===r?yield Eu(c.remoteStore):"acknowledged"===r||"rejected"===r?(Lm(c,n,l||null),vd(c,n),I=n,b(b(c.localStore).In).te(I)):Ft(),yield So(c,f)):Et("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Dp(){return(Dp=(0,Le.Z)(function*(o,n){const r=b(o);if(Gm(r),Ap(r),!0===n&&!0!==r.qo){const l=r.sharedClientState.getAllActiveQueryTargets(),c=yield Cv(r,l.toArray());r.qo=!0,yield Dm(r.remoteStore,!0);for(const f of c)ap(r.remoteStore,f)}else if(!1===n&&!1!==r.qo){const l=[];let c=Promise.resolve();r.ko.forEach((f,_)=>{r.sharedClientState.isLocalQueryTarget(_)?l.push(_):c=c.then(()=>(wd(r,_),cn(r.localStore,_,!0))),lp(r.remoteStore,_)}),yield c,yield Cv(r,l),function(f){const _=b(f);_.Fo.forEach((I,R)=>{lp(_.remoteStore,R)}),_.Mo.us(),_.Fo=new Map,_.Oo=new ni(Lt.comparator)}(r),r.qo=!1,yield Dm(r.remoteStore,!1)}})).apply(this,arguments)}function Cv(o,n,r){return $m.apply(this,arguments)}function $m(){return($m=(0,Le.Z)(function*(o,n,r){const l=b(o),c=[],f=[];for(const _ of n){let I;const R=l.ko.get(_);if(R&&0!==R.length){I=yield cd(l.localStore,Wi(R[0]));for(const H of R){const W=l.xo.get(H),te=yield bv(l,W);te.snapshot&&f.push(te.snapshot)}}else{const H=yield Eh(l.localStore,_);I=yield cd(l.localStore,H),yield _d(l,mc(H),_,!1)}c.push(I)}return l.No.Tr(f),c})).apply(this,arguments)}function mc(o){return Xu(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function SE(o){const n=b(o);return b(b(n.localStore).persistence).pn()}function xE(o,n,r,l){return qm.apply(this,arguments)}function qm(){return(qm=(0,Le.Z)(function*(o,n,r,l){const c=b(o);if(c.qo)Et("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(n))switch(r){case"current":case"not-current":{const f=yield ta(c.localStore),_=Qc.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield So(c,f,_);break}case"rejected":yield cn(c.localStore,n,!0),wd(c,n,l);break;default:Ft()}})).apply(this,arguments)}function OE(o,n,r){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,Le.Z)(function*(o,n,r){const l=Gm(o);if(l.qo){for(const c of n){if(l.ko.has(c)){Et("SyncEngine","Adding an already active target "+c);continue}const f=yield Eh(l.localStore,c),_=yield cd(l.localStore,f);yield _d(l,mc(f),_.targetId,!1),ap(l.remoteStore,_)}for(const c of r)l.ko.has(c)&&(yield cn(l.localStore,c,!1).then(()=>{lp(l.remoteStore,c),wd(l,c)}).catch(_u))}})).apply(this,arguments)}function Gm(o){const n=b(o);return n.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=DE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=vI.bind(null,n),n.No.Tr=_E.bind(null,n.eventManager),n.No.jo=pv.bind(null,n.eventManager),n}function Ap(o){const n=b(o);return n.remoteStore.remoteSyncer.applySuccessfulWrite=_v.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=vv.bind(null,n),n}class Sp{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,Le.Z)(function*(){r.N=sp(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return sm(this.persistence,new ea,n.initialUser,this.N)}Go(n){return new dm(hm.Ns,this.N)}Wo(n){return new lE}terminate(){var n=this;return(0,Le.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class NE extends Sp{constructor(n,r,l){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,l=this;return(0,Le.Z)(function*(){yield r().call(l,n),yield function(o){return am.apply(this,arguments)}(l.localStore),yield l.Jo.initialize(l,n),yield Ap(l.Jo.syncEngine),yield Eu(l.Jo.remoteStore),yield l.persistence.nn(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(l.localStore),Promise.resolve()))})()}Ho(n){return sm(this.persistence,new ea,n.initialUser,this.N)}zo(n){return new Y_(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=rm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new Xf(this.synchronizeTabs,r,n.clientId,l,n.asyncQueue,cE(),ym(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new lE}}class Fl extends NE{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,l=this;return(0,Le.Z)(function*(){yield r().call(l,n);const c=l.Jo.syncEngine;l.sharedClientState instanceof ov&&(l.sharedClientState.syncEngine={_i:AE.bind(null,c),mi:xE.bind(null,c),gi:OE.bind(null,c),pn:SE.bind(null,c),wi:jm.bind(null,c)},yield l.sharedClientState.start()),yield l.persistence.nn(function(){var f=(0,Le.Z)(function*(_){yield function(o,n){return Dp.apply(this,arguments)}(l.Jo.syncEngine,_),l.gcScheduler&&(_&&!l.gcScheduler.started?l.gcScheduler.start(l.localStore):_||l.gcScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}Wo(n){const r=cE();if(!ov.bt(r))throw new F(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=rm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new ov(r,n.asyncQueue,l,n.clientId,n.initialUser)}}class Oh{initialize(n,r){var l=this;return(0,Le.Z)(function*(){l.localStore||(l.localStore=n.localStore,l.sharedClientState=n.sharedClientState,l.datastore=l.createDatastore(r),l.remoteStore=l.createRemoteStore(r),l.eventManager=l.createEventManager(r),l.syncEngine=l.createSyncEngine(r,!n.synchronizeTabs),l.sharedClientState.onlineStateHandler=c=>Ep(l.syncEngine,c,1),l.remoteStore.remoteSyncer.handleCredentialChange=Um.bind(null,l.syncEngine),yield Dm(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(n){return new yE}createDatastore(n){const r=sp(n.databaseInfo.databaseId),l=new _I(n.databaseInfo);return new lv(n.credentials,l,r)}createRemoteStore(n){return r=this.localStore,l=this.datastore,c=n.asyncQueue,f=I=>Ep(this.syncEngine,I,0),_=uE.bt()?new uE:new gI,new uv(r,l,c,f,_);var r,l,c,f,_}createSyncEngine(n,r){return function(l,c,f,_,I,R,H){const W=new Mm(l,c,f,_,I,R);return H&&(W.qo=!0),W}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,Le.Z)(function*(r){const l=b(r);Et("RemoteStore","RemoteStore shutting down."),l.Kr.add(5),yield Do(l),l.Qr.shutdown(),l.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function xp(o,n=10240){let r=0;return{read:()=>(0,Le.Z)(function*(){if(r<o.byteLength){const l={value:o.slice(r,r+n),done:!1};return r+=n,l}return{done:!0}})(),cancel:()=>(0,Le.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zm{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class ME{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new z,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(l=>{l&&l.ho()?this.metadata.resolve(l.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.payload)}`))},l=>this.metadata.reject(l))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,Le.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,Le.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,Le.Z)(function*(){const r=yield n.na();if(null===r)return null;const l=n.ta.decode(r),c=Number(l);isNaN(c)&&n.sa(`length string (${l}) is not valid number`);const f=yield n.ia(c);return new nl(JSON.parse(f),r.length+c)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,Le.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const l=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),l})()}ia(n){var r=this;return(0,Le.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const l=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),l})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,Le.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const l=new Uint8Array(n.buffer.length+r.value.length);l.set(n.buffer),l.set(r.value,n.buffer.length),n.buffer=l}return r.done})()}}class RE{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,Le.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new F(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(c=(0,Le.Z)(function*(f,_){const I=b(f),R=Aa(I.N)+"/documents",H={documents:_.map(qe=>Dl(I.N,qe))},W=yield I.Ki("BatchGetDocuments",R,H),te=new Map;W.forEach(qe=>{const et=function(o,n){return"found"in n?function(r,l){S(!!l.found);const c=Qo(r,l.found.name),f=ci(l.found.updateTime),_=new yi({mapValue:{fields:l.found.fields}});return qr.newFoundDocument(c,f,_)}(o,n):"missing"in n?function(r,l){S(!!l.missing),S(!!l.readTime);const c=Qo(r,l.missing),f=ci(l.readTime);return qr.newNoDocument(c,f)}(o,n):Ft()}(I.N,qe);te.set(et.key.toString(),et)});const Ie=[];return _.forEach(qe=>{const et=te.get(qe.toString());S(!!et),Ie.push(et)}),Ie}),function(f,_){return c.apply(this,arguments)})(r.datastore,n);var c;return l.forEach(c=>r.recordVersion(c)),l})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(n.toString())}delete(n){this.write(new Ko(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Le.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var l;n.mutations.forEach(l=>{r.delete(l.key.toString())}),r.forEach((l,c)=>{const f=Lt.fromPath(c);n.mutations.push(new lu(f,n.precondition(f)))}),yield(l=(0,Le.Z)(function*(c,f){const _=b(c),I=Aa(_.N)+"/documents",R={writes:f.map(H=>td(_.N,H))};yield _.Li("Commit",I,R)}),function(c,f){return l.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Ft();r=rn.min()}const l=this.readVersions.get(n.key.toString());if(l){if(!r.isEqual(l))throw new F(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Si.updateTime(r):Si.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(rn.min()))throw new F(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Si.updateTime(r)}return Si.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Tv{constructor(n,r,l,c){this.asyncQueue=n,this.datastore=r,this.updateFunction=l,this.deferred=c,this.aa=5,this.rr=new av(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,Le.Z)(function*(){const r=new RE(n.datastore),l=n.ua(r);l&&l.then(c=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(c)}).catch(f=>{n.ha(f)}))}).catch(c=>{n.ha(c)})}))}ua(n){try{const r=this.updateFunction(n);return!tu(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!Ff(r)}return!1}}class Dv{constructor(n,r,l){var c=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=ei.UNAUTHENTICATED,this.clientId=os.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var f=(0,Le.Z)(function*(_){Et("FirestoreClient","Received user=",_.uid),yield c.credentialListener(_),c.user=_});return function(_){return f.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,Le.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Le.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(l){const c=md(l,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Zm(o,n){return Op.apply(this,arguments)}function Op(){return(Op=(0,Le.Z)(function*(o,n){o.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const r=yield o.getConfiguration();yield n.initialize(r);let l=r.initialUser;o.setCredentialChangeListener(function(){var c=(0,Le.Z)(function*(f){l.isEqual(f)||(yield ev(n.localStore,f),l=f)});return function(f){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>o.terminate()),o.offlineComponents=n})).apply(this,arguments)}function Av(o,n){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,Le.Z)(function*(o,n){o.asyncQueue.verifyOperationInProgress();const r=yield yc(o);Et("FirestoreClient","Initializing OnlineComponentProvider");const l=yield o.getConfiguration();yield n.initialize(r,l),o.setCredentialChangeListener(c=>{return(f=(0,Le.Z)(function*(_,I){const R=b(_);R.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const H=wu(R);R.Kr.add(3),yield Do(R),H&&R.Wr.set("Unknown"),yield R.remoteSyncer.handleCredentialChange(I),R.Kr.delete(3),yield fc(R)}),function(_,I){return f.apply(this,arguments)})(n.remoteStore,c);var f}),o.onlineComponents=n})).apply(this,arguments)}function yc(o){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,Le.Z)(function*(o){return o.offlineComponents||(Et("FirestoreClient","Using default OfflineComponentProvider"),yield Zm(o,new Sp)),o.offlineComponents})).apply(this,arguments)}function Mh(o){return Np.apply(this,arguments)}function Np(){return(Np=(0,Le.Z)(function*(o){return o.onlineComponents||(Et("FirestoreClient","Using default OnlineComponentProvider"),yield Av(o,new Oh)),o.onlineComponents})).apply(this,arguments)}function Km(o){return yc(o).then(n=>n.persistence)}function Mp(o){return yc(o).then(n=>n.localStore)}function Sv(o){return Mh(o).then(n=>n.remoteStore)}function Ym(o){return Mh(o).then(n=>n.syncEngine)}function bd(o){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,Le.Z)(function*(o){const n=yield Mh(o),r=n.eventManager;return r.onListen=CE.bind(null,n.syncEngine),r.onUnlisten=IE.bind(null,n.syncEngine),r})).apply(this,arguments)}function Nv(o,n,r={}){const l=new z;return o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(c,f,_,I,R){const H=new zm({next:te=>{f.enqueueAndForget(()=>yp(c,W));const Ie=te.docs.has(_);!Ie&&te.fromCache?R.reject(new F(x.UNAVAILABLE,"Failed to get document because the client is offline.")):Ie&&te.fromCache&&I&&"server"===I.source?R.reject(new F(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(te)},error:te=>R.reject(te)}),W=new Om(ec(_.path),H,{includeMetadataChanges:!0,uo:!0});return mp(c,W)}(yield bd(o),o.asyncQueue,n,r,l)})),l.promise}function kE(o,n,r={}){const l=new z;return o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(c,f,_,I,R){const H=new zm({next:te=>{f.enqueueAndForget(()=>yp(c,W)),te.fromCache&&"server"===I.source?R.reject(new F(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(te)},error:te=>R.reject(te)}),W=new Om(_,H,{includeMetadataChanges:!0,uo:!0});return mp(c,W)}(yield bd(o),o.asyncQueue,n,r,l)})),l.promise}class Rv{constructor(n,r,l,c,f,_,I,R){this.databaseId=n,this.appId=r,this.persistenceKey=l,this.host=c,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=I,this.useFetchStreams=R}}class Rh{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Rh&&n.projectId===this.projectId&&n.database===this.database}}const na=new Map;function Pv(o,n,r){if(!r)throw new F(x.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${n}.`)}function LE(o,n,r,l){if(!0===n&&!0===l)throw new F(x.INVALID_ARGUMENT,`${o} and ${r} cannot be used together.`)}function VE(o){if(!Lt.isDocumentKey(o))throw new F(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Xm(o){if(Lt.isDocumentKey(o))throw new F(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function Ph(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const n=function(r){if(r.constructor){const l=/function\s+([^\s(]+)\s*\(/.exec(r.constructor.toString());if(l&&l.length>1)return l[1]}return null}(o);return n?`a custom ${n} object`:"an object"}}return"function"==typeof o?"a function":Ft()}function rr(o,n){if("_delegate"in o&&(o=o._delegate),!(o instanceof n)){if(n.name===o.constructor.name)throw new F(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ph(o);throw new F(x.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return o}function kv(o,n){if(n<=0)throw new F(x.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${n}.`)}class UE{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new F(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new F(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,LE("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Cd{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,n instanceof Rh?this._databaseId=n:(this._app=n,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(l.options.projectId)}(n))}get app(){if(!this._app)throw new F(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new F(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new _e;switch(r.type){case"gapi":const l=r.client;return S(!("object"!=typeof l||null===l||!l.auth||!l.auth.getAuthHeaderValueForFirstParty)),new Kt(l,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new F(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=na.get(n);r&&(Et("ComponentProvider","Removing Datastore"),na.delete(n),r.terminate())}(this),Promise.resolve()}}class Gr{constructor(n,r,l){this.converter=r,this._key=l,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Gr(this.firestore,n,this._key)}}class cs{constructor(n,r,l){this.converter=r,this._query=l,this.type="query",this.firestore=n}withConverter(n){return new cs(this.firestore,n,this._query)}}class rl extends cs{constructor(n,r,l){super(n,r,ec(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Gr(this.firestore,null,new Lt(n))}withConverter(n){return new rl(this.firestore,n,this._path)}}function Fv(o,n,...r){if(o=(0,Se.m9)(o),Pv("collection","path",n),o instanceof Cd){const l=sn.fromString(n,...r);return Xm(l),new rl(o,null,l)}{if(!(o instanceof Gr||o instanceof rl))throw new F(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(sn.fromString(n,...r));return Xm(l),new rl(o.firestore,null,l)}}function Rp(o,n,...r){if(o=(0,Se.m9)(o),1===arguments.length&&(n=os.I()),Pv("doc","path",n),o instanceof Cd){const l=sn.fromString(n,...r);return VE(l),new Gr(o,null,new Lt(l))}{if(!(o instanceof Gr||o instanceof rl))throw new F(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(sn.fromString(n,...r));return VE(l),new Gr(o.firestore,o instanceof rl?o.converter:null,new Lt(l))}}function Lv(o,n){return o=(0,Se.m9)(o),n=(0,Se.m9)(n),(o instanceof Gr||o instanceof rl)&&(n instanceof Gr||n instanceof rl)&&o.firestore===n.firestore&&o.path===n.path&&o.converter===n.converter}function Vv(o,n){return o=(0,Se.m9)(o),n=(0,Se.m9)(n),o instanceof cs&&n instanceof cs&&o.firestore===n.firestore&&Ca(o._query,n._query)&&o.converter===n.converter}class Pp{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new av(this,"async_queue_retry"),this.Ea=()=>{const r=ym();r&&Et("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=ym();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=ym();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new z;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,Le.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!us(r))throw r;Et("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(l=>{throw this.ma=l,this.ga=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(l)),l}).then(l=>(this.ga=!1,l))));return this.fa=r,r}enqueueAfterDelay(n,r,l){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const c=fv.createAndSchedule(this,n,r,l,f=>this.Ra(f));return this._a.push(c),c}Ta(){this.ma&&Ft()}verifyOperationInProgress(){}ba(){var n=this;return(0,Le.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,l)=>r.targetTimeMs-l.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function Iu(o){return function(n,r){if("object"!=typeof n||null===n)return!1;const l=n;for(const c of["next","error","complete"])if(c in l&&"function"==typeof l[c])return!0;return!1}(o)}class Uv{constructor(){this._progressObserver={},this._taskCompletionResolver=new z,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,l){this._progressObserver={next:n,error:r,complete:l}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Fr extends Cd{constructor(n,r){super(n,r),this.type="firestore",this._queue=new Pp,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ra(this),this._firestoreClient.terminate()}}function xi(o){return o._firestoreClient||Ra(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function Ra(o){var n;const r=o._freezeSettings(),l=(f=(null===(n=o._app)||void 0===n?void 0:n.options.appId)||"",new Rv(o._databaseId,f,o._persistenceKey,(I=r).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var f,I;o._firestoreClient=new Dv(o._credentials,o._queue,l)}function Tu(o,n,r){const l=new z;return o.asyncQueue.enqueue((0,Le.Z)(function*(){try{yield Zm(o,r),yield Av(o,n),l.resolve()}catch(c){if(!("FirebaseError"===(f=c).name?f.code===x.FAILED_PRECONDITION||f.code===x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),l.reject(c)}var f})).then(()=>l.promise)}function _c(o){if(o._initialized||o._terminated)throw new F(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class go{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new F(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class to{constructor(n){this._byteString=n}static fromBase64String(n){try{return new to(Ii.fromBase64String(n))}catch(r){throw new F(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new to(Ii.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ia{constructor(n){this._methodName=n}}class Vh{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new F(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new F(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return an(this._lat,n._lat)||an(this._long,n._long)}}const Bv=/^__.*__$/;class jv{constructor(n,r,l){this.data=n,this.fieldMask=r,this.fieldTransforms=l}toMutation(n,r){return null!==this.fieldMask?new Ps(n,this.data,this.fieldMask,r,this.fieldTransforms):new Zc(n,this.data,r,this.fieldTransforms)}}class ny{constructor(n,r,l){this.data=n,this.fieldMask=r,this.fieldTransforms=l}toMutation(n,r){return new Ps(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function ry(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class Uh{constructor(n,r,l,c,f,_){this.settings=n,this.databaseId=r,this.N=l,this.ignoreUndefinedProperties=c,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new Uh(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const l=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:l,xa:!1});return c.ka(n),c}$a(n){var r;const l=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:l,xa:!1});return c.Sa(),c}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return cy(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(ry(this.Da)&&Bv.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class Hv{constructor(n,r,l){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=l||sp(n)}Ba(n,r,l,c=!1){return new Uh({Da:n,methodName:r,La:l,path:Ui.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Du(o){const n=o._freezeSettings(),r=sp(o._databaseId);return new Hv(o._databaseId,!!n.ignoreUndefinedProperties,r)}function Bh(o,n,r,l,c,f={}){const _=o.Ba(f.merge||f.mergeFields?2:0,n,r,c);uy("Data must be an object, but it was:",_,l);const I=ly(l,_);let R,H;if(f.merge)R=new ml(_.fieldMask),H=_.fieldTransforms;else if(f.mergeFields){const W=[];for(const te of f.mergeFields){const Ie=Zv(n,te,r);if(!_.contains(Ie))throw new F(x.INVALID_ARGUMENT,`Field '${Ie}' is specified in your field mask but missing from your input data.`);$E(W,Ie)||W.push(Ie)}R=new ml(W),H=_.fieldTransforms.filter(te=>R.covers(te.field))}else R=null,H=_.fieldTransforms;return new jv(new yi(I),R,H)}class jh extends ia{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof jh}}function iy(o,n,r){return new Uh({Da:3,La:n.settings.La,methodName:o._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class sy extends ia{_toFieldTransform(n){return new ho(n.path,new bl)}isEqual(n){return n instanceof sy}}class $v extends ia{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=iy(this,n,!0),l=this.Ua.map(f=>vc(f,r)),c=new Xa(l);return new ho(n.path,c)}isEqual(n){return this===n}}class qv extends ia{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=iy(this,n,!0),l=this.Ua.map(f=>vc(f,r)),c=new Cl(l);return new ho(n.path,c)}isEqual(n){return this===n}}class jE extends ia{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new ou(n.N,qc(n.N,this.qa));return new ho(n.path,r)}isEqual(n){return this===n}}function Gv(o,n,r,l){const c=o.Ba(1,n,r);uy("Data must be an object, but it was:",c,l);const f=[],_=yi.empty();pl(l,(R,H)=>{const W=Fp(n,R,r);H=(0,Se.m9)(H);const te=c.$a(W);if(H instanceof jh)f.push(W);else{const Ie=vc(H,te);null!=Ie&&(f.push(W),_.set(W,Ie))}});const I=new ml(f);return new ny(_,I,c.fieldTransforms)}function oy(o,n,r,l,c,f){const _=o.Ba(1,n,r),I=[Zv(n,l,r)],R=[c];if(f.length%2!=0)throw new F(x.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ie=0;Ie<f.length;Ie+=2)I.push(Zv(n,f[Ie])),R.push(f[Ie+1]);const H=[],W=yi.empty();for(let Ie=I.length-1;Ie>=0;--Ie)if(!$E(H,I[Ie])){const qe=I[Ie];let et=R[Ie];et=(0,Se.m9)(et);const pt=_.$a(qe);if(et instanceof jh)H.push(qe);else{const Tt=vc(et,pt);null!=Tt&&(H.push(qe),W.set(qe,Tt))}}const te=new ml(H);return new ny(W,te,_.fieldTransforms)}function ay(o,n,r,l=!1){return vc(r,o.Ba(l?4:3,n))}function vc(o,n){if(zv(o=(0,Se.m9)(o)))return uy("Unsupported field value:",n,o),ly(o,n);if(o instanceof ia)return function(r,l){if(!ry(l.Da))throw l.Fa(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Fa(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(o,n),null;if(void 0===o&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),o instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,l){const c=[];let f=0;for(const _ of r){let I=vc(_,l.Oa(f));null==I&&(I={nullValue:"NULL_VALUE"}),c.push(I),f++}return{arrayValue:{values:c}}}(o,n)}return function(r,l){if(null===(r=(0,Se.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return qc(l.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=er.fromDate(r);return{timestampValue:du(l.N,c)}}if(r instanceof er){const c=new er(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:du(l.N,c)}}if(r instanceof Vh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof to)return{bytesValue:sc(l.N,r._byteString)};if(r instanceof Gr){const c=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw l.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:oc(r.firestore._databaseId||l.databaseId,r._key.path)}}throw l.Fa(`Unsupported field value: ${Ph(r)}`)}(o,n)}function ly(o,n){const r={};return Ng(o)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):pl(o,(l,c)=>{const f=vc(c,n.Na(l));null!=f&&(r[l]=f)}),{mapValue:{fields:r}}}function zv(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof er||o instanceof Vh||o instanceof to||o instanceof Gr||o instanceof ia)}function uy(o,n,r){if(!zv(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Ph(r);throw n.Fa("an object"===l?o+" a custom object":o+" "+l)}var l}function Zv(o,n,r){if((n=(0,Se.m9)(n))instanceof go)return n._internalPath;if("string"==typeof n)return Fp(o,n);throw cy("Field path arguments must be of type string or FieldPath.",o,!1,void 0,r)}const HE=new RegExp("[~\\*/\\[\\]]");function Fp(o,n,r){if(n.search(HE)>=0)throw cy(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,r);try{return new go(...n.split("."))._internalPath}catch(l){throw cy(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,r)}}function cy(o,n,r,l,c){const f=l&&!l.isEmpty(),_=void 0!==c;let I=`Function ${n}() called with invalid data`;r&&(I+=" (via `toFirestore()`)"),I+=". ";let R="";return(f||_)&&(R+=" (found",f&&(R+=` in field ${l}`),_&&(R+=` in document ${c}`),R+=")"),new F(x.INVALID_ARGUMENT,I+o+R)}function $E(o,n){return o.some(r=>r.isEqual(n))}class Lp{constructor(n,r,l,c,f){this._firestore=n,this._userDataWriter=r,this._key=l,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new qE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(dy("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class qE extends Lp{data(){return super.data()}}function dy(o,n){return"string"==typeof n?Fp(o,n):n instanceof go?n._internalPath:n._delegate._internalPath}class wc{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Ll extends Lp{constructor(n,r,l,c,f,_){super(n,r,l,c,_),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const l=this._document.data.field(dy("DocumentSnapshot.get",n));if(null!==l)return this._userDataWriter.convertValue(l,r.serverTimestamps)}}}class Ec extends Ll{data(n={}){return super.data(n)}}class il{constructor(n,r,l,c){this._firestore=n,this._userDataWriter=r,this._snapshot=c,this.metadata=new wc(c.hasPendingWrites,c.fromCache),this.query=l}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(l=>{n.call(r,new Ec(this._firestore,this._userDataWriter,l.key,l,new wc(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new F(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(_=>({type:"added",doc:new Ec(l._firestore,l._userDataWriter,_.doc.key,_.doc,new wc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:f++}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const I=new Ec(l._firestore,l._userDataWriter,_.doc.key,_.doc,new wc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let R=-1,H=-1;return 0!==_.type&&(R=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),1!==_.type&&(f=f.add(_.doc),H=f.indexOf(_.doc.key)),{type:GE(_.type),doc:I,oldIndex:R,newIndex:H}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function GE(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function zE(o,n){return o instanceof Ll&&n instanceof Ll?o._firestore===n._firestore&&o._key.isEqual(n._key)&&(null===o._document?null===n._document:o._document.isEqual(n._document))&&o._converter===n._converter:o instanceof il&&n instanceof il&&o._firestore===n._firestore&&Vv(o.query,n.query)&&o.metadata.isEqual(n.metadata)&&o._snapshot.isEqual(n._snapshot)}function ZE(o){if(Ja(o)&&0===o.explicitOrderBy.length)throw new F(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vp{}function Au(o,...n){for(const r of n)o=r._apply(o);return o}class Wv extends Vp{constructor(n,r,l){super(),this.Ka=n,this.ja=r,this.Qa=l,this.type="where"}_apply(n){const r=Du(n.firestore),l=function(c,f,_,I,R,H,W){let te;if(R.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new F(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on FieldPath.documentId().`);if("in"===H||"not-in"===H){Xv(W,H);const qe=[];for(const et of W)qe.push(Jv(I,c,et));te={arrayValue:{values:qe}}}else te=Jv(I,c,W)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Xv(W,H),te=ay(_,"where",W,"in"===H||"not-in"===H);const Ie=Ai.create(R,H,te);return function(qe,et){if(et.v()){const Tt=Bc(qe);if(null!==Tt&&!Tt.isEqual(et.field))throw new F(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Tt.toString()}' and '${et.field.toString()}'`);const dn=tc(qe);null!==dn&&py(0,et.field,dn)}const pt=function(Tt,dn){for(const Nn of Tt.filters)if(dn.indexOf(Nn.op)>=0)return Nn.op;return null}(qe,function(Tt){switch(Tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==pt)throw new F(x.INVALID_ARGUMENT,pt===et.op?`Invalid query. You cannot use more than one '${et.op.toString()}' filter.`:`Invalid query. You cannot use '${et.op.toString()}' filters with '${pt.toString()}' filters.`)}(c,Ie),Ie}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new cs(n.firestore,n.converter,function(c,f){const _=c.filters.concat([f]);return new yr(c.path,c.collectionGroup,c.explicitOrderBy.slice(),_,c.limit,c.limitType,c.startAt,c.endAt)}(n._query,l))}}class WE extends Vp{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(l,c,f){if(null!==l.startAt)throw new F(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new F(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new ba(c,f);return function(I,R){if(null===tc(I)){const H=Bc(I);null!==H&&py(0,H,R.field)}}(l,_),_}(n._query,this.Ka,this.Wa);return new cs(n.firestore,n.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new yr(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n._query,r))}}class Kv extends Vp{constructor(n,r,l){super(),this.type=n,this.Ga=r,this.za=l}_apply(n){return new cs(n.firestore,n.converter,Xs(n._query,this.Ga,this.za))}}class hy extends Vp{constructor(n,r,l){super(),this.type=n,this.Ha=r,this.Ja=l}_apply(n){const r=Qv(n,this.type,this.Ha,this.Ja);return new cs(n.firestore,n.converter,(c=r,new yr((l=n._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)));var l,c}}class fy extends Vp{constructor(n,r,l){super(),this.type=n,this.Ha=r,this.Ja=l}_apply(n){const r=Qv(n,this.type,this.Ha,this.Ja);return new cs(n.firestore,n.converter,(c=r,new yr((l=n._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,c)));var l,c}}function Qv(o,n,r,l){if(r[0]=(0,Se.m9)(r[0]),r[0]instanceof Lp)return function(c,f,_,I,R){if(!I)throw new F(x.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const H=[];for(const W of iu(c))if(W.field.isKeyField())H.push(wl(f,I.key));else{const te=I.data.field(W.field);if(eu(te))throw new F(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+W.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===te){const Ie=W.field.canonicalString();throw new F(x.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ie}' (used as the orderBy) does not exist.`)}H.push(te)}return new Ea(H,R)}(o._query,o.firestore._databaseId,n,r[0]._document,l);{const c=Du(o.firestore);return function(f,_,I,R,H,W){const te=f.explicitOrderBy;if(H.length>te.length)throw new F(x.INVALID_ARGUMENT,`Too many arguments provided to ${R}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ie=[];for(let qe=0;qe<H.length;qe++){const et=H[qe];if(te[qe].field.isKeyField()){if("string"!=typeof et)throw new F(x.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${R}(), but got a ${typeof et}`);if(!jc(f)&&-1!==et.indexOf("/"))throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${R}() must be a plain document ID, but '${et}' contains a slash.`);const pt=f.path.child(sn.fromString(et));if(!Lt.isDocumentKey(pt))throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${R}() must result in a valid document path, but '${pt}' is not because it contains an odd number of segments.`);const Tt=new Lt(pt);Ie.push(wl(_,Tt))}else{const pt=ay(I,R,et);Ie.push(pt)}}return new Ea(Ie,W)}(o._query,o.firestore._databaseId,c,n,r,l)}}function Jv(o,n,r){if("string"==typeof(r=(0,Se.m9)(r))){if(""===r)throw new F(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jc(n)&&-1!==r.indexOf("/"))throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const l=n.path.child(sn.fromString(r));if(!Lt.isDocumentKey(l))throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return wl(o,new Lt(l))}if(r instanceof Gr)return wl(o,r._key);throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(r)}.`)}function Xv(o,n){if(!Array.isArray(o)||0===o.length)throw new F(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(o.length>10)throw new F(x.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function py(o,n,r){if(!r.isEqual(n))throw new F(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class gy{convertValue(n,r="none"){switch(vl(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Ti(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(yl(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Ft()}}convertObject(n,r){const l={};return pl(n.fields,(c,f)=>{l[c]=this.convertValue(f,r)}),l}convertGeoPoint(n){return new Vh(Ti(n.latitude),Ti(n.longitude))}convertArray(n,r){return(n.values||[]).map(l=>this.convertValue(l,r))}convertServerTimestamp(n,r){switch(r){case"previous":const l=_l(n);return null==l?null:this.convertValue(l,r);case"estimate":return this.convertTimestamp(bo(n));default:return null}}convertTimestamp(n){const r=va(n);return new er(r.seconds,r.nanos)}convertDocumentKey(n,r){const l=sn.fromString(n);S(id(l));const c=new Rh(l.get(1),l.get(3)),f=new Lt(l.popFirst(5));return c.isEqual(r)||Mr(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Hh(o,n,r){let l;return l=o?r&&(r.merge||r.mergeFields)?o.toFirestore(n,r):o.toFirestore(n):n,l}class ew extends gy{constructor(n){super(),this.firestore=n}convertBytes(n){return new to(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Gr(this.firestore,null,r)}}class Bp{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Du(n)}set(n,r,l){this._verifyNotCommitted();const c=bc(n,this._firestore),f=Hh(c.converter,r,l),_=Bh(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,l);return this._mutations.push(_.toMutation(c._key,Si.none())),this}update(n,r,l,...c){this._verifyNotCommitted();const f=bc(n,this._firestore);let _;return _="string"==typeof(r=(0,Se.m9)(r))||r instanceof go?oy(this._dataReader,"WriteBatch.update",f._key,r,l,c):Gv(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(_.toMutation(f._key,Si.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=bc(n,this._firestore);return this._mutations=this._mutations.concat(new Ko(r._key,Si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bc(o,n){if((o=(0,Se.m9)(o)).firestore!==n)throw new F(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class Cc extends gy{constructor(n){super(),this.firestore=n}convertBytes(n){return new to(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Gr(this.firestore,null,r)}}function tw(o,n,r){o=rr(o,Gr);const l=rr(o.firestore,Fr),c=Hh(o.converter,n,r);return Su(l,[Bh(Du(l),"setDoc",o._key,c,null!==o.converter,r).toMutation(o._key,Si.none())])}function jp(o,n,r,...l){o=rr(o,Gr);const c=rr(o.firestore,Fr),f=Du(c);let _;return _="string"==typeof(n=(0,Se.m9)(n))||n instanceof go?oy(f,"updateDoc",o._key,n,r,l):Gv(f,"updateDoc",o._key,n),Su(c,[_.toMutation(o._key,Si.exists(!0))])}function eb(o,...n){var r,l,c;o=(0,Se.m9)(o);let f={includeMetadataChanges:!1},_=0;"object"!=typeof n[_]||Iu(n[_])||(f=n[_],_++);const I={includeMetadataChanges:f.includeMetadataChanges};if(Iu(n[_])){const te=n[_];n[_]=null===(r=te.next)||void 0===r?void 0:r.bind(te),n[_+1]=null===(l=te.error)||void 0===l?void 0:l.bind(te),n[_+2]=null===(c=te.complete)||void 0===c?void 0:c.bind(te)}let R,H,W;if(o instanceof Gr)H=rr(o.firestore,Fr),W=ec(o._key.path),R={next:te=>{n[_]&&n[_](qh(H,o,te))},error:n[_+1],complete:n[_+2]};else{const te=rr(o,cs);H=rr(te.firestore,Fr),W=te._query;const Ie=new Cc(H);R={next:qe=>{n[_]&&n[_](new il(H,Ie,te,qe))},error:n[_+1],complete:n[_+2]},ZE(o._query)}return function(te,Ie,qe,et){const pt=new zm(et),Tt=new Om(Ie,pt,qe);return te.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return mp(yield bd(te),Tt)})),()=>{pt.Xo(),te.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return yp(yield bd(te),Tt)}))}}(xi(H),W,I,R)}function Su(o,n){return function(r,l){const c=new z;return r.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(o,n,r){return wp.apply(this,arguments)}(yield Ym(r),l,c)})),c.promise}(xi(o),n)}function qh(o,n,r){const l=r.docs.get(n._key),c=new Cc(o);return new Ll(o,c,n._key,l,new wc(r.hasPendingWrites,r.fromCache),n.converter)}class nb extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Du(n)}get(n){const r=bc(n,this._firestore),l=new ew(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return Ft();const f=c[0];if(f.isFoundDocument())return new Lp(this._firestore,l,f.key,f,r.converter);if(f.isNoDocument())return new Lp(this._firestore,l,r._key,null,r.converter);throw Ft()})}set(n,r,l){const c=bc(n,this._firestore),f=Hh(c.converter,r,l),_=Bh(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,l);return this._transaction.set(c._key,_),this}update(n,r,l,...c){const f=bc(n,this._firestore);let _;return _="string"==typeof(r=(0,Se.m9)(r))||r instanceof go?oy(this._dataReader,"Transaction.update",f._key,r,l,c):Gv(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,_),this}delete(n){const r=bc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=bc(n,this._firestore),l=new Cc(this._firestore);return super.get(n).then(c=>new Ll(this._firestore,l,r._key,c._document,new wc(!1,!1),r.converter))}}function Hp(o,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new F("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return n}function lw(){if("undefined"==typeof Uint8Array)throw new F("unimplemented","Uint8Arrays are not available in this environment.")}function uw(){if("undefined"==typeof atob)throw new F("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(o){ya=o})(Qe.SDK_VERSION),(0,Qe._registerComponent)(new ke.wA("firestore",(o,{options:n})=>{const r=o.getProvider("app").getImmediate(),l=new Fr(r,new St(o.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),l._setSettings(n),l},"PUBLIC")),(0,Qe.registerVersion)("@firebase/firestore","3.0.2",void 0);class Gh{constructor(n){this._delegate=n}static fromBase64String(n){return uw(),new Gh(to.fromBase64String(n))}static fromUint8Array(n){return lw(),new Gh(to.fromUint8Array(n))}toBase64(){return uw(),this._delegate.toBase64()}toUint8Array(){return lw(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $p(o){return function(o,n){if("object"!=typeof o||null===o)return!1;const r=o;for(const l of["next","error","complete"])if(l in r&&"function"==typeof r[l])return!0;return!1}(o)}class cw{enableIndexedDbPersistence(n,r){return function(o,n){_c(o=rr(o,Fr));const r=xi(o),l=o._freezeSettings(),c=new Oh;return Tu(r,c,new NE(c,l.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(o){_c(o=rr(o,Fr));const n=xi(o),r=o._freezeSettings(),l=new Oh;return Tu(n,l,new Fl(l,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(o){if(o._initialized&&!o._terminated)throw new F(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new z;return o._queue.enqueueAndForgetEvenWhileRestricted((0,Le.Z)(function*(){try{yield(r=(0,Le.Z)(function*(l){if(!po.bt())return Promise.resolve();const c=l+"main";yield po.delete(c)}),function(l){return r.apply(this,arguments)})(rm(o._databaseId,o._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class Iy{constructor(n,r,l){this._delegate=r,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},n instanceof Rh||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&Ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,l={}){!function(o,n,r,l={}){var c;const f=(o=rr(o,Cd))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==n&&Ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},f),{host:`${n}:${r}`,ssl:!1})),l.mockUserToken){let _,I;if("string"==typeof l.mockUserToken)_=l.mockUserToken,I=ei.MOCK_USER;else{_=(0,Se.Sg)(l.mockUserToken,null===(c=o._app)||void 0===c?void 0:c.options.projectId);const R=l.mockUserToken.sub||l.mockUserToken.user_id;if(!R)throw new F(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new ei(R)}o._credentials=new st(new se(_,I))}}(this._delegate,n,r,l)}enableNetwork(){return function(o){return function(o){return o.asyncQueue.enqueue((0,Le.Z)(function*(){const n=yield Km(o),r=yield Sv(o);return n.setNetworkEnabled(!0),function(l){const c=b(l);return c.Kr.delete(0),fc(c)}(r)}))}(xi(o=rr(o,Fr)))}(this._delegate)}disableNetwork(){return function(o){return function(o){return o.asyncQueue.enqueue((0,Le.Z)(function*(){const n=yield Km(o),r=yield Sv(o);return n.setNetworkEnabled(!1),(l=(0,Le.Z)(function*(c){const f=b(c);f.Kr.add(0),yield Do(f),f.Wr.set("Offline")}),function(c){return l.apply(this,arguments)})(r);var l}))}(xi(o=rr(o,Fr)))}(this._delegate)}enablePersistence(n){let r=!1,l=!1;return n&&(r=!!n.synchronizeTabs,l=!!n.experimentalForceOwningTab,LE("synchronizeTabs",r,"experimentalForceOwningTab",l)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(o){return function(n){const r=new z;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(o,n){return Na.apply(this,arguments)}(yield Ym(n),r)})),r.promise}(xi(o=rr(o,Fr)))}(this._delegate)}onSnapshotsInSync(n){return function(o,n){return function(o,n){const r=new zm(n);return o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return l=yield bd(o),c=r,b(l).Zr.add(c),void c.next();var l,c})),()=>{r.Xo(),o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return l=yield bd(o),c=r,void b(l).Zr.delete(c);var l,c}))}}(xi(o=rr(o,Fr)),Iu(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new F("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new xd(this,Fv(this._delegate,n))}catch(r){throw mo(r,"collection()","Firestore.collection()")}}doc(n){try{return new xo(this,Rp(this._delegate,n))}catch(r){throw mo(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new ar(this,function(o,n){if(o=rr(o,Cd),Pv("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new F(x.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(o,null,(r=n,new yr(sn.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw mo(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(o,n){return function(o,n){const r=new z;return o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){const l=yield(c=o,Mh(c).then(f=>f.datastore));var c;new Tv(o.asyncQueue,l,n,r).run()})),r.promise}(xi(o),r=>n(new nb(o,r)))}(this._delegate,r=>n(new Ty(this,r)))}batch(){return xi(this._delegate),new Dy(new Bp(this._delegate,n=>Su(this._delegate,n)))}loadBundle(n){return function(o,n){const r=xi(o=rr(o,Fr)),l=new Uv;return function(o,n,r,l){const c=function(f,_){let I;return I="string"==typeof f?(new TextEncoder).encode(f):f,R=function(R,H){if(R instanceof Uint8Array)return xp(R,H);if(R instanceof ArrayBuffer)return xp(new Uint8Array(R),H);if(R instanceof ReadableStream)return R.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(I),new ME(R,_);var R}(r,sp(n));o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){!function(o,n,r){const l=b(o);var c;(c=(0,Le.Z)(function*(f,_,I){try{const R=yield _.getMetadata();if(yield function(Ie,qe){const et=b(Ie),pt=ci(qe.createTime);return et.persistence.runTransaction("hasNewerBundle","readonly",Tt=>et.Je.getBundleMetadata(Tt,qe.id)).then(Tt=>!!Tt&&Tt.createTime.compareTo(pt)>=0)}(f.localStore,R))return yield _.close(),void I._completeWith((Ie=R,{taskState:"Success",documentsLoaded:Ie.totalDocuments,bytesLoaded:Ie.totalBytes,totalDocuments:Ie.totalDocuments,totalBytes:Ie.totalBytes}));I._updateProgress(gv(R));const H=new vE(R,f.localStore,_.N);let W=yield _.Qo();for(;W;){const Ie=yield H.fo(W);Ie&&I._updateProgress(Ie),W=yield _.Qo()}const te=yield H.complete();yield So(f,te.Tn,void 0),yield function(Ie,qe){const et=b(Ie);return et.persistence.runTransaction("Save bundle","readwrite",pt=>et.Je.saveBundleMetadata(pt,qe))}(f.localStore,R),I._completeWith(te.progress)}catch(R){Ka("SyncEngine",`Loading bundle failed with ${R}`),I._failWith(R)}var Ie}),function(f,_,I){return c.apply(this,arguments)})(l,n,r).then(()=>{l.sharedClientState.notifyBundleLoaded()})}(yield Ym(o),c,l)}))}(r,o._databaseId,n,l),l}(this._delegate,n)}namedQuery(n){return function(o,n){return function(o,n){return o.asyncQueue.enqueue((0,Le.Z)(function*(){return function(r,l){const c=b(r);return c.persistence.runTransaction("Get named query","readonly",f=>c.Je.getNamedQuery(f,l))}(yield Mp(o),n)}))}(xi(o=rr(o,Fr)),n).then(r=>r?new cs(o,null,r.query):null)}(this._delegate,n).then(r=>r?new ar(this,r):null)}}class zh extends gy{constructor(n){super(),this.firestore=n}convertBytes(n){return new Gh(new to(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return xo.forKey(r,this.firestore,null)}}class Ty{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new zh(n)}get(n){const r=Ou(n);return this._delegate.get(r).then(l=>new Sd(this._firestore,new Ll(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,r.converter)))}set(n,r,l){const c=Ou(n);return l?(Hp("Transaction.set",l),this._delegate.set(c,r,l)):this._delegate.set(c,r),this}update(n,r,l,...c){const f=Ou(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,l,...c),this}delete(n){const r=Ou(n);return this._delegate.delete(r),this}}class Dy{constructor(n){this._delegate=n}set(n,r,l){const c=Ou(n);return l?(Hp("WriteBatch.set",l),this._delegate.set(c,r,l)):this._delegate.set(c,r),this}update(n,r,l,...c){const f=Ou(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,l,...c),this}delete(n){const r=Ou(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class xu{constructor(n,r,l){this._firestore=n,this._userDataWriter=r,this._delegate=l}fromFirestore(n,r){const l=new Ec(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Zh(this._firestore,l),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const l=xu.INSTANCES;let c=l.get(n);c||(c=new WeakMap,l.set(n,c));let f=c.get(r);return f||(f=new xu(n,new zh(n),r),c.set(r,f)),f}}xu.INSTANCES=new WeakMap;class xo{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new zh(n)}static forPath(n,r,l){if(n.length%2!=0)throw new F("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new xo(r,new Gr(r._delegate,l,new Lt(n)))}static forKey(n,r,l){return new xo(r,new Gr(r._delegate,l,n))}get id(){return this._delegate.id}get parent(){return new xd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new xd(this.firestore,Fv(this._delegate,n))}catch(r){throw mo(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Se.m9)(n))instanceof Gr&&Lv(this._delegate,n)}set(n,r){r=Hp("DocumentReference.set",r);try{return r?tw(this._delegate,n,r):tw(this._delegate,n)}catch(l){throw mo(l,"setDoc()","DocumentReference.set()")}}update(n,r,...l){try{return 1===arguments.length?jp(this._delegate,n):jp(this._delegate,n,r,...l)}catch(c){throw mo(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(o){return Su(rr(o.firestore,Fr),[new Ko(o._key,Si.none())])}(this._delegate)}onSnapshot(...n){const r=hw(n),l=fw(n,c=>new Sd(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return eb(this._delegate,r,l)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(o){o=rr(o,Gr);const n=rr(o.firestore,Fr),r=xi(n),l=new Cc(n);return function(o,n){const r=new z;return o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return(l=(0,Le.Z)(function*(c,f,_){try{const I=yield function(R,H){const W=b(R);return W.persistence.runTransaction("read document","readonly",te=>W.Qn.An(te,H))}(c,f);I.isFoundDocument()?_.resolve(I):I.isNoDocument()?_.resolve(null):_.reject(new F(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(I){const R=md(I,`Failed to get document '${f} from cache`);_.reject(R)}}),function(c,f,_){return l.apply(this,arguments)})(yield Mp(o),n,r);var l})),r.promise}(r,o._key).then(c=>new Ll(n,l,o._key,c,new wc(null!==c&&c.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(o){o=rr(o,Gr);const n=rr(o.firestore,Fr);return Nv(xi(n),o._key,{source:"server"}).then(r=>qh(n,o,r))}(this._delegate):function(o){o=rr(o,Gr);const n=rr(o.firestore,Fr);return Nv(xi(n),o._key).then(r=>qh(n,o,r))}(this._delegate),r.then(l=>new Sd(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(n){return new xo(this.firestore,this._delegate.withConverter(n?xu.getInstance(this.firestore,n):null))}}function mo(o,n,r){return o.message=o.message.replace(n,r),o}function hw(o){for(const n of o)if("object"==typeof n&&!$p(n))return n;return{}}function fw(o,n){var r,l;let c;return c=$p(o[0])?o[0]:$p(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:f=>{c.next&&c.next(n(f))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(l=c.complete)||void 0===l?void 0:l.bind(c)}}class Sd{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new xo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return zE(this._delegate,n._delegate)}}class Zh extends Sd{data(n){const r=this._delegate.data(n);return function(o,n){o||Ft()}(void 0!==r),r}}class ar{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new zh(n)}where(n,r,l){try{return new ar(this.firestore,Au(this._delegate,function(o,n,r){const l=n,c=dy("where",o);return new Wv(c,l,r)}(n,r,l)))}catch(c){throw mo(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new ar(this.firestore,Au(this._delegate,function(o,n="asc"){const r=n,l=dy("orderBy",o);return new WE(l,r)}(n,r)))}catch(l){throw mo(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new ar(this.firestore,Au(this._delegate,function(o){return kv("limit",o),new Kv("limit",o,"F")}(n)))}catch(r){throw mo(r,"limit()","Query.limit()")}}limitToLast(n){try{return new ar(this.firestore,Au(this._delegate,function(o){return kv("limitToLast",o),new Kv("limitToLast",o,"L")}(n)))}catch(r){throw mo(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new ar(this.firestore,Au(this._delegate,function(...o){return new hy("startAt",o,!0)}(...n)))}catch(r){throw mo(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new ar(this.firestore,Au(this._delegate,function(...o){return new hy("startAfter",o,!1)}(...n)))}catch(r){throw mo(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new ar(this.firestore,Au(this._delegate,function(...o){return new fy("endBefore",o,!0)}(...n)))}catch(r){throw mo(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new ar(this.firestore,Au(this._delegate,function(...o){return new fy("endAt",o,!1)}(...n)))}catch(r){throw mo(r,"endAt()","Query.endAt()")}}isEqual(n){return Vv(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(o){o=rr(o,cs);const n=rr(o.firestore,Fr),r=xi(n),l=new Cc(n);return function(o,n){const r=new z;return o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return(l=(0,Le.Z)(function*(c,f,_){try{const I=yield wh(c,f,!0),R=new mv(f,I.Gn),H=R.Io(I.documents),W=R.applyChanges(H,!1);_.resolve(W.snapshot)}catch(I){const R=md(I,`Failed to execute query '${f} against cache`);_.reject(R)}}),function(c,f,_){return l.apply(this,arguments)})(yield Mp(o),n,r);var l})),r.promise}(r,o._query).then(c=>new il(n,l,o,c))}(this._delegate):"server"===(null==n?void 0:n.source)?function(o){o=rr(o,cs);const n=rr(o.firestore,Fr),r=xi(n),l=new Cc(n);return kE(r,o._query,{source:"server"}).then(c=>new il(n,l,o,c))}(this._delegate):function(o){o=rr(o,cs);const n=rr(o.firestore,Fr),r=xi(n),l=new Cc(n);return ZE(o._query),kE(r,o._query).then(c=>new il(n,l,o,c))}(this._delegate),r.then(l=>new Ay(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...n){const r=hw(n),l=fw(n,c=>new Ay(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return eb(this._delegate,r,l)}withConverter(n){return new ar(this.firestore,this._delegate.withConverter(n?xu.getInstance(this.firestore,n):null))}}class pw{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Zh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ay{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new ar(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Zh(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new pw(this._firestore,r))}forEach(n,r){this._delegate.forEach(l=>{n.call(r,new Zh(this._firestore,l))})}isEqual(n){return zE(this._delegate,n._delegate)}}class xd extends ar{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new xo(this.firestore,n):null}doc(n){try{return new xo(this.firestore,void 0===n?Rp(this._delegate):Rp(this._delegate,n))}catch(r){throw mo(r,"doc()","CollectionReference.doc()")}}add(n){return function(o,n){const r=rr(o.firestore,Fr),l=Rp(o),c=Hh(o.converter,n);return Su(r,[Bh(Du(o.firestore),"addDoc",l._key,c,null!==o.converter,{}).toMutation(l._key,Si.exists(!1))]).then(()=>l)}(this._delegate,n).then(r=>new xo(this.firestore,r))}isEqual(n){return Lv(this._delegate,n._delegate)}withConverter(n){return new xd(this.firestore,this._delegate.withConverter(n?xu.getInstance(this.firestore,n):null))}}function Ou(o){return rr(o,Gr)}class Sy{constructor(...n){this._delegate=new go(...n)}static documentId(){return new Sy(Ui.keyField().canonicalString())}isEqual(n){return(n=(0,Se.m9)(n))instanceof go&&this._delegate._internalPath.isEqual(n._internalPath)}}class Nu{constructor(n){this._delegate=n}static serverTimestamp(){const n=new sy("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new Nu(n)}static delete(){const n=new jh("deleteField");return n._methodName="FieldValue.delete",new Nu(n)}static arrayUnion(...n){const r=function(...o){return new $v("arrayUnion",o)}(...n);return r._methodName="FieldValue.arrayUnion",new Nu(r)}static arrayRemove(...n){const r=function(...o){return new qv("arrayRemove",o)}(...n);return r._methodName="FieldValue.arrayRemove",new Nu(r)}static increment(n){const r=function(o){return new jE("increment",o)}(n);return r._methodName="FieldValue.increment",new Nu(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const gw={Firestore:Iy,GeoPoint:Vh,Timestamp:er,Blob:Gh,Transaction:Ty,WriteBatch:Dy,DocumentReference:xo,DocumentSnapshot:Sd,Query:ar,QueryDocumentSnapshot:Zh,QuerySnapshot:Ay,CollectionReference:xd,FieldPath:Sy,FieldValue:Nu,setLogLevel:function(o){!function(o){ss.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};!function(o){(function(o,n){o.INTERNAL.registerComponent(new ke.wA("firestore-compat",r=>((n,r)=>new Iy(n,r,new cw))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},gw)))})(o),o.registerVersion("@firebase/firestore-compat","0.1.2")}(Ot.Z);var xy=q(9765),Wh=q(6682),Kh=q(309),Pa=q(3190),AI=q(7771),Oy=q(5319),Ny=q(7971),sl=q(8858);class ib extends xy.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,l){super(),this.scheduler=l,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new mw(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,l=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=l.length;let _;if(this.closed)throw new Ny.N;if(this.isStopped||this.hasError?_=Oy.w.EMPTY:(this.observers.push(n),_=new sl.W(this,n)),c&&n.add(n=new Kh.ht(n,c)),r)for(let I=0;I<f&&!n.closed;I++)n.next(l[I]);else for(let I=0;I<f&&!n.closed;I++)n.next(l[I].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),_}_getNow(){return(this.scheduler||AI.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,l=this._windowTime,c=this._events,f=c.length;let _=0;for(;_<f&&!(n-c[_].time<l);)_++;return f>r&&(_=Math.max(_,f-r)),_>0&&c.splice(0,_),c}}class mw{constructor(n,r){this.time=n,this.value=r}}function Oo(o,n,r){let l;return l=o&&"object"==typeof o?o:{bufferSize:o,windowTime:n,refCount:!1,scheduler:r},c=>c.lift(function({bufferSize:o=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:l}){let c,_,f=0,I=!1,R=!1;return function(W){let te;f++,!c||I?(I=!1,c=new ib(o,n,l),te=c.subscribe(this),_=W.subscribe({next(Ie){c.next(Ie)},error(Ie){I=!0,c.error(Ie)},complete(){R=!0,_=void 0,c.complete()}}),R&&(_=void 0)):te=c.subscribe(this),this.add(()=>{f--,te.unsubscribe(),te=void 0,_&&!R&&r&&0===f&&(_.unsubscribe(),_=void 0,c=void 0)})}}(l))}var sa=q(8049);function My(o,n){return n?(0,Pa.w)(()=>o,n):(0,Pa.w)(()=>o)}var Gp=q(3101),yw=q(7841);const _w=new v.OlP("angularfire2.auth.use-emulator"),vw=new v.OlP("angularfire2.auth.settings"),zp=new v.OlP("angularfire2.auth.tenant-id"),Nd=new v.OlP("angularfire2.auth.langugage-code"),ww=new v.OlP("angularfire2.auth.use-device-language"),Ry=new v.OlP("angularfire.auth.persistence"),Ew=(o,n,r,l,c,f,_,I)=>(0,ne.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const R=n.runOutsideAngular(()=>o.auth());if(r&&R.useEmulator(...r),l&&(R.tenantId=l),R.languageCode=c,f&&R.useDeviceLanguage(),_)for(const[H,W]of Object.entries(_))R.settings[H]=W;return I&&R.setPersistence(I),R},[r,l,c,f,_,I]);let Md=(()=>{class o{constructor(r,l,c,f,_,I,R,H,W,te,Ie){const qe=new xy.xQ,et=(0,ee.of)(void 0).pipe((0,Kh.QV)(_.outsideAngular),(0,Pa.w)(()=>f.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,6780)))),(0,me.U)(()=>(0,Ee.on)(r,f,l)),(0,me.U)(pt=>Ew(pt,f,I,H,W,te,R,Ie)),Oo({bufferSize:1,refCount:!1}));if((0,ce.PM)(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{et.pipe((0,sa.P)()).subscribe();const Tt=et.pipe((0,Pa.w)(Tn=>Tn.getRedirectResult().then(Dn=>Dn,()=>null)),ne.iC,Oo({bufferSize:1,refCount:!1})),dn=et.pipe((0,Pa.w)(Tn=>new we.y(Dn=>({unsubscribe:f.runOutsideAngular(()=>Tn.onAuthStateChanged(tr=>Dn.next(tr),tr=>Dn.error(tr),()=>Dn.complete()))})))),Nn=et.pipe((0,Pa.w)(Tn=>new we.y(Dn=>({unsubscribe:f.runOutsideAngular(()=>Tn.onIdTokenChanged(tr=>Dn.next(tr),tr=>Dn.error(tr),()=>Dn.complete()))}))));this.authState=Tt.pipe(My(dn),(0,Gp.R)(_.outsideAngular),(0,Kh.QV)(_.insideAngular)),this.user=Tt.pipe(My(Nn),(0,Gp.R)(_.outsideAngular),(0,Kh.QV)(_.insideAngular)),this.idToken=this.user.pipe((0,Pa.w)(Tn=>Tn?(0,ue.D)(Tn.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,Pa.w)(Tn=>Tn?(0,ue.D)(Tn.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,Wh.T)(Tt,qe,this.authState.pipe((0,We.h)(Tn=>!Tn))).pipe((0,me.U)(Tn=>(null==Tn?void 0:Tn.user)?Tn:null),(0,Gp.R)(_.outsideAngular),(0,Kh.QV)(_.insideAngular))}return(0,Ee.pX)(this,et,f,{spy:{apply:(pt,Tt,dn)=>{(pt.startsWith("signIn")||pt.startsWith("createUser"))&&dn.then(Nn=>qe.next(Nn))}}})}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(Ee.Dh),v.LFG(Ee.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ne.HU),v.LFG(_w,8),v.LFG(vw,8),v.LFG(zp,8),v.LFG(Nd,8),v.LFG(ww,8),v.LFG(Ry,8))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),bw=(()=>{class o{constructor(){yw.Z.registerVersion("angularfire",ne.q4.full,"auth-compat")}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=v.oAB({type:o}),o.\u0275inj=v.cJS({providers:[Md]}),o})();function Cw(o,n){return function(o,n=Be.z){return new we.y(r=>{let l;return null!=n?n.schedule(()=>{l=o.onSnapshot({includeMetadataChanges:!0},r)}):l=o.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=l&&l()}})}(o,n)}function Wp(o,n){return Cw(o,n).pipe((0,me.U)(r=>({payload:r,type:"query"})))}function Rd(o,n){return Wp(o,n).pipe((0,ae.O)(void 0),ye(),(0,me.U)(([r,l])=>{const c=l.payload.docChanges(),f=c.map(_=>({type:_.type,payload:_}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((_,I)=>{const R=c.find(W=>W.doc.ref.isEqual(_.ref)),H=null==r?void 0:r.payload.docs.find(W=>W.ref.isEqual(_.ref));R&&JSON.stringify(R.doc.metadata)===JSON.stringify(_.metadata)||!R&&H&&JSON.stringify(H.metadata)===JSON.stringify(_.metadata)||f.push({type:"modified",payload:{oldIndex:I,newIndex:I,type:"modified",doc:_}})}),f}))}function Yh(o,n,r){return Rd(o,r).pipe((0,Fe.R)((l,c)=>function(o,n,r){return n.forEach(l=>{r.indexOf(l.type)>-1&&(o=function(o,n){switch(n.type){case"added":if(!o[n.newIndex]||!o[n.newIndex].doc.ref.isEqual(n.doc.ref))return Kp(o,n.newIndex,0,n);break;case"modified":if(null==o[n.oldIndex]||o[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=o.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return Kp(o,n.newIndex,1,n)}break;case"removed":if(o[n.oldIndex]&&o[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Kp(o,n.oldIndex,1)}return o}(o,l))}),o}(l,c.map(f=>f.payload),n),[]),he(),(0,me.U)(l=>l.map(c=>({type:c.type,payload:c}))))}function Kp(o,n,r,...l){const c=o.slice();return c.splice(n,r,...l),c}function Py(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class ky{constructor(n,r,l){this.ref=n,this.query=r,this.afs=l}stateChanges(n){let r=Rd(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,me.U)(l=>l.filter(c=>n.indexOf(c.type)>-1)))),r.pipe((0,ae.O)(void 0),ye(),(0,We.h)(([l,c])=>c.length>0||!l),(0,me.U)(([l,c])=>c),ne.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Fe.R)((r,l)=>[...r,...l],[]))}snapshotChanges(n){const r=Py(n);return Yh(this.query,r,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(n={}){return Wp(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(r=>r.payload.docs.map(l=>n.idField?Object.assign(Object.assign({},l.data()),{[n.idField]:l.id}):l.data())),ne.iC)}get(n){return(0,ue.D)(this.query.get(n)).pipe(ne.iC)}add(n){return this.ref.add(n)}doc(n){return new Fy(this.ref.doc(n),this.afs)}}class Fy{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const l=this.ref.collection(n),{ref:c,query:f}=xw(l,r);return new ky(c,f,this.afs)}snapshotChanges(){return function(o,n){return Cw(o,n).pipe((0,ae.O)(void 0),ye(),(0,me.U)(([r,l])=>l.exists?(null==r?void 0:r.exists)?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,me.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,ue.D)(this.ref.get(n)).pipe(ne.iC)}}class Aw{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?Rd(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(r=>r.filter(l=>n.indexOf(l.type)>-1)),(0,We.h)(r=>r.length>0),ne.iC):Rd(this.query,this.afs.schedulers.outsideAngular).pipe(ne.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Fe.R)((r,l)=>[...r,...l],[]))}snapshotChanges(n){const r=Py(n);return Yh(this.query,r,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(n={}){return Wp(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(l=>l.payload.docs.map(c=>n.idField?Object.assign({[n.idField]:c.id},c.data()):c.data())),ne.iC)}get(n){return(0,ue.D)(this.query.get(n)).pipe(ne.iC)}}const Sw=new v.OlP("angularfire2.enableFirestorePersistence"),ob=new v.OlP("angularfire2.firestore.persistenceSettings"),ab=new v.OlP("angularfire2.firestore.settings"),lb=new v.OlP("angularfire2.firestore.use-emulator");function xw(o,n=(r=>r)){return{query:n(o),ref:o}}let Yp=(()=>{class o{constructor(r,l,c,f,_,I,R,H,W,te,Ie,qe,et,pt,Tt,dn){this.schedulers=R;const Nn=(0,Ee.on)(r,I,l),Tn=W;te&&Ew(Nn,I,Ie,et,pt,Tt,qe,dn),[this.firestore,this.persistenceEnabled$]=(0,ne.cc)(`${Nn.name}.firestore`,"AngularFirestore",Nn.name,()=>{const Dn=I.runOutsideAngular(()=>Nn.firestore());if(f&&Dn.settings(f),Tn&&Dn.useEmulator(...Tn),c&&!(0,ce.PM)(_)){const tr=()=>{try{return(0,ue.D)(Dn.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(js){return"undefined"!=typeof console&&console.warn(js),(0,ee.of)(!1)}};return[Dn,I.runOutsideAngular(tr)]}return[Dn,(0,ee.of)(!1)]},[f,Tn,c])}collection(r,l){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:_}=xw(c,l),I=this.schedulers.ngZone.run(()=>f);return new ky(I,_,this)}collectionGroup(r,l){const c=l||(_=>_),f=this.firestore.collectionGroup(r);return new Aw(c(f),this)}doc(r){let l;l="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>l);return new Fy(c,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(Ee.Dh),v.LFG(Ee.xv,8),v.LFG(Sw,8),v.LFG(ab,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ne.HU),v.LFG(ob,8),v.LFG(lb,8),v.LFG(Md,8),v.LFG(_w,8),v.LFG(vw,8),v.LFG(zp,8),v.LFG(Nd,8),v.LFG(ww,8),v.LFG(Ry,8))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),Ow=(()=>{class o{constructor(r,l){this.afs=r,this.afAuth=l,this.usuario={},this.chats=[],this.afAuth.authState.subscribe(c=>{c&&(this.usuario.name=c.displayName,this.usuario.email=c.email,this.usuario.id=c.uid)}),this.chatsCollection=this.afs.collection("chats",c=>c.orderBy("date","desc").limit(10))}cargarMensajes(){return this.chatsCollection.valueChanges().pipe((0,me.U)(r=>{this.chats=[];for(let l of r)this.chats.unshift(l)}))}agregarMensaje(r){let l=(new Date).toLocaleDateString()+" - "+(new Date).toLocaleTimeString(),c={nombre:this.usuario.name,email:this.usuario.email,mensaje:r,date:(new Date).getTime(),time:l,id:this.usuario.id};return this.chatsCollection.add(c)}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(Yp),v.LFG(Md))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ic(o,n,r,l){var _,c=arguments.length,f=c<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,r):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(o,n,r,l);else for(var I=o.length-1;I>=0;I--)(_=o[I])&&(f=(c<3?_(f):c>3?_(n,r,f):_(n,r))||f);return c>3&&f&&Object.defineProperty(n,r,f),f}function Mu(o,n){return function(r,l){n(r,l,o)}}var gb=q(9796),kd=q(9105);function Fd(o,n,r,l){return(0,kd.m)(r)&&(l=r,r=void 0),l?Fd(o,n,r).pipe((0,me.U)(c=>(0,gb.k)(c)?l(...c):l(c))):new we.y(c=>{mb(o,n,function(_){c.next(arguments.length>1?Array.prototype.slice.call(arguments):_)},c,r)})}function mb(o,n,r,l,c){let f;if(function(o){return o&&"function"==typeof o.addEventListener&&"function"==typeof o.removeEventListener}(o)){const _=o;o.addEventListener(n,r,c),f=()=>_.removeEventListener(n,r,c)}else if(function(o){return o&&"function"==typeof o.on&&"function"==typeof o.off}(o)){const _=o;o.on(n,r),f=()=>_.off(n,r)}else if(function(o){return o&&"function"==typeof o.addListener&&"function"==typeof o.removeListener}(o)){const _=o;o.addListener(n,r),f=()=>_.removeListener(n,r)}else{if(!o||!o.length)throw new TypeError("Invalid event target");for(let _=0,I=o.length;_<I;_++)mb(o[_],n,r,l,c)}l.add(f)}var en=q(9193),yb=q(8640);const Lw=new we.y(yb.Z);var Jh=q(8307);function Vw(o){return n=>n.lift(new Qp(o))}class Qp{constructor(n){this.value=n}call(n,r){return r.subscribe(new Jp(n,this.value))}}class Jp extends oe.L{constructor(n,r){super(n),this.value=r}_next(n){this.destination.next(this.value)}}var oi=q(5345);function _b(o){return n=>n.lift(new Uw(o))}class Uw{constructor(n){this.notifier=n}call(n,r){const l=new Uy(n),c=(0,oi.ft)(this.notifier,new oi.IY(l));return c&&!l.seenValue?(l.add(c),r.subscribe(l)):l}}class Uy extends oi.Ds{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function vb(o,n){if(1&o&&(v.TgZ(0,"label",2),v._uU(1),v.qZA()),2&o){const r=v.oxw();v.ekj("hide-control",r.hideError),v.xp6(1),v.Oqu(r.errorText)}}function Bw(o,n){}function jw(o,n){1&o&&v.YNc(0,Bw,0,0,"ng-template")}let By=(()=>{let o=class{constructor(r,l){this.cdr=r,this.host=l,this.errorText=null,this.hideError=!0}createTemplate(r,l,c){this.errorTemplate=r,this.errorContext={$implicit:l,text:c},this.cdr.markForCheck()}set customClass(r){this.host.nativeElement.classList.add(r)}set text(r){r!==this.errorText&&(this.errorText=r,this.hideError=!r,this.cdr.markForCheck())}};return o.\u0275fac=function(r){return new(r||o)(v.Y36(v.sBO),v.Y36(v.SBq))},o.\u0275cmp=v.Xpm({type:o,selectors:[["control-error"]],decls:2,vars:3,consts:[["class","control-error",3,"hide-control",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"control-error"]],template:function(r,l){1&r&&(v.YNc(0,vb,2,3,"label",0),v.YNc(1,jw,1,0,void 0,1)),2&r&&(v.Q6J("ngIf",!l.errorTemplate),v.xp6(1),v.Q6J("ngTemplateOutlet",l.errorTemplate)("ngTemplateOutletContext",l.errorContext))},directives:[ce.O5,ce.tP],styles:[".hide-control[_ngcontent-%COMP%] {\n        display: none !important;\n      }\n\n      [_nghost-%COMP%] {\n        display: block;\n      }"],changeDetection:0}),o})(),jy=(()=>{let o=class{constructor(r){this.vcr=r}};return o.\u0275fac=function(r){return new(r||o)(v.Y36(v.s_b))},o.\u0275dir=v.lG2({type:o,selectors:[["","controlErrorAnchor",""]],exportAs:["controlErrorAnchor"]}),o})();const Hy=new v.OlP("FORM_ERRORS",{providedIn:"root",factory:()=>({})}),$y=new v.OlP("ErrorTailorConfigProvider");let Xp=(()=>{let o=class{constructor(r){this.host=r,this.submit$=Fd(this.element,"submit").pipe((0,Jh.b)(()=>{!1===this.element.classList.contains("form-submitted")&&this.element.classList.add("form-submitted")}),Oo({refCount:!0,bufferSize:1})),this.reset$=Fd(this.element,"reset").pipe((0,Jh.b)(()=>{this.element.classList.remove("form-submitted")}),Oo({refCount:!0,bufferSize:1}))}get element(){return this.host.nativeElement}};return o.\u0275fac=function(r){return new(r||o)(v.Y36(v.SBq))},o.\u0275dir=v.lG2({type:o,selectors:[["form","errorTailor",""]]}),o})(),Ru=(()=>{let o=class{constructor(r,l,c,f,_,I,R,H,W){this.vcr=r,this.resolver=l,this.host=c,this.config=f,this.globalErrors=_,this.controlErrorAnchorParent=I,this.form=R,this.ngControl=H,this.controlContainer=W,this.customErrors={},this.controlErrorsOnAsync=!0,this.controlErrorsOnBlur=!0,this.destroy=new xy.xQ,this.mergedConfig={},this.submit$=this.form?this.form.submit$:en.E,this.reset$=this.form?this.form.reset$:en.E,this.mergedConfig=this.buildConfig()}ngOnInit(){this.anchor=this.resolveAnchor(),this.control=(this.controlContainer||this.ngControl).control;const r=!!this.control.asyncValidator,l=this.mergedConfig.blurPredicate(this.host.nativeElement),c=this.control.statusChanges.pipe(he()),f=this.control.valueChanges,_=(0,Wh.T)(c,f);let I=en.E,R=en.E;this.controlErrorsOnAsync&&r&&(I=c.pipe((0,ae.O)(!0))),this.controlErrorsOnBlur&&l&&(R=Fd(this.host.nativeElement,"focusout").pipe((0,Pa.w)(()=>f.pipe((0,ae.O)(!0)))));const W=(0,Wh.T)(this.submit$.pipe(Vw(!0)),this.reset$.pipe(Vw(!1))).pipe((0,Pa.w)(te=>te?_.pipe((0,ae.O)(!0)):Lw));this.reset$.pipe(_b(this.destroy)).subscribe(()=>this.clearRefs()),(0,Wh.T)(I,R,W).pipe(_b(this.destroy)).subscribe(()=>this.valueChanges())}setError(r,l){if(!this.ref){const f=this.resolver.resolveComponentFactory(this.mergedConfig.controlErrorComponent);this.ref=this.anchor.createComponent(f)}const c=this.ref.instance;this.controlErrorsTpl?c.createTemplate(this.controlErrorsTpl,l,r):c.text=r,this.controlErrorsClass&&(c.customClass=this.controlErrorsClass),this.mergedConfig.controlErrorComponentAnchorFn&&(this.customAnchorDestroyFn=this.mergedConfig.controlErrorComponentAnchorFn(this.host.nativeElement,this.ref.hostView.rootNodes[0]))}ngOnDestroy(){this.destroy.next(),this.clearRefs()}clearRefs(){this.customAnchorDestroyFn&&(this.customAnchorDestroyFn(),this.customAnchorDestroyFn=null),this.ref&&this.ref.destroy(),this.ref=null}valueChanges(){const r=this.control.errors;if(r){const[l]=Object.keys(r),c=this.customErrors[l]||this.globalErrors[l];if(!c)return;const f="function"==typeof c?c(r[l]):c;this.setError(f,r)}else this.ref&&this.setError(null)}resolveAnchor(){return this.controlErrorAnchor?this.controlErrorAnchor.vcr:this.controlErrorAnchorParent?this.controlErrorAnchorParent.vcr:this.vcr}buildConfig(){return Object.assign({blurPredicate:r=>"INPUT"===r.tagName||"SELECT"===r.tagName,controlErrorComponent:By},this.config)}};return o.\u0275fac=function(r){return new(r||o)(v.Y36(v.s_b),v.Y36(v._Vd),v.Y36(v.SBq),v.Y36($y),v.Y36(Hy),v.Y36(jy,8),v.Y36(Xp,8),v.Y36(J.a5,10),v.Y36(J.gN,10))},o.\u0275dir=v.lG2({type:o,selectors:[["","formControlName","",3,"controlErrorsIgnore",""],["","formControl","",3,"controlErrorsIgnore",""],["","formGroup","",3,"controlErrorsIgnore",""],["","formGroupName","",3,"controlErrorsIgnore",""],["","formArrayName","",3,"controlErrorsIgnore",""],["","ngModel","",3,"controlErrorsIgnore",""]],inputs:{customErrors:["controlErrors","customErrors"],controlErrorsOnAsync:"controlErrorsOnAsync",controlErrorsOnBlur:"controlErrorsOnBlur",controlErrorsClass:"controlErrorsClass",controlErrorsTpl:"controlErrorsTpl",controlErrorAnchor:"controlErrorAnchor"}}),Ic([(0,v.IIB)("controlErrors")],o.prototype,"customErrors",void 0),Ic([(0,v.IIB)()],o.prototype,"controlErrorsClass",void 0),Ic([(0,v.IIB)()],o.prototype,"controlErrorsTpl",void 0),Ic([(0,v.IIB)()],o.prototype,"controlErrorsOnAsync",void 0),Ic([(0,v.IIB)()],o.prototype,"controlErrorsOnBlur",void 0),Ic([(0,v.IIB)()],o.prototype,"controlErrorAnchor",void 0),o=Ic([Mu(3,(0,v.tBr)($y)),Mu(4,(0,v.tBr)(Hy)),Mu(5,(0,v.FiY)()),Mu(6,(0,v.FiY)()),Mu(7,(0,v.FiY)()),Mu(7,(0,v.PiD)()),Mu(8,(0,v.FiY)()),Mu(8,(0,v.PiD)())],o),o})();var Hw;let Ld=Hw=class{static forRoot(n={}){return{ngModule:Hw,providers:[{provide:$y,useValue:n},Object.assign({provide:Hy},n.errors)]}}};function eg(o,n){if(1&o&&(v.TgZ(0,"span"),v._uU(1),v.qZA()),2&o){const r=v.oxw(2).$implicit;v.xp6(1),v.hij("",r.nombre," :")}}function $w(o,n){if(1&o&&v._uU(0),2&o){const r=v.oxw(2).$implicit;v.hij("",r.email," : ")}}function qw(o,n){if(1&o&&(v.TgZ(0,"div"),v.TgZ(1,"div",8),v.TgZ(2,"span",9),v._uU(3),v.qZA(),v.TgZ(4,"span",10),v.YNc(5,eg,2,1,"span",6),v.YNc(6,$w,1,1,"ng-template",null,11,v.W1O),v.qZA(),v.TgZ(8,"p"),v._uU(9),v.qZA(),v.qZA(),v.qZA()),2&o){const r=v.MAs(7),l=v.oxw().$implicit;v.xp6(3),v.Oqu(l.time),v.xp6(2),v.Q6J("ngIf",l.nombre)("ngIfElse",r),v.xp6(4),v.hij(" ",l.mensaje," ")}}function Gw(o,n){if(1&o&&(v.TgZ(0,"span"),v._uU(1),v.qZA()),2&o){const r=v.oxw(2).$implicit;v.xp6(1),v.hij("",r.nombre," :")}}function wb(o,n){if(1&o&&v._uU(0),2&o){const r=v.oxw(2).$implicit;v.hij("",r.email," :")}}function Xh(o,n){if(1&o&&(v.TgZ(0,"div"),v.TgZ(1,"span",12),v.YNc(2,Gw,2,1,"span",6),v.YNc(3,wb,1,1,"ng-template",null,11,v.W1O),v.qZA(),v._uU(5," - "),v.TgZ(6,"span",9),v._uU(7),v.qZA(),v.TgZ(8,"p"),v._uU(9),v.qZA(),v.qZA()),2&o){const r=v.MAs(4),l=v.oxw().$implicit;v.xp6(2),v.Q6J("ngIf",l.nombre)("ngIfElse",r),v.xp6(5),v.Oqu(l.time),v.xp6(2),v.hij(" ",l.mensaje," ")}}function ef(o,n){if(1&o&&(v.TgZ(0,"div",5),v.YNc(1,qw,10,4,"div",6),v.YNc(2,Xh,10,4,"ng-template",null,7,v.W1O),v.qZA()),2&o){const r=n.$implicit,l=v.MAs(3),c=v.oxw();v.xp6(1),v.Q6J("ngIf",c.chatServ.usuario.id==r.id)("ngIfElse",l)}}Ld.\u0275fac=function(n){return new(n||Ld)},Ld.\u0275mod=v.oAB({type:Ld}),Ld.\u0275inj=v.cJS({imports:[[ce.ez]]});let zw=(()=>{class o{constructor(r,l){this.chatServ=r,this.afs=l,this.mensaje="",this.chatServ.cargarMensajes().subscribe(()=>{setTimeout(()=>{this.element.scrollTop=this.element.scrollHeight},20)})}ngOnInit(){this.element=document.getElementById("mensajes")}enviar_mensaje(){0!=this.mensaje.length&&(this.element.scrooltop=this.element.scrolHeight,this.chatServ.agregarMensaje(this.mensaje).then(()=>this.mensaje="").catch(r=>console.log("Error",r))),this.mensaje=""}}return o.\u0275fac=function(r){return new(r||o)(v.Y36(Ow),v.Y36(Yp))},o.\u0275cmp=v.Xpm({type:o,selectors:[["app-chat"]],features:[v._Bn([Ow])],decls:7,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"color","seashell","border-radius","10px"],["id","mensajes",1,"mensajes"],["class","h5",4,"ngFor","ngForOf"],[1,"buttomChat"],["type","text","size","39","placeholder","Enviar mensaje",1,"navbar","navbar-expand-lg","navbar-dark","bg-dark",2,"color","seashell","left","-4%",3,"ngModel","ngModelChange","keyup.enter"],[1,"h5"],[4,"ngIf","ngIfElse"],["notUser",""],[2,"text-align","right"],[2,"font-size","1rem"],[1,"badge","badge-primary","text-wrap"],["notName",""],[1,"badge","badge-success","text-wrap"]],template:function(r,l){1&r&&(v.TgZ(0,"div"),v.TgZ(1,"h1",0),v._uU(2,"Chat"),v.qZA(),v.TgZ(3,"div",1),v.YNc(4,ef,4,2,"div",2),v.qZA(),v.TgZ(5,"div",3),v.TgZ(6,"input",4),v.NdJ("ngModelChange",function(f){return l.mensaje=f})("keyup.enter",function(){return l.enviar_mensaje()}),v.qZA(),v.qZA(),v.qZA()),2&r&&(v.xp6(4),v.Q6J("ngForOf",l.chatServ.chats),v.xp6(2),v.Q6J("ngModel",l.mensaje))},directives:[ce.sg,J.Fj,J.JJ,J.On,Ru,ce.O5],styles:[".main-container[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:150px}.puntero[_ngcontent-%COMP%]{cursor:pointer}.chat-window[_ngcontent-%COMP%]{padding:10px;width:400px;height:500px;overflow-y:scroll;border:1px solid #4080ff;border-radius:20px}.mensajes[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mensajes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4080ff}.mensajes[_ngcontent-%COMP%]{overflow-y:scroll;height:336px;padding:5px}.animated[_ngcontent-%COMP%]{animation-duration:1s;animation-fill-mode:both}.fast[_ngcontent-%COMP%]{animation-duration:.3s;animation-fill-mode:both}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation-name:fadeIn}.buttomChat[_ngcontent-%COMP%]{width:100%;align-self:center;display:block;bottom:-12px;left:0%;position:relative;border-radius:20px}.msg[_ngcontent-%COMP%]{box-sizing:border-box}.linea[_ngcontent-%COMP%]{display:block}"]}),o})(),Pu=(()=>{class o{constructor(r){this.auth=r,this.usuario={},r.authState.subscribe(l=>{l&&(this.usuario.name=l.displayName,this.usuario.id=l.uid)})}verificarCorreo(){this.auth.currentUser.then(r=>{r&&r.sendEmailVerification()})}registrar(r,l){return this.auth.createUserWithEmailAndPassword(r,l)}login(r,l){return this.auth.signInWithEmailAndPassword(r,l)}logOut(){return this.usuario={},this.auth.signOut()}googleAuth(){let r=new yw.Z.auth.GoogleAuthProvider;return this.auth.signInWithRedirect(r)}getUserLog(){return this.auth.authState.pipe((0,sa.P)()).toPromise()}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(Md))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac}),o})();function Eb(o,n){if(1&o){const r=v.EpF();v.TgZ(0,"div"),v.TgZ(1,"a",20),v.NdJ("click",function(){return v.CHM(r),v.oxw().abrirChat()}),v._uU(2,"imiciar Chat"),v.qZA(),v.qZA()}}function Zw(o,n){1&o&&(v.TgZ(0,"p",21),v._uU(1,"buenas contamos con unos juegos simples echos con amor y desesperacion , para ver el chat tiene que iniciar sesion "),v.qZA(),v.TgZ(2,"a",22),v._uU(3,"iniciar sesion "),v.qZA())}function Ww(o,n){1&o&&(v.TgZ(0,"div",23),v._UZ(1,"app-chat"),v.qZA())}let qy=(()=>{class o{constructor(r){this.as=r,this.user$=this.as.auth.user,this.actionChat=!1}ngOnInit(){var r=this;return(0,Le.Z)(function*(){r.user=yield r.as.getUserLog()})()}abrirChat(){this.actionChat=!this.actionChat}}return o.\u0275fac=function(r){return new(r||o)(v.Y36(Pu))},o.\u0275cmp=v.Xpm({type:o,selectors:[["app-home"]],features:[v._Bn([Pu])],decls:41,vars:5,consts:[[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-light",2,"z-index","1","background-image","url(../../../assets/imagenes/fondocolores1.jpg)","background-size","cover","background-repeat","no-repeat"],[1,"product-device","shadow-sm","d-none","d-md-block",2,"background-image","url(../../../assets/imagenes/celu.png)","background-size","cover","background-repeat","no-repeat"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block",2,"z-index","2","background-image","url(../../../assets/imagenes/tapa2.png)","background-size","cover","background-repeat","no-repeat"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","font-weight-normal",2,"color","white"],[4,"ngIf","ngIfElse"],["logeado",""],["style","z-index:3;","class","chat-window",4,"ngIf"],[1,"d-md-flex","flex-md-equal","w-100","my-md-3","pl-md-3"],[1,"bg-dark","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"my-3","py-3"],[1,"display-5"],[1,"lead"],["type","button","routerLink","/list-gamer/menor-mayor",1,"bg-light","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0","background-image","url(../../../assets/imagenes/mayoromenor.jpg)","background-size","cover","background-repeat","no-repeat"],[1,"bg-light","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],[1,"my-3","p-3"],["type","button","routerLink","/list-gamer/ahorcado",1,"bg-dark","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0","background-image","url(../../../assets/imagenes/walpaperahorcado.jpg)","background-size","cover","background-repeat","no-repeat"],["type","button","routerLink","/list-gamer/puzzle",1,"bg-dark","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0","background-image","url(../../../assets/imagenes/puzzles.jpg)","background-size","cover","background-repeat","no-repeat"],[1,"bg-primary","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],["type","button","routerLink","/list-gamer/preguntados",1,"bg-light","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0","background-image","url(../../../assets/imagenes/final.jpg)","background-size","cover","background-repeat","no-repeat"],[1,"btn","btn-outline-success",3,"click"],[1,"lead","font-weight-normal",2,"color","white"],["routerLink","../login",1,"btn","btn-outline-warning"],[1,"chat-window",2,"z-index","3"]],template:function(r,l){if(1&r&&(v.TgZ(0,"div",0),v._UZ(1,"div",1),v._UZ(2,"div",2),v.TgZ(3,"div",3),v.TgZ(4,"h1",4),v._uU(5,"JUEGOS"),v.qZA(),v.YNc(6,Eb,3,0,"div",5),v.ALo(7,"async"),v.YNc(8,Zw,4,0,"ng-template",null,6,v.W1O),v.qZA(),v.YNc(10,Ww,2,0,"div",7),v.qZA(),v.TgZ(11,"div",8),v.TgZ(12,"div",9),v.TgZ(13,"div",10),v.TgZ(14,"h2",11),v._uU(15,"Mayor o Menor?"),v.qZA(),v.TgZ(16,"p",12),v._uU(17,"Adivina la proxima carta."),v.qZA(),v.qZA(),v._UZ(18,"div",13),v.qZA(),v.TgZ(19,"div",14),v.TgZ(20,"div",15),v.TgZ(21,"h2",11),v._uU(22," EL Ahorcado"),v.qZA(),v.TgZ(23,"p",12),v._uU(24,"Descubre la palabra que se encuentra escondida."),v.qZA(),v.qZA(),v._UZ(25,"div",16),v.qZA(),v.qZA(),v.TgZ(26,"div",8),v.TgZ(27,"div",14),v.TgZ(28,"div",15),v.TgZ(29,"h2",11),v._uU(30,"Puzzle Numerico"),v.qZA(),v.TgZ(31,"p",12),v._uU(32,"Juego Simple donde tenes que acomodar los numeros "),v.qZA(),v.qZA(),v._UZ(33,"div",17),v.qZA(),v.TgZ(34,"div",18),v.TgZ(35,"div",10),v.TgZ(36,"h2",11),v._uU(37,"Preguntados Pokemon"),v.qZA(),v.TgZ(38,"p",12),v._uU(39,"Juego de preguntas sobre pokemones"),v.qZA(),v.qZA(),v._UZ(40,"div",19),v.qZA(),v.qZA()),2&r){const c=v.MAs(9);v.xp6(6),v.Q6J("ngIf",v.lcZ(7,3,l.user$))("ngIfElse",c),v.xp6(4),v.Q6J("ngIf",l.actionChat)}},directives:[ce.O5,be.rH,be.yS,zw],pipes:[ce.Ov],styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:#000000d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.chat-window[_ngcontent-%COMP%]{padding:10px;width:400px;height:500px;overflow:hidden;border:1px solid #4080ff;border-radius:20px;background-image:url(fondoChat.eb304d967000ec1b7651.jpg)}@media (max-width: 600px){.chat-window[_ngcontent-%COMP%]{width:358px;height:500px;margin-left:-5px}}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),o})();var bb=q(8259),Gy=q.n(bb);let Kw=(()=>{class o{constructor(r){this.afs=r,this.nameCollectionDB="usuarios",this.userLogC=r.collection(this.nameCollectionDB)}onSaveContact(r){var l=this;return(0,Le.Z)(function*(){return new Promise(function(){var c=(0,Le.Z)(function*(f,_){try{const I=l.afs.createId(),R=Object.assign({id:I},r);f(l.userLogC.doc(I).set(R))}catch(I){_(I.message)}});return function(f,_){return c.apply(this,arguments)}}())})()}saveUserLog(r){return this.userLogC.add(r)}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(Yp))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Cb(o,n){1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",21),v._uU(2,"Error:"),v.qZA(),v.TgZ(3,"i",21),v._uU(4,"No cumple con la cantidad de caracteres minimo"),v.qZA(),v.qZA())}function BI(o,n){1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",21),v._uU(2,"Error:"),v.qZA(),v.TgZ(3,"i",21),v._uU(4,"campo vacio , este campo es requerido"),v.qZA(),v.qZA())}function jI(o,n){if(1&o&&(v.YNc(0,Cb,5,0,"div",20),v.YNc(1,BI,5,0,"div",20)),2&o){const r=n.$implicit;v.Q6J("ngIf",null==r?null:r.minlength),v.xp6(1),v.Q6J("ngIf",null==r?null:r.required)}}function HI(o,n){1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",21),v._uU(2,"ERROR :"),v.qZA(),v.TgZ(3,"i",21),v._uU(4,"No es valido ese email"),v.qZA(),v.qZA())}function $I(o,n){1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",21),v._uU(2,"ERROR :"),v.qZA(),v.TgZ(3,"i",21),v._uU(4,"campo vacio , este campo es requerido"),v.qZA(),v.qZA())}function Yw(o,n){if(1&o&&(v.YNc(0,HI,5,0,"div",20),v.YNc(1,$I,5,0,"div",20)),2&o){const r=v.oxw();v.Q6J("ngIf",r.email.hasError("pattern")),v.xp6(1),v.Q6J("ngIf",r.email.hasError("required"))}}const tf=function(o,n){return{"is-invalid":o,"is-valid":n}};function Qw(o,n){1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",20),v._uU(2,"Error:"),v.qZA(),v.TgZ(3,"i",20),v._uU(4,"No cumple con la cantidad de caracteres minimo"),v.qZA(),v.qZA())}function nf(o,n){1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",20),v._uU(2,"Error:"),v.qZA(),v.TgZ(3,"i",20),v._uU(4,"campo vacio , este campo es requerido"),v.qZA(),v.qZA())}function Db(o,n){if(1&o&&(v.YNc(0,Qw,5,0,"div",19),v.YNc(1,nf,5,0,"div",19)),2&o){const r=n.$implicit;v.Q6J("ngIf",null==r?null:r.minlength),v.xp6(1),v.Q6J("ngIf",null==r?null:r.required)}}function Ab(o,n){if(1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",20),v._uU(2),v.ALo(3,"json"),v.qZA(),v.TgZ(4,"i",20),v._uU(5,"No es valido ese email"),v.qZA(),v.qZA()),2&o){const r=v.oxw().$implicit;v.xp6(2),v.hij("ERROR :",v.lcZ(3,1,r),"")}}function Sb(o,n){1&o&&(v.TgZ(0,"div"),v.TgZ(1,"b",20),v._uU(2,"ERROR :"),v.qZA(),v.TgZ(3,"i",20),v._uU(4,"campo vacio , este campo es requerido"),v.qZA(),v.qZA())}function xb(o,n){if(1&o&&(v.YNc(0,Ab,6,3,"div",19),v.YNc(1,Sb,5,0,"div",19)),2&o){const r=v.oxw();v.Q6J("ngIf",r.email.hasError("pattern")),v.xp6(1),v.Q6J("ngIf",r.email.hasError("required"))}}const Jw=function(o,n){return{"is-invalid":o,"is-valid":n}},Nb=[{path:"home",component:qy},{path:"login",component:(()=>{class o{constructor(r,l,c){this.Sauth=r,this.router=l,this.log=c,this.emailPattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.dato1="",this.dato2="",this.user$=this.Sauth.auth.user,this.email=new J.NI(this.dato1,[J.kI.required,J.kI.pattern(this.emailPattern)]),this.password=new J.NI(this.dato2,[J.kI.required,J.kI.minLength(6)]),this.loginForm=new J.cw({email:this.email,password:this.password})}ngOnInit(){}onLogin(){var r=this;return(0,Le.Z)(function*(){const{email:l,password:c}=r.loginForm.value;try{const f=yield r.Sauth.login(l,c),I={email:l,loggedAt:(new Date).toLocaleDateString()+"-"+(new Date).toLocaleTimeString()};f&&(r.log.saveUserLog(I),console.log(I.loggedAt),r.router.navigate(["/home"]))}catch(f){console.log(f.code),"auth/wrong-password"===f.code?(r.mensajeError("La contrase\xf1a es incorrecta con ese correo"),r.loginForm.reset()):"auth/user-not-found"===f.code&&(r.mensajeError("El usuario no esta autorizado"),r.loginForm.reset())}})()}rellenar(){this.dato1="testprobado@gmail.com",this.dato2="vagovago",this.email=new J.NI(this.dato1,[J.kI.required,J.kI.pattern(this.emailPattern)]),this.password=new J.NI(this.dato2,[J.kI.required,J.kI.minLength(6)]),this.loginForm=new J.cw({email:this.email,password:this.password})}mensajeError(r){Gy().fire({icon:"error",title:"Oops...",text:r})}}return o.\u0275fac=function(r){return new(r||o)(v.Y36(Pu),v.Y36(be.F0),v.Y36(Kw))},o.\u0275cmp=v.Xpm({type:o,selectors:[["app-login"]],features:[v._Bn([Pu])],decls:32,vars:12,consts:[[1,"form-signin"],[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],["errorTailor","","novalidate","",3,"formGroup","ngSubmit"],["formulario","ngForm"],[1,"form-group"],["for","email"],["type","email","id","inputEmail","placeholder","ingrese correo electronico","formControlName","email","required","","autofocus","",1,"form-control",3,"ngClass","controlErrorsTpl"],["for","Password"],["type","password","id","inputPassword","placeholder","ingrese contrase\xf1a","formControlName","password","required","","autofocus","",1,"form-control",3,"controlErrorsTpl","ngClass"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],[1,"form-control"],["routerLink","../registro"],["type","submit",1,"btn","btn-lg","btn-danger","btn-block",3,"click"],["passwordError",""],["emailError",""],[4,"ngIf"],[2,"color","red"]],template:function(r,l){if(1&r&&(v.TgZ(0,"form",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v.TgZ(3,"div",3),v.TgZ(4,"div",4),v.TgZ(5,"h1",5),v._uU(6,"INGRESAR"),v.qZA(),v.TgZ(7,"form",6,7),v.NdJ("ngSubmit",function(){return l.onLogin()}),v.TgZ(9,"div",8),v.TgZ(10,"label",9),v._uU(11,"Email"),v.qZA(),v._UZ(12,"input",10),v.qZA(),v.TgZ(13,"div",8),v.TgZ(14,"label",11),v._uU(15,"Password"),v.qZA(),v._UZ(16,"input",12),v.qZA(),v.TgZ(17,"div",13),v.TgZ(18,"button",14),v._uU(19,"Sign in"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(20,"div",15),v.TgZ(21,"p"),v._uU(22,"No tienes una cuenta?"),v.TgZ(23,"a",16),v._uU(24,"Registrarse"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(25,"div",15),v.TgZ(26,"button",17),v.NdJ("click",function(){return l.rellenar()}),v._uU(27,"rellenar"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.YNc(28,jI,2,2,"ng-template",null,18,v.W1O),v.YNc(30,Yw,2,2,"ng-template",null,19,v.W1O)),2&r){const c=v.MAs(8),f=v.MAs(29),_=v.MAs(31);v.xp6(7),v.Q6J("formGroup",l.loginForm),v.xp6(5),v.Q6J("ngClass",v.WLB(6,tf,l.email.invalid&&l.email.touched,l.email.valid))("controlErrorsTpl",_),v.xp6(4),v.Q6J("controlErrorsTpl",f)("ngClass",v.WLB(9,tf,l.password.invalid&&l.password.touched,l.password.valid)),v.xp6(2),v.Q6J("disabled",!c.form.valid)}},directives:[J._Y,J.JL,J.F,Xp,J.sg,Ru,J.Fj,J.JJ,J.u,J.Q7,ce.mk,be.yS,ce.O5],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{background-image:url(fondoLogin.d193770a49a45f02a4ec.jpg);width:100%;max-width:800px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.center-span[_ngcontent-%COMP%]{display:block;text-align:center}.alert-danger[_ngcontent-%COMP%]{color:#721c24;margin-bottom:5px}.container-error-message[_ngcontent-%COMP%]{padding:3px}"]}),o})()},{path:"quien-soy",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=v.Xpm({type:o,selectors:[["app-quien-soy"]],decls:14,vars:0,consts:[["id","pantalla-dividida"],[1,"izquierda"],[1,"creative"],[1,"juego"],[1,"derecha"]],template:function(r,l){1&r&&(v.TgZ(0,"section",0),v.TgZ(1,"div",1),v.TgZ(2,"h1"),v.TgZ(3,"span",2),v._uU(4,"Joaquin"),v.qZA(),v._uU(5," Rojas"),v.qZA(),v.TgZ(6,"h3"),v._uU(7,"hola que tal me llamo joaquin rojas soy un estudiante con ganas de programar"),v.qZA(),v.TgZ(8,"div",3),v.TgZ(9,"h4"),v._uU(10,"EL juego propio: puzzle numerico "),v.qZA(),v.TgZ(11,"p"),v._uU(12,"El juego consite en armar con la menor cantidad de moviminetos el puzzle de numeros tocando cada casilla y automaticamente se corre al lugar q se pueda ocupar"),v.qZA(),v.qZA(),v.qZA(),v._UZ(13,"div",4),v.qZA())},styles:['body[_ngcontent-%COMP%]{margin:0;padding:0}.izquierda[_ngcontent-%COMP%]{background:black;height:100vh;width:50%}.derecha[_ngcontent-%COMP%]{background-image:url("WhatsApp Image 2020-07-13 at 09.11.52.9bb246cbbf08eda8a64d.jpeg");background-size:cover;background-position:center;width:50%;height:100vh;bottom:2%}#pantalla-dividida[_ngcontent-%COMP%]{display:flex}.creative[_ngcontent-%COMP%]{color:#f80606}h1[_ngcontent-%COMP%]{font-size:60px;width:50%;margin:auto auto 40px;color:#fff}p[_ngcontent-%COMP%]{font-size:19px;line-height:30px;width:50%;margin:auto;color:#fff}h3[_ngcontent-%COMP%]{color:#fff}h4[_ngcontent-%COMP%]{font-size:40px;-webkit-text-decoration:#ee9510;text-decoration:#ee9510;margin:auto auto 40px;color:#fff}.juego[_ngcontent-%COMP%]{display:flex}']}),o})()},{path:"registro",component:(()=>{class o{constructor(r,l,c){this.as=r,this.router=l,this.log=c,this.emailPattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.email=new J.NI("",[J.kI.required,J.kI.pattern(this.emailPattern)]),this.password=new J.NI("",[J.kI.required,J.kI.minLength(6)]),this.registerForm=new J.cw({email:this.email,password:this.password})}ngOnInit(){this.registerForm.reset()}registrar(){var r=this;return(0,Le.Z)(function*(){const{email:l,password:c}=r.registerForm.value;try{let f=yield r.as.registrar(l,c);const I={email:l,loggedAt:(new Date).toLocaleDateString()+" - "+(new Date).toLocaleTimeString()};f&&(r.log.saveUserLog(I),console.log(I.loggedAt),r.router.navigate(["/home"]))}catch(f){"auth/email-already-in-use"===f.code&&(r.mensajeError("el correo electronico ya esta registrado , intente con otro"),r.registerForm.reset())}})()}mensajeError(r){Gy().fire({icon:"error",title:"Oops...",text:r})}}return o.\u0275fac=function(r){return new(r||o)(v.Y36(Pu),v.Y36(be.F0),v.Y36(Kw))},o.\u0275cmp=v.Xpm({type:o,selectors:[["app-registro"]],features:[v._Bn([Pu])],decls:29,vars:12,consts:[[1,"form-signin"],[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],["errorTailor","","novalidate","",3,"formGroup","ngSubmit"],["formulario","ngForm"],[1,"form-group"],["for","email"],["type","email","id","inputEmail","placeholder","ingrese correo electronico","formControlName","email","required","","autofocus","",1,"form-control",3,"ngClass","controlErrorsTpl"],["for","Password"],["type","password","id","inputPassword","placeholder","ingrese contrase\xf1a","formControlName","password","required","","autofocus","",1,"form-control",3,"controlErrorsTpl","ngClass"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],[1,"form-control"],["routerLink","../login"],["passwordError",""],["emailError",""],[4,"ngIf"],[2,"color","red"]],template:function(r,l){if(1&r&&(v.TgZ(0,"form",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v.TgZ(3,"div",3),v.TgZ(4,"div",4),v.TgZ(5,"h1",5),v._uU(6,"REGISTRO"),v.qZA(),v.TgZ(7,"form",6,7),v.NdJ("ngSubmit",function(){return l.registrar()}),v.TgZ(9,"div",8),v.TgZ(10,"label",9),v._uU(11,"Email"),v.qZA(),v._UZ(12,"input",10),v.qZA(),v.TgZ(13,"div",8),v.TgZ(14,"label",11),v._uU(15,"Password"),v.qZA(),v._UZ(16,"input",12),v.qZA(),v.TgZ(17,"div",13),v.TgZ(18,"button",14),v._uU(19,"registrar"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(20,"div",15),v.TgZ(21,"p"),v._uU(22,"Tines una Cuenta?"),v.TgZ(23,"a",16),v._uU(24,"ingresar"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.YNc(25,Db,2,2,"ng-template",null,17,v.W1O),v.YNc(27,xb,2,2,"ng-template",null,18,v.W1O)),2&r){const c=v.MAs(8),f=v.MAs(26),_=v.MAs(28);v.xp6(7),v.Q6J("formGroup",l.registerForm),v.xp6(5),v.Q6J("ngClass",v.WLB(6,Jw,l.email.invalid&&l.email.touched,l.email.valid))("controlErrorsTpl",_),v.xp6(4),v.Q6J("controlErrorsTpl",f)("ngClass",v.WLB(9,Jw,l.password.invalid&&l.password.touched,l.password.valid)),v.xp6(2),v.Q6J("disabled",!c.form.valid)}},directives:[J._Y,J.JL,J.F,Xp,J.sg,Ru,J.Fj,J.JJ,J.u,J.Q7,ce.mk,be.yS,ce.O5],pipes:[ce.Ts],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{background-image:url(fondoLogin.d193770a49a45f02a4ec.jpg);width:100%;max-width:800px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.center-span[_ngcontent-%COMP%]{display:block;text-align:center}.alert-danger[_ngcontent-%COMP%]{color:#721c24;margin-bottom:5px}.container-error-message[_ngcontent-%COMP%]{padding:3px}"]}),o})()},{path:"chat",component:zw},{path:"list-gamer",loadChildren:()=>q.e(216).then(q.bind(q,9216)).then(o=>o.ListGamersModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",component:qy}];let Mb=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=v.oAB({type:o}),o.\u0275inj=v.cJS({imports:[[be.Bz.forRoot(Nb)],be.Bz]}),o})();function Vd(o,n){if(1&o){const r=v.EpF();v.TgZ(0,"a",16),v.NdJ("click",function(){return v.CHM(r),v.oxw(2).onSUB()}),v._uU(1),v.qZA()}if(2&o){const r=v.oxw().ngIf;v.xp6(1),v.Oqu(null==r?null:r.displayName)}}function Rb(o,n){if(1&o&&(v.TgZ(0,"a",17),v._uU(1),v.qZA()),2&o){const r=v.oxw().ngIf;v.xp6(1),v.Oqu(null==r?null:r.email)}}function Xw(o,n){if(1&o){const r=v.EpF();v.TgZ(0,"li",6),v.TgZ(1,"a",18),v.NdJ("click",function(){return v.CHM(r),v.oxw(2).deslogear()}),v._uU(2,"SingOut"),v.qZA(),v.qZA()}}function Pb(o,n){if(1&o&&(v.TgZ(0,"ul",12),v.TgZ(1,"li",6),v.YNc(2,Vd,2,1,"a",13),v.qZA(),v.YNc(3,Rb,2,1,"ng-template",null,14,v.W1O),v.YNc(5,Xw,3,0,"li",15),v.qZA()),2&o){const r=n.ngIf,l=v.MAs(4);v.xp6(2),v.Q6J("ngIf",r.displayName)("ngIfElse",l),v.xp6(3),v.Q6J("ngIf",r)}}function e0(o,n){if(1&o){const r=v.EpF();v.TgZ(0,"ul",12),v.TgZ(1,"li",6),v.TgZ(2,"a",19),v.NdJ("click",function(){return v.CHM(r),v.oxw().onSUB()}),v._uU(3,"SingUp"),v.qZA(),v.qZA(),v.TgZ(4,"li",6),v.TgZ(5,"a",20),v.NdJ("click",function(){return v.CHM(r),v.oxw().onSUB()}),v._uU(6,"SingIn"),v.qZA(),v.qZA(),v.qZA()}}let kb=(()=>{class o{constructor(r,l){this.as=r,this.router=l,this.estaLog=!1,this.flag="navbar-toggler",this.flag2="collapse navbar-collapse",this.boton=!1,this.user$=this.as.auth.user}onSUB(){"navbar-toggler"==this.flag?(this.flag="navbar-toggler collaps",this.boton=!0,this.flag2="collapse navbar-collapse show"):(this.flag="navbar-toggler",this.flag2="collapse navbar-collapse")}ngOnInit(){var r=this;return(0,Le.Z)(function*(){r.user=yield r.as.getUserLog(),r.user&&(r.estaLog=!0)})()}deslogear(){var r=this;return(0,Le.Z)(function*(){try{yield r.as.logOut(),r.onSUB(),r.router.navigate(["./login"])}catch(l){console.log("no pudiste deslogear")}})()}}return o.\u0275fac=function(r){return new(r||o)(v.Y36(Pu),v.Y36(be.F0))},o.\u0275cmp=v.Xpm({type:o,selectors:[["app-navbar"]],inputs:{estaLog:"estaLog"},features:[v._Bn([Pu])],decls:19,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarTogglerDemo02","aria-controls","navbarTogglerDemo02","aria-expanded","susurro","aria-label","Toggle navigation",3,"ngClass","click"],[1,"navbar-toggler-icon"],["id","navbarTogglerDemo02",3,"ngClass"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLink","./home",1,"nav-link",2,"color","white",3,"click"],[1,"sr-only"],["routerLink","./quien-soy",1,"nav-link",2,"color","white",3,"click"],["class","navbar-nav mr-5 mt-0 mt-lg-0",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mr-5","mt-0","mt-lg-0"],["class","nav-link","style","color:white",3,"click",4,"ngIf","ngIfElse"],["notName",""],["class","nav-item",4,"ngIf"],[1,"nav-link",2,"color","white",3,"click"],[1,"nav-link"],["type","button",1,"nav-link",2,"color","white",3,"click"],["routerLink","./registro",1,"nav-link",2,"color","white",3,"click"],["routerLink","./login",1,"nav-link",2,"color","white",3,"click"]],template:function(r,l){if(1&r&&(v.TgZ(0,"nav",0),v.TgZ(1,"a",1),v._uU(2,"SALA DE JUEGO"),v.qZA(),v.TgZ(3,"button",2),v.NdJ("click",function(){return l.onSUB()}),v._UZ(4,"span",3),v.qZA(),v.TgZ(5,"div",4),v.TgZ(6,"ul",5),v.TgZ(7,"li",6),v.TgZ(8,"a",7),v.NdJ("click",function(){return l.onSUB()}),v._uU(9,"Home "),v.TgZ(10,"span",8),v._uU(11,"(current)"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(12,"li",6),v.TgZ(13,"a",9),v.NdJ("click",function(){return l.onSUB()}),v._uU(14,"Quen soy"),v.qZA(),v.qZA(),v.qZA(),v.YNc(15,Pb,6,3,"ul",10),v.ALo(16,"async"),v.YNc(17,e0,7,0,"ng-template",null,11,v.W1O),v.qZA(),v.qZA()),2&r){const c=v.MAs(18);v.xp6(3),v.Q6J("ngClass",l.flag),v.xp6(2),v.Q6J("ngClass",l.flag2),v.xp6(10),v.Q6J("ngIf",v.lcZ(16,4,l.user$))("ngIfElse",c)}},directives:[ce.mk,be.yS,ce.O5],pipes:[ce.Ov],styles:[".container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:#000000d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}"]}),o})(),t0=(()=>{class o{constructor(r){this.router=r,this.title="salaDeJuegoDos"}}return o.\u0275fac=function(r){return new(r||o)(v.Y36(be.F0))},o.\u0275cmp=v.Xpm({type:o,selectors:[["app-root"]],decls:10,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"]],template:function(r,l){1&r&&(v.TgZ(0,"html",0),v.TgZ(1,"head"),v._UZ(2,"meta",1),v._UZ(3,"meta",2),v._UZ(4,"meta",3),v.TgZ(5,"title"),v._uU(6,"Document"),v.qZA(),v.qZA(),v.TgZ(7,"body"),v._UZ(8,"app-navbar"),v._UZ(9,"router-outlet"),v.qZA(),v.qZA())},directives:[kb,be.lC],styles:[""]}),o})();const n0_firebaseConfig={apiKey:"AIzaSyDustkQ89FN_KBO9YEypDD5vw-q62Rh6vM",authDomain:"aplicacionweb-f45ae.firebaseapp.com",projectId:"aplicacionweb-f45ae",storageBucket:"aplicacionweb-f45ae.appspot.com",messagingSenderId:"657037978887",appId:"1:657037978887:web:20a5c58fa10c962830e9a2"};var zy=q(9344),Pr=q(7238);function Zy(){return"undefined"!=typeof window&&void 0!==window.document}function tg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ku(o){switch(o.length){case 0:return new Pr.ZN;case 1:return o[0];default:return new Pr.ZE(o)}}function r0(o,n,r,l,c={},f={}){const _=[],I=[];let R=-1,H=null;if(l.forEach(W=>{const te=W.offset,Ie=te==R,qe=Ie&&H||{};Object.keys(W).forEach(et=>{let pt=et,Tt=W[et];if("offset"!==et)switch(pt=n.normalizePropertyName(pt,_),Tt){case Pr.k1:Tt=c[et];break;case Pr.l3:Tt=f[et];break;default:Tt=n.normalizeStyleValue(et,pt,Tt,_)}qe[pt]=Tt}),Ie||I.push(qe),H=qe,R=te}),_.length){const W="\n - ";throw new Error(`Unable to animate due to the following errors:${W}${_.join(W)}`)}return I}function Wy(o,n,r,l){switch(n){case"start":o.onStart(()=>l(r&&rf(r,"start",o)));break;case"done":o.onDone(()=>l(r&&rf(r,"done",o)));break;case"destroy":o.onDestroy(()=>l(r&&rf(r,"destroy",o)))}}function rf(o,n,r){const l=r.totalTime,f=Ky(o.element,o.triggerName,o.fromState,o.toState,n||o.phaseName,null==l?o.totalTime:l,!!r.disabled),_=o._data;return null!=_&&(f._data=_),f}function Ky(o,n,r,l,c="",f=0,_){return{element:o,triggerName:n,fromState:r,toState:l,phaseName:c,totalTime:f,disabled:!!_}}function yo(o,n,r){let l;return o instanceof Map?(l=o.get(n),l||o.set(n,l=r)):(l=o[n],l||(l=o[n]=r)),l}function s0(o){const n=o.indexOf(":");return[o.substring(1,n),o.substr(n+1)]}let Yy=(o,n)=>!1,Qy=(o,n)=>!1,o0=(o,n,r)=>[];const a0=tg();(a0||"undefined"!=typeof Element)&&(Yy=Zy()?(o,n)=>{for(;n&&n!==document.documentElement;){if(n===o)return!0;n=n.parentNode||n.host}return!1}:(o,n)=>o.contains(n),Qy=(()=>{if(a0||Element.prototype.matches)return(o,n)=>o.matches(n);{const o=Element.prototype,n=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector;return n?(r,l)=>n.apply(r,[l]):Qy}})(),o0=(o,n,r)=>{let l=[];if(r){const c=o.querySelectorAll(n);for(let f=0;f<c.length;f++)l.push(c[f])}else{const c=o.querySelector(n);c&&l.push(c)}return l});let Fu=null,u0=!1;function Jy(o){Fu||(Fu=("undefined"!=typeof document?document.body:null)||{},u0=!!Fu.style&&"WebkitAppearance"in Fu.style);let n=!0;return Fu.style&&!function(o){return"ebkit"==o.substring(1,6)}(o)&&(n=o in Fu.style,!n&&u0&&(n="Webkit"+o.charAt(0).toUpperCase()+o.substr(1)in Fu.style)),n}const Xy=Qy,e_=Yy,t_=o0;function ng(o){const n={};return Object.keys(o).forEach(r=>{const l=r.replace(/([a-z])([A-Z])/g,"$1-$2");n[l]=o[r]}),n}let rg=(()=>{class o{validateStyleProperty(r){return Jy(r)}matchesElement(r,l){return Xy(r,l)}containsElement(r,l){return e_(r,l)}query(r,l,c){return t_(r,l,c)}computeStyle(r,l,c){return c||""}animate(r,l,c,f,_,I=[],R){return new Pr.ZN(c,f)}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac}),o})(),ig=(()=>{class o{}return o.NOOP=new rg,o})();const sf="ng-enter",sg="ng-leave",of="ng-trigger",af=".ng-trigger",r_="ng-animating",h0=".ng-animating";function Tc(o){if("number"==typeof o)return o;const n=o.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Lu(parseFloat(n[1]),n[2])}function Lu(o,n){switch(n){case"s":return 1e3*o;default:return o}}function i_(o,n,r){return o.hasOwnProperty("duration")?o:function(o,n,r){let c,f=0,_="";if("string"==typeof o){const I=o.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===I)return n.push(`The provided timing value "${o}" is invalid.`),{duration:0,delay:0,easing:""};c=Lu(parseFloat(I[1]),I[2]);const R=I[3];null!=R&&(f=Lu(parseFloat(R),I[4]));const H=I[5];H&&(_=H)}else c=o;if(!r){let I=!1,R=n.length;c<0&&(n.push("Duration values below 0 are not allowed for this animation step."),I=!0),f<0&&(n.push("Delay values below 0 are not allowed for this animation step."),I=!0),I&&n.splice(R,0,`The provided timing value "${o}" is invalid.`)}return{duration:c,delay:f,easing:_}}(o,n,r)}function Vl(o,n={}){return Object.keys(o).forEach(r=>{n[r]=o[r]}),n}function No(o,n,r={}){if(n)for(let l in o)r[l]=o[l];else Vl(o,r);return r}function p0(o,n,r){return r?n+":"+r+";":""}function Vb(o){let n="";for(let r=0;r<o.style.length;r++){const l=o.style.item(r);n+=p0(0,l,o.style.getPropertyValue(l))}for(const r in o.style)o.style.hasOwnProperty(r)&&!r.startsWith("_")&&(n+=p0(0,Bb(r),o.style[r]));o.setAttribute("style",n)}function ol(o,n,r){o.style&&(Object.keys(n).forEach(l=>{const c=a_(l);r&&!r.hasOwnProperty(l)&&(r[l]=o.style[c]),o.style[c]=n[l]}),tg()&&Vb(o))}function Vs(o,n){o.style&&(Object.keys(n).forEach(r=>{const l=a_(r);o.style[l]=""}),tg()&&Vb(o))}function Ud(o){return Array.isArray(o)?1==o.length?o[0]:(0,Pr.vP)(o):o}const Bd=new RegExp("{{\\s*(.+?)\\s*}}","g");function g0(o){let n=[];if("string"==typeof o){let r;for(;r=Bd.exec(o);)n.push(r[1]);Bd.lastIndex=0}return n}function og(o,n,r){const l=o.toString(),c=l.replace(Bd,(f,_)=>{let I=n[_];return n.hasOwnProperty(_)||(r.push(`Please provide a value for the animation param ${_}`),I=""),I.toString()});return c==l?o:c}function o_(o){const n=[];let r=o.next();for(;!r.done;)n.push(r.value),r=o.next();return n}const Ub=/-+([a-z0-9])/g;function a_(o){return o.replace(Ub,(...n)=>n[1].toUpperCase())}function Bb(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ag(o,n){return 0===o||0===n}function l_(o,n,r){const l=Object.keys(r);if(l.length&&n.length){let f=n[0],_=[];if(l.forEach(I=>{f.hasOwnProperty(I)||_.push(I),f[I]=r[I]}),_.length)for(var c=1;c<n.length;c++){let I=n[c];_.forEach(function(R){I[R]=lg(o,R)})}}return n}function no(o,n,r){switch(n.type){case 7:return o.visitTrigger(n,r);case 0:return o.visitState(n,r);case 1:return o.visitTransition(n,r);case 2:return o.visitSequence(n,r);case 3:return o.visitGroup(n,r);case 4:return o.visitAnimate(n,r);case 5:return o.visitKeyframes(n,r);case 6:return o.visitStyle(n,r);case 8:return o.visitReference(n,r);case 9:return o.visitAnimateChild(n,r);case 10:return o.visitAnimateRef(n,r);case 11:return o.visitQuery(n,r);case 12:return o.visitStagger(n,r);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function lg(o,n){return window.getComputedStyle(o)[n]}function KI(o,n){const r=[];return"string"==typeof o?o.split(/\s*,\s*/).forEach(l=>function(o,n,r){if(":"==o[0]){const R=function(o,n){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,l)=>parseFloat(l)>parseFloat(r);case":decrement":return(r,l)=>parseFloat(l)<parseFloat(r);default:return n.push(`The transition alias value "${o}" is not supported`),"* => *"}}(o,r);if("function"==typeof R)return void n.push(R);o=R}const l=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return r.push(`The provided transition expression "${o}" is not supported`),n;const c=l[1],f=l[2],_=l[3];n.push(u_(c,_));"<"==f[0]&&!("*"==c&&"*"==_)&&n.push(u_(_,c))}(l,r,n)):r.push(o),r}const cg=new Set(["true","1"]),lf=new Set(["false","0"]);function u_(o,n){const r=cg.has(o)||lf.has(o),l=cg.has(n)||lf.has(n);return(c,f)=>{let _="*"==o||o==c,I="*"==n||n==f;return!_&&r&&"boolean"==typeof c&&(_=c?cg.has(o):lf.has(o)),!I&&l&&"boolean"==typeof f&&(I=f?cg.has(n):lf.has(n)),_&&I}}const $b=new RegExp("s*:selfs*,?","g");function d_(o,n,r){return new dg(o).build(n,r)}class dg{constructor(n){this._driver=n}build(n,r){const l=new hg(r);return this._resetContextStyleTimingState(l),no(this,Ud(n),l)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,r){let l=r.queryCount=0,c=r.depCount=0;const f=[],_=[];return"@"==n.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(I=>{if(this._resetContextStyleTimingState(r),0==I.type){const R=I,H=R.name;H.toString().split(/\s*,\s*/).forEach(W=>{R.name=W,f.push(this.visitState(R,r))}),R.name=H}else if(1==I.type){const R=this.visitTransition(I,r);l+=R.queryCount,c+=R.depCount,_.push(R)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:f,transitions:_,queryCount:l,depCount:c,options:null}}visitState(n,r){const l=this.visitStyle(n.styles,r),c=n.options&&n.options.params||null;if(l.containsDynamicStyles){const f=new Set,_=c||{};if(l.styles.forEach(I=>{if(Vu(I)){const R=I;Object.keys(R).forEach(H=>{g0(R[H]).forEach(W=>{_.hasOwnProperty(W)||f.add(W)})})}}),f.size){const I=o_(f.values());r.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${I.join(", ")}`)}}return{type:0,name:n.name,style:l,options:c?{params:c}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;const l=no(this,Ud(n.animation),r);return{type:1,matchers:KI(n.expr,r.errors),animation:l,queryCount:r.queryCount,depCount:r.depCount,options:Dc(n.options)}}visitSequence(n,r){return{type:2,steps:n.steps.map(l=>no(this,l,r)),options:Dc(n.options)}}visitGroup(n,r){const l=r.currentTime;let c=0;const f=n.steps.map(_=>{r.currentTime=l;const I=no(this,_,r);return c=Math.max(c,r.currentTime),I});return r.currentTime=c,{type:3,steps:f,options:Dc(n.options)}}visitAnimate(n,r){const l=function(o,n){let r=null;if(o.hasOwnProperty("duration"))r=o;else if("number"==typeof o)return y0(i_(o,n).duration,0,"");const l=o;if(l.split(/\s+/).some(f=>"{"==f.charAt(0)&&"{"==f.charAt(1))){const f=y0(0,0,"");return f.dynamic=!0,f.strValue=l,f}return r=r||i_(l,n),y0(r.duration,r.delay,r.easing)}(n.timings,r.errors);r.currentAnimateTimings=l;let c,f=n.styles?n.styles:(0,Pr.oB)({});if(5==f.type)c=this.visitKeyframes(f,r);else{let _=n.styles,I=!1;if(!_){I=!0;const H={};l.easing&&(H.easing=l.easing),_=(0,Pr.oB)(H)}r.currentTime+=l.duration+l.delay;const R=this.visitStyle(_,r);R.isEmptyStep=I,c=R}return r.currentAnimateTimings=null,{type:4,timings:l,style:c,options:null}}visitStyle(n,r){const l=this._makeStyleAst(n,r);return this._validateStyleAst(l,r),l}_makeStyleAst(n,r){const l=[];Array.isArray(n.styles)?n.styles.forEach(_=>{"string"==typeof _?_==Pr.l3?l.push(_):r.errors.push(`The provided style string value ${_} is not allowed.`):l.push(_)}):l.push(n.styles);let c=!1,f=null;return l.forEach(_=>{if(Vu(_)){const I=_,R=I.easing;if(R&&(f=R,delete I.easing),!c)for(let H in I)if(I[H].toString().indexOf("{{")>=0){c=!0;break}}}),{type:6,styles:l,easing:f,offset:n.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(n,r){const l=r.currentAnimateTimings;let c=r.currentTime,f=r.currentTime;l&&f>0&&(f-=l.duration+l.delay),n.styles.forEach(_=>{"string"!=typeof _&&Object.keys(_).forEach(I=>{if(!this._driver.validateStyleProperty(I))return void r.errors.push(`The provided animation property "${I}" is not a supported CSS property for animations`);const R=r.collectedStyles[r.currentQuerySelector],H=R[I];let W=!0;H&&(f!=c&&f>=H.startTime&&c<=H.endTime&&(r.errors.push(`The CSS property "${I}" that exists between the times of "${H.startTime}ms" and "${H.endTime}ms" is also being animated in a parallel animation between the times of "${f}ms" and "${c}ms"`),W=!1),f=H.startTime),W&&(R[I]={startTime:f,endTime:c}),r.options&&function(o,n,r){const l=n.params||{},c=g0(o);c.length&&c.forEach(f=>{l.hasOwnProperty(f)||r.push(`Unable to resolve the local animation param ${f} in the given list of values`)})}(_[I],r.options,r.errors)})})}visitKeyframes(n,r){const l={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),l;let f=0;const _=[];let I=!1,R=!1,H=0;const W=n.steps.map(dn=>{const Nn=this._makeStyleAst(dn,r);let Tn=null!=Nn.offset?Nn.offset:function(o){if("string"==typeof o)return null;let n=null;if(Array.isArray(o))o.forEach(r=>{if(Vu(r)&&r.hasOwnProperty("offset")){const l=r;n=parseFloat(l.offset),delete l.offset}});else if(Vu(o)&&o.hasOwnProperty("offset")){const r=o;n=parseFloat(r.offset),delete r.offset}return n}(Nn.styles),Dn=0;return null!=Tn&&(f++,Dn=Nn.offset=Tn),R=R||Dn<0||Dn>1,I=I||Dn<H,H=Dn,_.push(Dn),Nn});R&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),I&&r.errors.push("Please ensure that all keyframe offsets are in order");const te=n.steps.length;let Ie=0;f>0&&f<te?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==f&&(Ie=1/(te-1));const qe=te-1,et=r.currentTime,pt=r.currentAnimateTimings,Tt=pt.duration;return W.forEach((dn,Nn)=>{const Tn=Ie>0?Nn==qe?1:Ie*Nn:_[Nn],Dn=Tn*Tt;r.currentTime=et+pt.delay+Dn,pt.duration=Dn,this._validateStyleAst(dn,r),dn.offset=Tn,l.styles.push(dn)}),l}visitReference(n,r){return{type:8,animation:no(this,Ud(n.animation),r),options:Dc(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:9,options:Dc(n.options)}}visitAnimateRef(n,r){return{type:10,animation:this.visitReference(n.animation,r),options:Dc(n.options)}}visitQuery(n,r){const l=r.currentQuerySelector,c=n.options||{};r.queryCount++,r.currentQuery=n;const[f,_]=function(o){const n=!!o.split(/\s*,\s*/).find(r=>":self"==r);return n&&(o=o.replace($b,"")),[o=o.replace(/@\*/g,af).replace(/@\w+/g,r=>af+"-"+r.substr(1)).replace(/:animating/g,h0),n]}(n.selector);r.currentQuerySelector=l.length?l+" "+f:f,yo(r.collectedStyles,r.currentQuerySelector,{});const I=no(this,Ud(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=l,{type:11,selector:f,limit:c.limit||0,optional:!!c.optional,includeSelf:_,animation:I,originalSelector:n.selector,options:Dc(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const l="full"===n.timings?{duration:0,delay:0,easing:"full"}:i_(n.timings,r.errors,!0);return{type:12,animation:no(this,Ud(n.animation),r),timings:l,options:null}}}class hg{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Vu(o){return!Array.isArray(o)&&"object"==typeof o}function Dc(o){return o?(o=Vl(o)).params&&(o.params=function(o){return o?Vl(o):null}(o.params)):o={},o}function y0(o,n,r){return{duration:o,delay:n,easing:r}}function f_(o,n,r,l,c,f,_=null,I=!1){return{type:1,element:o,keyframes:n,preStyleProps:r,postStyleProps:l,duration:c,delay:f,totalTime:c+f,easing:_,subTimeline:I}}class pg{constructor(){this._map=new Map}consume(n){let r=this._map.get(n);return r?this._map.delete(n):r=[],r}append(n,r){let l=this._map.get(n);l||this._map.set(n,l=[]),l.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Wb=new RegExp(":enter","g"),Yb=new RegExp(":leave","g");function p_(o,n,r,l,c,f={},_={},I,R,H=[]){return(new Qb).buildKeyframes(o,n,r,l,c,f,_,I,R,H)}class Qb{buildKeyframes(n,r,l,c,f,_,I,R,H,W=[]){H=H||new pg;const te=new m_(n,r,H,c,f,W,[]);te.options=R,te.currentTimeline.setStyles([_],null,te.errors,R),no(this,l,te);const Ie=te.timelines.filter(qe=>qe.containsAnimation());if(Ie.length&&Object.keys(I).length){const qe=Ie[Ie.length-1];qe.allowOnlyTimelineStyles()||qe.setStyles([I],null,te.errors,R)}return Ie.length?Ie.map(qe=>qe.buildKeyframes()):[f_(r,[],[],[],0,0,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){const l=r.subInstructions.consume(r.element);if(l){const c=r.createSubContext(n.options),f=r.currentTimeline.currentTime,_=this._visitSubInstructions(l,c,c.options);f!=_&&r.transformIntoNewTimeline(_)}r.previousNode=n}visitAnimateRef(n,r){const l=r.createSubContext(n.options);l.transformIntoNewTimeline(),this.visitReference(n.animation,l),r.transformIntoNewTimeline(l.currentTimeline.currentTime),r.previousNode=n}_visitSubInstructions(n,r,l){let f=r.currentTimeline.currentTime;const _=null!=l.duration?Tc(l.duration):null,I=null!=l.delay?Tc(l.delay):null;return 0!==_&&n.forEach(R=>{const H=r.appendInstructionToTimeline(R,_,I);f=Math.max(f,H.duration+H.delay)}),f}visitReference(n,r){r.updateOptions(n.options,!0),no(this,n.animation,r),r.previousNode=n}visitSequence(n,r){const l=r.subContextCount;let c=r;const f=n.options;if(f&&(f.params||f.delay)&&(c=r.createSubContext(f),c.transformIntoNewTimeline(),null!=f.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=g_);const _=Tc(f.delay);c.delayNextStep(_)}n.steps.length&&(n.steps.forEach(_=>no(this,_,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>l&&c.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){const l=[];let c=r.currentTimeline.currentTime;const f=n.options&&n.options.delay?Tc(n.options.delay):0;n.steps.forEach(_=>{const I=r.createSubContext(n.options);f&&I.delayNextStep(f),no(this,_,I),c=Math.max(c,I.currentTimeline.currentTime),l.push(I.currentTimeline)}),l.forEach(_=>r.currentTimeline.mergeTimelineCollectedStyles(_)),r.transformIntoNewTimeline(c),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){const l=n.strValue;return i_(r.params?og(l,r.params,r.errors):l,r.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){const l=r.currentAnimateTimings=this._visitTiming(n.timings,r),c=r.currentTimeline;l.delay&&(r.incrementTime(l.delay),c.snapshotCurrentStyles());const f=n.style;5==f.type?this.visitKeyframes(f,r):(r.incrementTime(l.duration),this.visitStyle(f,r),c.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){const l=r.currentTimeline,c=r.currentAnimateTimings;!c&&l.getCurrentStyleProperties().length&&l.forwardFrame();const f=c&&c.easing||n.easing;n.isEmptyStep?l.applyEmptyStep(f):l.setStyles(n.styles,f,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){const l=r.currentAnimateTimings,c=r.currentTimeline.duration,f=l.duration,I=r.createSubContext().currentTimeline;I.easing=l.easing,n.styles.forEach(R=>{I.forwardTime((R.offset||0)*f),I.setStyles(R.styles,R.easing,r.errors,r.options),I.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(I),r.transformIntoNewTimeline(c+f),r.previousNode=n}visitQuery(n,r){const l=r.currentTimeline.currentTime,c=n.options||{},f=c.delay?Tc(c.delay):0;f&&(6===r.previousNode.type||0==l&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=g_);let _=l;const I=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!c.optional,r.errors);r.currentQueryTotal=I.length;let R=null;I.forEach((H,W)=>{r.currentQueryIndex=W;const te=r.createSubContext(n.options,H);f&&te.delayNextStep(f),H===r.element&&(R=te.currentTimeline),no(this,n.animation,te),te.currentTimeline.applyStylesToKeyframe(),_=Math.max(_,te.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(_),R&&(r.currentTimeline.mergeTimelineCollectedStyles(R),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){const l=r.parentContext,c=r.currentTimeline,f=n.timings,_=Math.abs(f.duration),I=_*(r.currentQueryTotal-1);let R=_*r.currentQueryIndex;switch(f.duration<0?"reverse":f.easing){case"reverse":R=I-R;break;case"full":R=l.currentStaggerTime}const W=r.currentTimeline;R&&W.delayNextStep(R);const te=W.currentTime;no(this,n.animation,r),r.previousNode=n,l.currentStaggerTime=c.currentTime-te+(c.startTime-l.currentTimeline.startTime)}}const g_={};class m_{constructor(n,r,l,c,f,_,I,R){this._driver=n,this.element=r,this.subInstructions=l,this._enterClassName=c,this._leaveClassName=f,this.errors=_,this.timelines=I,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=g_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=R||new Uu(this._driver,r,0),I.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;const l=n;let c=this.options;null!=l.duration&&(c.duration=Tc(l.duration)),null!=l.delay&&(c.delay=Tc(l.delay));const f=l.params;if(f){let _=c.params;_||(_=this.options.params={}),Object.keys(f).forEach(I=>{(!r||!_.hasOwnProperty(I))&&(_[I]=og(f[I],_,this.errors))})}}_copyOptions(){const n={};if(this.options){const r=this.options.params;if(r){const l=n.params={};Object.keys(r).forEach(c=>{l[c]=r[c]})}}return n}createSubContext(n=null,r,l){const c=r||this.element,f=new m_(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,l||0));return f.previousNode=this.previousNode,f.currentAnimateTimings=this.currentAnimateTimings,f.options=this._copyOptions(),f.updateOptions(n),f.currentQueryIndex=this.currentQueryIndex,f.currentQueryTotal=this.currentQueryTotal,f.parentContext=this,this.subContextCount++,f}transformIntoNewTimeline(n){return this.previousNode=g_,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,l){const c={duration:null!=r?r:n.duration,delay:this.currentTimeline.currentTime+(null!=l?l:0)+n.delay,easing:""},f=new Jb(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,c,n.stretchStartingKeyframe);return this.timelines.push(f),c}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,l,c,f,_){let I=[];if(c&&I.push(this.element),n.length>0){n=(n=n.replace(Wb,"."+this._enterClassName)).replace(Yb,"."+this._leaveClassName);let H=this._driver.query(this.element,n,1!=l);0!==l&&(H=l<0?H.slice(H.length+l,H.length):H.slice(0,l)),I.push(...H)}return!f&&0==I.length&&_.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),I}}class Uu{constructor(n,r,l,c){this._driver=n,this.element=r,this.startTime=l,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new Uu(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles[n]=r,this._globalTimelineStyles[n]=r,this._styleSummary[n]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||Pr.l3,this._currentKeyframe[r]=Pr.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,l,c){r&&(this._previousKeyframe.easing=r);const f=c&&c.params||{},_=function(o,n){const r={};let l;return o.forEach(c=>{"*"===c?(l=l||Object.keys(n),l.forEach(f=>{r[f]=Pr.l3})):No(c,!1,r)}),r}(n,this._globalTimelineStyles);Object.keys(_).forEach(I=>{const R=og(_[I],f,l);this._pendingStyles[I]=R,this._localTimelineStyles.hasOwnProperty(I)||(this._backFill[I]=this._globalTimelineStyles.hasOwnProperty(I)?this._globalTimelineStyles[I]:Pr.l3),this._updateStyle(I,R)})}applyStylesToKeyframe(){const n=this._pendingStyles,r=Object.keys(n);0!=r.length&&(this._pendingStyles={},r.forEach(l=>{this._currentKeyframe[l]=n[l]}),Object.keys(this._localTimelineStyles).forEach(l=>{this._currentKeyframe.hasOwnProperty(l)||(this._currentKeyframe[l]=this._localTimelineStyles[l])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const r=this._localTimelineStyles[n];this._pendingStyles[n]=r,this._updateStyle(n,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(r=>{const l=this._styleSummary[r],c=n._styleSummary[r];(!l||c.time>l.time)&&this._updateStyle(r,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,r=new Set,l=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((I,R)=>{const H=No(I,!0);Object.keys(H).forEach(W=>{const te=H[W];te==Pr.k1?n.add(W):te==Pr.l3&&r.add(W)}),l||(H.offset=R/this.duration),c.push(H)});const f=n.size?o_(n.values()):[],_=r.size?o_(r.values()):[];if(l){const I=c[0],R=Vl(I);I.offset=0,R.offset=1,c=[I,R]}return f_(this.element,c,f,_,this.duration,this.startTime,this.easing,!1)}}class Jb extends Uu{constructor(n,r,l,c,f,_,I=!1){super(n,r,_.delay),this.keyframes=l,this.preStyleProps=c,this.postStyleProps=f,this._stretchStartingKeyframe=I,this.timings={duration:_.duration,delay:_.delay,easing:_.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:l,easing:c}=this.timings;if(this._stretchStartingKeyframe&&r){const f=[],_=l+r,I=r/_,R=No(n[0],!1);R.offset=0,f.push(R);const H=No(n[0],!1);H.offset=_0(I),f.push(H);const W=n.length-1;for(let te=1;te<=W;te++){let Ie=No(n[te],!1);Ie.offset=_0((r+Ie.offset*l)/_),f.push(Ie)}l=_,r=0,c="",n=f}return f_(this.element,n,this.preStyleProps,this.postStyleProps,l,r,c,!0)}}function _0(o,n=3){const r=Math.pow(10,n-1);return Math.round(o*r)/r}class Ul{}class tC extends Ul{normalizePropertyName(n,r){return a_(n)}normalizeStyleValue(n,r,l,c){let f="";const _=l.toString().trim();if(nC[r]&&0!==l&&"0"!==l)if("number"==typeof l)f="px";else{const I=l.match(/^[+-]?[\d\.]+([a-z]*)$/);I&&0==I[1].length&&c.push(`Please provide a CSS unit value for ${n}:${l}`)}return _+f}}const nC=(()=>function(o){const n={};return o.forEach(r=>n[r]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function v0(o,n,r,l,c,f,_,I,R,H,W,te,Ie){return{type:0,element:o,triggerName:n,isRemovalTransition:c,fromState:r,fromStyles:f,toState:l,toStyles:_,timelines:I,queriedElements:R,preStyleProps:H,postStyleProps:W,totalTime:te,errors:Ie}}const __={};class v_{constructor(n,r,l){this._triggerName=n,this.ast=r,this._stateStyles=l}match(n,r,l,c){return function(o,n,r,l,c){return o.some(f=>f(n,r,l,c))}(this.ast.matchers,n,r,l,c)}buildStyles(n,r,l){const c=this._stateStyles["*"],f=this._stateStyles[n],_=c?c.buildStyles(r,l):{};return f?f.buildStyles(r,l):_}build(n,r,l,c,f,_,I,R,H,W){const te=[],Ie=this.ast.options&&this.ast.options.params||__,et=this.buildStyles(l,I&&I.params||__,te),pt=R&&R.params||__,Tt=this.buildStyles(c,pt,te),dn=new Set,Nn=new Map,Tn=new Map,Dn="void"===c,tr={params:Object.assign(Object.assign({},Ie),pt)},js=W?[]:p_(n,r,this.ast.animation,f,_,et,Tt,tr,H,te);let zr=0;if(js.forEach(Bl=>{zr=Math.max(Bl.duration+Bl.delay,zr)}),te.length)return v0(r,this._triggerName,l,c,Dn,et,Tt,[],[],Nn,Tn,zr,te);js.forEach(Bl=>{const al=Bl.element,D_=yo(Nn,al,{});Bl.preStyleProps.forEach(Oc=>D_[Oc]=!0);const qd=yo(Tn,al,{});Bl.postStyleProps.forEach(Oc=>qd[Oc]=!0),al!==r&&dn.add(al)});const La=o_(dn.values());return v0(r,this._triggerName,l,c,Dn,et,Tt,js,La,Nn,Tn,zr)}}class w_{constructor(n,r,l){this.styles=n,this.defaultParams=r,this.normalizer=l}buildStyles(n,r){const l={},c=Vl(this.defaultParams);return Object.keys(n).forEach(f=>{const _=n[f];null!=_&&(c[f]=_)}),this.styles.styles.forEach(f=>{if("string"!=typeof f){const _=f;Object.keys(_).forEach(I=>{let R=_[I];R.length>1&&(R=og(R,c,r));const H=this.normalizer.normalizePropertyName(I,r);R=this.normalizer.normalizeStyleValue(I,H,R,r),l[H]=R})}}),l}}class b0{constructor(n,r,l){this.name=n,this.ast=r,this._normalizer=l,this.transitionFactories=[],this.states={},r.states.forEach(c=>{this.states[c.name]=new w_(c.style,c.options&&c.options.params||{},l)}),C0(this.states,"true","1"),C0(this.states,"false","0"),r.transitions.forEach(c=>{this.transitionFactories.push(new v_(n,c,this.states))}),this.fallbackTransition=function(o,n,r){return new v_(o,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_,I)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,l,c){return this.transitionFactories.find(_=>_.match(n,r,l,c))||null}matchStyles(n,r,l){return this.fallbackTransition.buildStyles(n,r,l)}}function C0(o,n,r){o.hasOwnProperty(n)?o.hasOwnProperty(r)||(o[r]=o[n]):o.hasOwnProperty(r)&&(o[n]=o[r])}const I0=new pg;class iC{constructor(n,r,l){this.bodyNode=n,this._driver=r,this._normalizer=l,this._animations={},this._playersById={},this.players=[]}register(n,r){const l=[],c=d_(this._driver,r,l);if(l.length)throw new Error(`Unable to build the animation due to the following errors: ${l.join("\n")}`);this._animations[n]=c}_buildPlayer(n,r,l){const c=n.element,f=r0(0,this._normalizer,0,n.keyframes,r,l);return this._driver.animate(c,f,n.duration,n.delay,n.easing,[],!0)}create(n,r,l={}){const c=[],f=this._animations[n];let _;const I=new Map;if(f?(_=p_(this._driver,r,f,sf,sg,{},{},l,I0,c),_.forEach(W=>{const te=yo(I,W.element,{});W.postStyleProps.forEach(Ie=>te[Ie]=null)})):(c.push("The requested animation doesn't exist or has already been destroyed"),_=[]),c.length)throw new Error(`Unable to create the animation due to the following errors: ${c.join("\n")}`);I.forEach((W,te)=>{Object.keys(W).forEach(Ie=>{W[Ie]=this._driver.computeStyle(te,Ie,Pr.l3)})});const H=ku(_.map(W=>{const te=I.get(W.element);return this._buildPlayer(W,{},te)}));return this._playersById[n]=H,H.onDestroy(()=>this.destroy(n)),this.players.push(H),H}destroy(n){const r=this._getPlayer(n);r.destroy(),delete this._playersById[n];const l=this.players.indexOf(r);l>=0&&this.players.splice(l,1)}_getPlayer(n){const r=this._playersById[n];if(!r)throw new Error(`Unable to find the timeline player referenced by ${n}`);return r}listen(n,r,l,c){const f=Ky(r,"","","");return Wy(this._getPlayer(n),l,f,c),()=>{}}command(n,r,l,c){if("register"==l)return void this.register(n,c[0]);if("create"==l)return void this.create(n,r,c[0]||{});const f=this._getPlayer(n);switch(l){case"play":f.play();break;case"pause":f.pause();break;case"reset":f.reset();break;case"restart":f.restart();break;case"finish":f.finish();break;case"init":f.init();break;case"setPosition":f.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(n)}}}const E_="ng-animate-queued",uf="ng-animate-disabled",sC=".ng-animate-disabled",Bu=[],Ac={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},df={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class mn{constructor(n,r=""){this.namespaceId=r;const l=n&&n.hasOwnProperty("value");if(this.value=function(o){return null!=o?o:null}(l?n.value:n),l){const f=Vl(n);delete f.value,this.options=f}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const r=n.params;if(r){const l=this.options.params;Object.keys(r).forEach(c=>{null==l[c]&&(l[c]=r[c])})}}}const Us="void",hf=new mn(Us);class Sc{constructor(n,r,l){this.id=n,this.hostElement=r,this._engine=l,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ro(r,this._hostClassName)}listen(n,r,l,c){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${l}" because the animation trigger "${r}" doesn't exist!`);if(null==l||0==l.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if(!function(o){return"start"==o||"done"==o}(l))throw new Error(`The provided animation trigger event "${l}" for the animation trigger "${r}" is not supported!`);const f=yo(this._elementListeners,n,[]),_={name:r,phase:l,callback:c};f.push(_);const I=yo(this._engine.statesByElement,n,{});return I.hasOwnProperty(r)||(Ro(n,of),Ro(n,of+"-"+r),I[r]=hf),()=>{this._engine.afterFlush(()=>{const R=f.indexOf(_);R>=0&&f.splice(R,1),this._triggers[r]||delete I[r]})}}register(n,r){return!this._triggers[n]&&(this._triggers[n]=r,!0)}_getTrigger(n){const r=this._triggers[n];if(!r)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return r}trigger(n,r,l,c=!0){const f=this._getTrigger(r),_=new yg(this.id,r,n);let I=this._engine.statesByElement.get(n);I||(Ro(n,of),Ro(n,of+"-"+r),this._engine.statesByElement.set(n,I={}));let R=I[r];const H=new mn(l,this.id);if(!(l&&l.hasOwnProperty("value"))&&R&&H.absorbOptions(R.options),I[r]=H,R||(R=hf),H.value!==Us&&R.value===H.value){if(!function(o,n){const r=Object.keys(o),l=Object.keys(n);if(r.length!=l.length)return!1;for(let c=0;c<r.length;c++){const f=r[c];if(!n.hasOwnProperty(f)||o[f]!==n[f])return!1}return!0}(R.params,H.params)){const pt=[],Tt=f.matchStyles(R.value,R.params,pt),dn=f.matchStyles(H.value,H.params,pt);pt.length?this._engine.reportError(pt):this._engine.afterFlush(()=>{Vs(n,Tt),ol(n,dn)})}return}const Ie=yo(this._engine.playersByElement,n,[]);Ie.forEach(pt=>{pt.namespaceId==this.id&&pt.triggerName==r&&pt.queued&&pt.destroy()});let qe=f.matchTransition(R.value,H.value,n,H.params),et=!1;if(!qe){if(!c)return;qe=f.fallbackTransition,et=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:qe,fromState:R,toState:H,player:_,isFallbackTransition:et}),et||(Ro(n,E_),_.onStart(()=>{ju(n,E_)})),_.onDone(()=>{let pt=this.players.indexOf(_);pt>=0&&this.players.splice(pt,1);const Tt=this._engine.playersByElement.get(n);if(Tt){let dn=Tt.indexOf(_);dn>=0&&Tt.splice(dn,1)}}),this.players.push(_),Ie.push(_),_}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((r,l)=>{delete r[n]}),this._elementListeners.forEach((r,l)=>{this._elementListeners.set(l,r.filter(c=>c.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const r=this._engine.playersByElement.get(n);r&&(r.forEach(l=>l.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){const l=this._engine.driver.query(n,af,!0);l.forEach(c=>{if(c[Fa])return;const f=this._engine.fetchNamespacesByElement(c);f.size?f.forEach(_=>_.triggerLeaveAnimation(c,r,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>l.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(n,r,l,c){const f=this._engine.statesByElement.get(n);if(f){const _=[];if(Object.keys(f).forEach(I=>{if(this._triggers[I]){const R=this.trigger(n,I,Us,c);R&&_.push(R)}}),_.length)return this._engine.markElementAsRemoved(this.id,n,!0,r),l&&ku(_).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const r=this._elementListeners.get(n),l=this._engine.statesByElement.get(n);if(r&&l){const c=new Set;r.forEach(f=>{const _=f.name;if(c.has(_))return;c.add(_);const R=this._triggers[_].fallbackTransition,H=l[_]||hf,W=new mn(Us),te=new yg(this.id,_,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:_,transition:R,fromState:H,toState:W,player:te,isFallbackTransition:!0})})}}removeNode(n,r){const l=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let c=!1;if(l.totalAnimations){const f=l.players.length?l.playersByQueriedElement.get(n):[];if(f&&f.length)c=!0;else{let _=n;for(;_=_.parentNode;)if(l.statesByElement.get(_)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(n),c)l.markElementAsRemoved(this.id,n,!1,r);else{const f=n[Fa];(!f||f===Ac)&&(l.afterFlush(()=>this.clearElementCache(n)),l.destroyInnerAnimations(n),l._onRemovalComplete(n,r))}}insertNode(n,r){Ro(n,this._hostClassName)}drainQueuedTransitions(n){const r=[];return this._queue.forEach(l=>{const c=l.player;if(c.destroyed)return;const f=l.element,_=this._elementListeners.get(f);_&&_.forEach(I=>{if(I.name==l.triggerName){const R=Ky(f,l.triggerName,l.fromState.value,l.toState.value);R._data=n,Wy(l.player,I.phase,R,I.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):r.push(l)}),this._queue=[],r.sort((l,c)=>{const f=l.transition.ast.depCount,_=c.transition.ast.depCount;return 0==f||0==_?f-_:this._engine.driver.containsElement(l.element,c.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let r=!1;return this._elementListeners.has(n)&&(r=!0),r=!!this._queue.find(l=>l.element===n)||r,r}}class YI{constructor(n,r,l){this.bodyNode=n,this.driver=r,this._normalizer=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,f)=>{}}_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(r=>{r.players.forEach(l=>{l.queued&&n.push(l)})}),n}createNamespace(n,r){const l=new Sc(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(l,r):(this.newHostElements.set(r,l),this.collectEnterElement(r)),this._namespaceLookup[n]=l}_balanceNamespaceList(n,r){const l=this._namespaceList.length-1;if(l>=0){let c=!1;for(let f=l;f>=0;f--)if(this.driver.containsElement(this._namespaceList[f].hostElement,r)){this._namespaceList.splice(f+1,0,n),c=!0;break}c||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(r,n),n}register(n,r){let l=this._namespaceLookup[n];return l||(l=this.createNamespace(n,r)),l}registerTrigger(n,r,l){let c=this._namespaceLookup[n];c&&c.register(r,l)&&this.totalAnimations++}destroy(n,r){if(!n)return;const l=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(l.hostElement),delete this._namespaceLookup[n];const c=this._namespaceList.indexOf(l);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>l.destroy(r))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const r=new Set,l=this.statesByElement.get(n);if(l){const c=Object.keys(l);for(let f=0;f<c.length;f++){const _=l[c[f]].namespaceId;if(_){const I=this._fetchNamespace(_);I&&r.add(I)}}}return r}trigger(n,r,l,c){if(_g(r)){const f=this._fetchNamespace(n);if(f)return f.trigger(r,l,c),!0}return!1}insertNode(n,r,l,c){if(!_g(r))return;const f=r[Fa];if(f&&f.setForRemoval){f.setForRemoval=!1,f.setForMove=!0;const _=this.collectedLeaveElements.indexOf(r);_>=0&&this.collectedLeaveElements.splice(_,1)}if(n){const _=this._fetchNamespace(n);_&&_.insertNode(r,l)}c&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ro(n,uf)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ju(n,uf))}removeNode(n,r,l,c){if(_g(r)){const f=n?this._fetchNamespace(n):null;if(f?f.removeNode(r,c):this.markElementAsRemoved(n,r,!1,c),l){const _=this.namespacesByHostElement.get(r);_&&_.id!==n&&_.removeNode(r,c)}}else this._onRemovalComplete(r,c)}markElementAsRemoved(n,r,l,c){this.collectedLeaveElements.push(r),r[Fa]={namespaceId:n,setForRemoval:c,hasAnimation:l,removedBeforeQueried:!1}}listen(n,r,l,c,f){return _g(r)?this._fetchNamespace(n).listen(r,l,c,f):()=>{}}_buildInstruction(n,r,l,c,f){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,l,c,n.fromState.options,n.toState.options,r,f)}destroyInnerAnimations(n){let r=this.driver.query(n,af,!0);r.forEach(l=>this.destroyActiveAnimationsForElement(l)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(n,h0,!0),r.forEach(l=>this.finishActiveQueriedAnimationOnElement(l)))}destroyActiveAnimationsForElement(n){const r=this.playersByElement.get(n);r&&r.forEach(l=>{l.queued?l.markedForDestroy=!0:l.destroy()})}finishActiveQueriedAnimationOnElement(n){const r=this.playersByQueriedElement.get(n);r&&r.forEach(l=>l.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ku(this.players).onDone(()=>n());n()})}processLeaveNode(n){const r=n[Fa];if(r&&r.setForRemoval){if(n[Fa]=Ac,r.namespaceId){this.destroyInnerAnimations(n);const l=this._fetchNamespace(r.namespaceId);l&&l.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}this.driver.matchesElement(n,sC)&&this.markElementAsDisabled(n,!1),this.driver.query(n,sC,!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((l,c)=>this._balanceNamespaceList(l,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let l=0;l<this.collectedEnterElements.length;l++)Ro(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const l=[];try{r=this._flushAnimations(l,n)}finally{for(let c=0;c<l.length;c++)l[c]()}}else for(let l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(l=>l()),this._flushFns=[],this._whenQuietFns.length){const l=this._whenQuietFns;this._whenQuietFns=[],r.length?ku(r).onDone(()=>{l.forEach(c=>c())}):l.forEach(c=>c())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,r){const l=new pg,c=[],f=new Map,_=[],I=new Map,R=new Map,H=new Map,W=new Set;this.disabledNodes.forEach($t=>{W.add($t);const ln=this.driver.query($t,".ng-animate-queued",!0);for(let An=0;An<ln.length;An++)W.add(ln[An])});const te=this.bodyNode,Ie=Array.from(this.statesByElement.keys()),qe=oa(Ie,this.collectedEnterElements),et=new Map;let pt=0;qe.forEach(($t,ln)=>{const An=sf+pt++;et.set(ln,An),$t.forEach(lr=>Ro(lr,An))});const Tt=[],dn=new Set,Nn=new Set;for(let $t=0;$t<this.collectedLeaveElements.length;$t++){const ln=this.collectedLeaveElements[$t],An=ln[Fa];An&&An.setForRemoval&&(Tt.push(ln),dn.add(ln),An.hasAnimation?this.driver.query(ln,".ng-star-inserted",!0).forEach(lr=>dn.add(lr)):Nn.add(ln))}const Tn=new Map,Dn=oa(Ie,Array.from(dn));Dn.forEach(($t,ln)=>{const An=sg+pt++;Tn.set(ln,An),$t.forEach(lr=>Ro(lr,An))}),n.push(()=>{qe.forEach(($t,ln)=>{const An=et.get(ln);$t.forEach(lr=>ju(lr,An))}),Dn.forEach(($t,ln)=>{const An=Tn.get(ln);$t.forEach(lr=>ju(lr,An))}),Tt.forEach($t=>{this.processLeaveNode($t)})});const tr=[],js=[];for(let $t=this._namespaceList.length-1;$t>=0;$t--)this._namespaceList[$t].drainQueuedTransitions(r).forEach(An=>{const lr=An.player,ds=An.element;if(tr.push(lr),this.collectedEnterElements.length){const Va=ds[Fa];if(Va&&Va.setForMove)return void lr.destroy()}const ro=!te||!this.driver.containsElement(te,ds),aa=Tn.get(ds),jl=et.get(ds),vi=this._buildInstruction(An,l,jl,aa,ro);if(vi.errors&&vi.errors.length)js.push(vi);else{if(ro)return lr.onStart(()=>Vs(ds,vi.fromStyles)),lr.onDestroy(()=>ol(ds,vi.toStyles)),void c.push(lr);if(An.isFallbackTransition)return lr.onStart(()=>Vs(ds,vi.fromStyles)),lr.onDestroy(()=>ol(ds,vi.toStyles)),void c.push(lr);vi.timelines.forEach(Va=>Va.stretchStartingKeyframe=!0),l.append(ds,vi.timelines),_.push({instruction:vi,player:lr,element:ds}),vi.queriedElements.forEach(Va=>yo(I,Va,[]).push(lr)),vi.preStyleProps.forEach((Va,Cf)=>{const Gd=Object.keys(Va);if(Gd.length){let Nc=R.get(Cf);Nc||R.set(Cf,Nc=new Set),Gd.forEach(A_=>Nc.add(A_))}}),vi.postStyleProps.forEach((Va,Cf)=>{const Gd=Object.keys(Va);let Nc=H.get(Cf);Nc||H.set(Cf,Nc=new Set),Gd.forEach(A_=>Nc.add(A_))})}});if(js.length){const $t=[];js.forEach(ln=>{$t.push(`@${ln.triggerName} has failed due to:\n`),ln.errors.forEach(An=>$t.push(`- ${An}\n`))}),tr.forEach(ln=>ln.destroy()),this.reportError($t)}const zr=new Map,La=new Map;_.forEach($t=>{const ln=$t.element;l.has(ln)&&(La.set(ln,ln),this._beforeAnimationBuild($t.player.namespaceId,$t.instruction,zr))}),c.forEach($t=>{const ln=$t.element;this._getPreviousPlayers(ln,!1,$t.namespaceId,$t.triggerName,null).forEach(lr=>{yo(zr,ln,[]).push(lr),lr.destroy()})});const Bl=Tt.filter($t=>A0($t,R,H)),al=new Map;ai(al,this.driver,Nn,H,Pr.l3).forEach($t=>{A0($t,R,H)&&Bl.push($t)});const qd=new Map;qe.forEach(($t,ln)=>{ai(qd,this.driver,new Set($t),R,Pr.k1)}),Bl.forEach($t=>{const ln=al.get($t),An=qd.get($t);al.set($t,Object.assign(Object.assign({},ln),An))});const Oc=[],U0=[],B0={};_.forEach($t=>{const{element:ln,player:An,instruction:lr}=$t;if(l.has(ln)){if(W.has(ln))return An.onDestroy(()=>ol(ln,lr.toStyles)),An.disabled=!0,An.overrideTotalTime(lr.totalTime),void c.push(An);let ds=B0;if(La.size>1){let aa=ln;const jl=[];for(;aa=aa.parentNode;){const vi=La.get(aa);if(vi){ds=vi;break}jl.push(aa)}jl.forEach(vi=>La.set(vi,ds))}const ro=this._buildAnimation(An.namespaceId,lr,zr,f,qd,al);if(An.setRealPlayer(ro),ds===B0)Oc.push(An);else{const aa=this.playersByElement.get(ds);aa&&aa.length&&(An.parentPlayer=ku(aa)),c.push(An)}}else Vs(ln,lr.fromStyles),An.onDestroy(()=>ol(ln,lr.toStyles)),U0.push(An),W.has(ln)&&c.push(An)}),U0.forEach($t=>{const ln=f.get($t.element);if(ln&&ln.length){const An=ku(ln);$t.setRealPlayer(An)}}),c.forEach($t=>{$t.parentPlayer?$t.syncPlayerEvents($t.parentPlayer):$t.destroy()});for(let $t=0;$t<Tt.length;$t++){const ln=Tt[$t],An=ln[Fa];if(ju(ln,sg),An&&An.hasAnimation)continue;let lr=[];if(I.size){let ro=I.get(ln);ro&&ro.length&&lr.push(...ro);let aa=this.driver.query(ln,h0,!0);for(let jl=0;jl<aa.length;jl++){let vi=I.get(aa[jl]);vi&&vi.length&&lr.push(...vi)}}const ds=lr.filter(ro=>!ro.destroyed);ds.length?jd(this,ln,ds):this.processLeaveNode(ln)}return Tt.length=0,Oc.forEach($t=>{this.players.push($t),$t.onDone(()=>{$t.destroy();const ln=this.players.indexOf($t);this.players.splice(ln,1)}),$t.play()}),Oc}elementContainsData(n,r){let l=!1;const c=r[Fa];return c&&c.setForRemoval&&(l=!0),this.playersByElement.has(r)&&(l=!0),this.playersByQueriedElement.has(r)&&(l=!0),this.statesByElement.has(r)&&(l=!0),this._fetchNamespace(n).elementContainsData(r)||l}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,l,c,f){let _=[];if(r){const I=this.playersByQueriedElement.get(n);I&&(_=I)}else{const I=this.playersByElement.get(n);if(I){const R=!f||f==Us;I.forEach(H=>{H.queued||!R&&H.triggerName!=c||_.push(H)})}}return(l||c)&&(_=_.filter(I=>!(l&&l!=I.namespaceId||c&&c!=I.triggerName))),_}_beforeAnimationBuild(n,r,l){const f=r.element,_=r.isRemovalTransition?void 0:n,I=r.isRemovalTransition?void 0:r.triggerName;for(const R of r.timelines){const H=R.element,W=H!==f,te=yo(l,H,[]);this._getPreviousPlayers(H,W,_,I,r.toState).forEach(qe=>{const et=qe.getRealPlayer();et.beforeDestroy&&et.beforeDestroy(),qe.destroy(),te.push(qe)})}Vs(f,r.fromStyles)}_buildAnimation(n,r,l,c,f,_){const I=r.triggerName,R=r.element,H=[],W=new Set,te=new Set,Ie=r.timelines.map(et=>{const pt=et.element;W.add(pt);const Tt=pt[Fa];if(Tt&&Tt.removedBeforeQueried)return new Pr.ZN(et.duration,et.delay);const dn=pt!==R,Nn=function(o){const n=[];return D0(o,n),n}((l.get(pt)||Bu).map(zr=>zr.getRealPlayer())).filter(zr=>!!zr.element&&zr.element===pt),Tn=f.get(pt),Dn=_.get(pt),tr=r0(0,this._normalizer,0,et.keyframes,Tn,Dn),js=this._buildPlayer(et,tr,Nn);if(et.subTimeline&&c&&te.add(pt),dn){const zr=new yg(n,I,pt);zr.setRealPlayer(js),H.push(zr)}return js});H.forEach(et=>{yo(this.playersByQueriedElement,et.element,[]).push(et),et.onDone(()=>function(o,n,r){let l;if(o instanceof Map){if(l=o.get(n),l){if(l.length){const c=l.indexOf(r);l.splice(c,1)}0==l.length&&o.delete(n)}}else if(l=o[n],l){if(l.length){const c=l.indexOf(r);l.splice(c,1)}0==l.length&&delete o[n]}return l}(this.playersByQueriedElement,et.element,et))}),W.forEach(et=>Ro(et,r_));const qe=ku(Ie);return qe.onDestroy(()=>{W.forEach(et=>ju(et,r_)),ol(R,r.toStyles)}),te.forEach(et=>{yo(c,et,[]).push(qe)}),qe}_buildPlayer(n,r,l){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,l):new Pr.ZN(n.duration,n.delay)}}class yg{constructor(n,r,l){this.namespaceId=n,this.triggerName=r,this.element=l,this._player=new Pr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(l=>Wy(n,r,void 0,l))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){yo(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const r=this._player;r.triggerCallback&&r.triggerCallback(n)}}function _g(o){return o&&1===o.nodeType}function Mo(o,n){const r=o.style.display;return o.style.display=null!=n?n:"none",r}function ai(o,n,r,l,c){const f=[];r.forEach(R=>f.push(Mo(R)));const _=[];l.forEach((R,H)=>{const W={};R.forEach(te=>{const Ie=W[te]=n.computeStyle(H,te,c);(!Ie||0==Ie.length)&&(H[Fa]=df,_.push(H))}),o.set(H,W)});let I=0;return r.forEach(R=>Mo(R,f[I++])),_}function oa(o,n){const r=new Map;if(o.forEach(I=>r.set(I,[])),0==n.length)return r;const c=new Set(n),f=new Map;function _(I){if(!I)return 1;let R=f.get(I);if(R)return R;const H=I.parentNode;return R=r.has(H)?H:c.has(H)?1:_(H),f.set(I,R),R}return n.forEach(I=>{const R=_(I);1!==R&&r.get(R).push(I)}),r}const ff="$$classes";function Ro(o,n){if(o.classList)o.classList.add(n);else{let r=o[ff];r||(r=o[ff]={}),r[n]=!0}}function ju(o,n){if(o.classList)o.classList.remove(n);else{let r=o[ff];r&&delete r[n]}}function jd(o,n,r){ku(r).onDone(()=>o.processLeaveNode(n))}function D0(o,n){for(let r=0;r<o.length;r++){const l=o[r];l instanceof Pr.ZE?D0(l.players,n):n.push(l)}}function A0(o,n,r){const l=r.get(o);if(!l)return!1;let c=n.get(o);return c?l.forEach(f=>c.add(f)):n.set(o,l),r.delete(o),!0}class gf{constructor(n,r,l){this.bodyNode=n,this._driver=r,this._normalizer=l,this._triggerCache={},this.onRemovalComplete=(c,f)=>{},this._transitionEngine=new YI(n,r,l),this._timelineEngine=new iC(n,r,l),this._transitionEngine.onRemovalComplete=(c,f)=>this.onRemovalComplete(c,f)}registerTrigger(n,r,l,c,f){const _=n+"-"+c;let I=this._triggerCache[_];if(!I){const R=[],H=d_(this._driver,f,R);if(R.length)throw new Error(`The animation trigger "${c}" has failed to build due to the following errors:\n - ${R.join("\n - ")}`);I=function(o,n,r){return new b0(o,n,r)}(c,H,this._normalizer),this._triggerCache[_]=I}this._transitionEngine.registerTrigger(r,c,I)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,l,c){this._transitionEngine.insertNode(n,r,l,c)}onRemove(n,r,l,c){this._transitionEngine.removeNode(n,r,c||!1,l)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,l,c){if("@"==l.charAt(0)){const[f,_]=s0(l);this._timelineEngine.command(f,r,_,c)}else this._transitionEngine.trigger(n,r,l,c)}listen(n,r,l,c,f){if("@"==l.charAt(0)){const[_,I]=s0(l);return this._timelineEngine.listen(_,r,I,f)}return this._transitionEngine.listen(n,r,l,c,f)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function vg(o,n){let r=null,l=null;return Array.isArray(n)&&n.length?(r=yf(n[0]),n.length>1&&(l=yf(n[n.length-1]))):n&&(r=yf(n)),r||l?new mf(o,r,l):null}let mf=(()=>{class o{constructor(r,l,c){this._element=r,this._startStyles=l,this._endStyles=c,this._state=0;let f=o.initialStylesByElement.get(r);f||o.initialStylesByElement.set(r,f={}),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&ol(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ol(this._element,this._initialStyles),this._endStyles&&(ol(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(Vs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vs(this._element,this._endStyles),this._endStyles=null),ol(this._element,this._initialStyles),this._state=3)}}return o.initialStylesByElement=new WeakMap,o})();function yf(o){let n=null;const r=Object.keys(o);for(let l=0;l<r.length;l++){const c=r[l];S0(c)&&(n=n||{},n[c]=o[c])}return n}function S0(o){return"display"===o||"position"===o}const x0="animation",_f="animationend";class N0{constructor(n,r,l,c,f,_,I){this._element=n,this._name=r,this._duration=l,this._delay=c,this._easing=f,this._fillMode=_,this._onDoneFn=I,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=R=>this._handleCallback(R)}apply(){(function(o,n){const r=pn(o,"").trim();let l=0;r.length&&(function(o,n){let r=0;for(let l=0;l<o.length;l++)","===o.charAt(l)&&r++;return r}(r)+1,n=`${r}, ${n}`),C_(o,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),lC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){b_(this._element,this._name,"paused")}resume(){b_(this._element,this._name,"running")}setPosition(n){const r=Eg(this._element,this._name);this._position=n*this._duration,C_(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(n){const r=n._ngTestManualTimestamp||Date.now(),l=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&l>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),lC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(o,n){const l=pn(o,"").split(","),c=vf(l,n);c>=0&&(l.splice(c,1),C_(o,"",l.join(",")))}(this._element,this._name))}}function b_(o,n,r){C_(o,"PlayState",r,Eg(o,n))}function Eg(o,n){const r=pn(o,"");return r.indexOf(",")>0?vf(r.split(","),n):vf([r],n)}function vf(o,n){for(let r=0;r<o.length;r++)if(o[r].indexOf(n)>=0)return r;return-1}function lC(o,n,r){r?o.removeEventListener(_f,n):o.addEventListener(_f,n)}function C_(o,n,r,l){const c=x0+n;if(null!=l){const f=o.style[c];if(f.length){const _=f.split(",");_[l]=r,r=_.join(",")}}o.style[c]=r}function pn(o,n){return o.style[x0+n]||""}class M0{constructor(n,r,l,c,f,_,I,R){this.element=n,this.keyframes=r,this.animationName=l,this._duration=c,this._delay=f,this._finalStyles=I,this._specialStyles=R,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=_||"linear",this.totalTime=c+f,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new N0(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(l=>l()),r.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(l=>{"offset"!=l&&(n[l]=r?this._finalStyles[l]:lg(this.element,l))})}this.currentSnapshot=n}}class cC extends Pr.ZN{constructor(n,r){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=ng(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const r=this._startingStyles[n];r?this.element.style.setProperty(n,r):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class R0{constructor(){this._count=0}validateStyleProperty(n){return Jy(n)}matchesElement(n,r){return Xy(n,r)}containsElement(n,r){return e_(n,r)}query(n,r,l){return t_(n,r,l)}computeStyle(n,r,l){return window.getComputedStyle(n)[r]}buildKeyframeElement(n,r,l){l=l.map(I=>ng(I));let c=`@keyframes ${r} {\n`,f="";l.forEach(I=>{f=" ";const R=parseFloat(I.offset);c+=`${f}${100*R}% {\n`,f+=" ",Object.keys(I).forEach(H=>{const W=I[H];switch(H){case"offset":return;case"easing":return void(W&&(c+=`${f}animation-timing-function: ${W};\n`));default:return void(c+=`${f}${H}: ${W};\n`)}}),c+=`${f}}\n`}),c+="}\n";const _=document.createElement("style");return _.textContent=c,_}animate(n,r,l,c,f,_=[],I){const R=_.filter(Tt=>Tt instanceof M0),H={};ag(l,c)&&R.forEach(Tt=>{let dn=Tt.currentSnapshot;Object.keys(dn).forEach(Nn=>H[Nn]=dn[Nn])});const W=function(o){let n={};return o&&(Array.isArray(o)?o:[o]).forEach(l=>{Object.keys(l).forEach(c=>{"offset"==c||"easing"==c||(n[c]=l[c])})}),n}(r=l_(n,r,H));if(0==l)return new cC(n,W);const te="gen_css_kf_"+this._count++,Ie=this.buildKeyframeElement(n,te,r);(function(o){var n;const r=null===(n=o.getRootNode)||void 0===n?void 0:n.call(o);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(n).appendChild(Ie);const et=vg(n,r),pt=new M0(n,r,te,l,c,f,W,et);return pt.onDestroy(()=>function(o){o.parentNode.removeChild(o)}(Ie)),pt}}class P0{constructor(n,r,l,c){this.element=n,this.keyframes=r,this.options=l,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=l.duration,this._delay=l.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,r,l){return n.animate(r,l)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(n[r]=this._finished?this._finalKeyframe[r]:lg(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(l=>l()),r.length=0}}class pC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(k0().toString()),this._cssKeyframesDriver=new R0}validateStyleProperty(n){return Jy(n)}matchesElement(n,r){return Xy(n,r)}containsElement(n,r){return e_(n,r)}query(n,r,l){return t_(n,r,l)}computeStyle(n,r,l){return window.getComputedStyle(n)[r]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,r,l,c,f,_=[],I){if(!I&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,r,l,c,f,_);const W={duration:l,delay:c,fill:0==c?"both":"forwards"};f&&(W.easing=f);const te={},Ie=_.filter(et=>et instanceof P0);ag(l,c)&&Ie.forEach(et=>{let pt=et.currentSnapshot;Object.keys(pt).forEach(Tt=>te[Tt]=pt[Tt])});const qe=vg(n,r=l_(n,r=r.map(et=>No(et,!1)),te));return new P0(n,r,W,qe)}}function k0(){return Zy()&&Element.prototype.animate||{}}let mC=(()=>{class o extends Pr._j{constructor(r,l){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(l.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(r){const l=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(r)?(0,Pr.vP)(r):r;return F0(this._renderer,null,l,"register",[c]),new I_(l,this._renderer)}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(v.FYo),v.LFG(ce.K0))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac}),o})();class I_ extends Pr.LC{constructor(n,r){super(),this._id=n,this._renderer=r}create(n,r){return new yC(this._id,n,r||{},this._renderer)}}class yC{constructor(n,r,l,c){this.id=n,this.element=r,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",l)}_listen(n,r){return this._renderer.listen(this.element,`@@${this.id}:${n}`,r)}_command(n,...r){return F0(this._renderer,this.element,this.id,n,r)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,r;return null!==(r=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==r?r:0}}function F0(o,n,r,l,c){return o.setProperty(n,`@@${r}:${l}`,c)}const Cg="@.disabled";let _C=(()=>{class o{constructor(r,l,c){this.delegate=r,this.engine=l,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),l.onRemovalComplete=(f,_)=>{_&&_.parentNode(f)&&_.removeChild(f.parentNode,f)}}createRenderer(r,l){const f=this.delegate.createRenderer(r,l);if(!(r&&l&&l.data&&l.data.animation)){let W=this._rendererCache.get(f);return W||(W=new vC("",f,this.engine),this._rendererCache.set(f,W)),W}const _=l.id,I=l.id+"-"+this._currentId;this._currentId++,this.engine.register(I,r);const R=W=>{Array.isArray(W)?W.forEach(R):this.engine.registerTrigger(_,I,r,W.name,W)};return l.data.animation.forEach(R),new wC(this,I,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,l,c){r>=0&&r<this._microtaskId?this._zone.run(()=>l(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(f=>{const[_,I]=f;_(I)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([l,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(v.FYo),v.LFG(gf),v.LFG(v.R0b))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac}),o})();class vC{constructor(n,r,l){this.namespaceId=n,this.delegate=r,this.engine=l,this.destroyNode=this.delegate.destroyNode?c=>r.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,l,c=!0){this.delegate.insertBefore(n,r,l),this.engine.onInsert(this.namespaceId,r,n,c)}removeChild(n,r,l){this.engine.onRemove(this.namespaceId,r,this.delegate,l)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,l,c){this.delegate.setAttribute(n,r,l,c)}removeAttribute(n,r,l){this.delegate.removeAttribute(n,r,l)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,l,c){this.delegate.setStyle(n,r,l,c)}removeStyle(n,r,l){this.delegate.removeStyle(n,r,l)}setProperty(n,r,l){"@"==r.charAt(0)&&r==Cg?this.disableAnimations(n,!!l):this.delegate.setProperty(n,r,l)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,l){return this.delegate.listen(n,r,l)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}}class wC extends vC{constructor(n,r,l,c){super(r,l,c),this.factory=n,this.namespaceId=r}setProperty(n,r,l){"@"==r.charAt(0)?"."==r.charAt(1)&&r==Cg?this.disableAnimations(n,l=void 0===l||!!l):this.engine.process(this.namespaceId,n,r.substr(1),l):this.delegate.setProperty(n,r,l)}listen(n,r,l){if("@"==r.charAt(0)){const c=function(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}(n);let f=r.substr(1),_="";return"@"!=f.charAt(0)&&([f,_]=function(o){const n=o.indexOf(".");return[o.substring(0,n),o.substr(n+1)]}(f)),this.engine.listen(this.namespaceId,c,f,_,I=>{this.factory.scheduleListenerCallback(I._data||-1,l,I)})}return this.delegate.listen(n,r,l)}}let CC=(()=>{class o extends gf{constructor(r,l,c){super(r.body,l,c)}ngOnDestroy(){this.flush()}}return o.\u0275fac=function(r){return new(r||o)(v.LFG(ce.K0),v.LFG(ig),v.LFG(Ul))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac}),o})();const L0=new v.OlP("AnimationModuleType"),V0=[{provide:Pr._j,useClass:mC},{provide:Ul,useFactory:function(){return new tC}},{provide:gf,useClass:CC},{provide:v.FYo,useFactory:function(o,n,r){return new _C(o,n,r)},deps:[w.se,gf,v.R0b]}],T_=[{provide:ig,useFactory:function(){return"function"==typeof k0()?new pC:new R0}},{provide:L0,useValue:"BrowserAnimations"},...V0],$d=[{provide:ig,useClass:rg},{provide:L0,useValue:"NoopAnimations"},...V0];let nT=(()=>{class o{static withConfig(r){return{ngModule:o,providers:r.disableAnimations?$d:T_}}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=v.oAB({type:o}),o.\u0275inj=v.cJS({providers:T_,imports:[w.b2]}),o})(),AC=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=v.oAB({type:o,bootstrap:[t0]}),o.\u0275inj=v.cJS({providers:[Yp],imports:[[w.b2,Mb,J.UX,Ee.hO.initializeApp(n0_firebaseConfig),bw,J.u5,nT,zy.Rh.forRoot(),Ld.forRoot({errors:{useValue:{required:"Campo requerido",minlength:({requiredLength:n,actualLength:r})=>`Expect ${n} but got ${r}`,invalidAddress:n=>"Address isn't valid"}}})]]}),o})();(0,v.G48)(),w.q6().bootstrapModule(AC).catch(o=>console.error(o))},4762:(At,ze,q)=>{"use strict";q.d(ze,{ZT:()=>v,pi:()=>J,_T:()=>Ee,mG:()=>we,Jh:()=>ue,XA:()=>ae,CR:()=>oe,ev:()=>je});var w=function(ke,Ue){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Se,Ne){Se.__proto__=Ne}||function(Se,Ne){for(var He in Ne)Object.prototype.hasOwnProperty.call(Ne,He)&&(Se[He]=Ne[He])})(ke,Ue)};function v(ke,Ue){if("function"!=typeof Ue&&null!==Ue)throw new TypeError("Class extends value "+String(Ue)+" is not a constructor or null");function Se(){this.constructor=ke}w(ke,Ue),ke.prototype=null===Ue?Object.create(Ue):(Se.prototype=Ue.prototype,new Se)}var J=function(){return(J=Object.assign||function(Ue){for(var Se,Ne=1,He=arguments.length;Ne<He;Ne++)for(var Ae in Se=arguments[Ne])Object.prototype.hasOwnProperty.call(Se,Ae)&&(Ue[Ae]=Se[Ae]);return Ue}).apply(this,arguments)};function Ee(ke,Ue){var Se={};for(var Ne in ke)Object.prototype.hasOwnProperty.call(ke,Ne)&&Ue.indexOf(Ne)<0&&(Se[Ne]=ke[Ne]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Ne=Object.getOwnPropertySymbols(ke);He<Ne.length;He++)Ue.indexOf(Ne[He])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ne[He])&&(Se[Ne[He]]=ke[Ne[He]])}return Se}function we(ke,Ue,Se,Ne){return new(Se||(Se=Promise))(function(Ae,lt){function Xe(Gt){try{ht(Ne.next(Gt))}catch(gn){lt(gn)}}function qt(Gt){try{ht(Ne.throw(Gt))}catch(gn){lt(gn)}}function ht(Gt){Gt.done?Ae(Gt.value):function(Ae){return Ae instanceof Se?Ae:new Se(function(lt){lt(Ae)})}(Gt.value).then(Xe,qt)}ht((Ne=Ne.apply(ke,Ue||[])).next())})}function ue(ke,Ue){var Ne,He,Ae,lt,Se={label:0,sent:function(){if(1&Ae[0])throw Ae[1];return Ae[1]},trys:[],ops:[]};return lt={next:Xe(0),throw:Xe(1),return:Xe(2)},"function"==typeof Symbol&&(lt[Symbol.iterator]=function(){return this}),lt;function Xe(ht){return function(Gt){return function(ht){if(Ne)throw new TypeError("Generator is already executing.");for(;Se;)try{if(Ne=1,He&&(Ae=2&ht[0]?He.return:ht[0]?He.throw||((Ae=He.return)&&Ae.call(He),0):He.next)&&!(Ae=Ae.call(He,ht[1])).done)return Ae;switch(He=0,Ae&&(ht=[2&ht[0],Ae.value]),ht[0]){case 0:case 1:Ae=ht;break;case 4:return Se.label++,{value:ht[1],done:!1};case 5:Se.label++,He=ht[1],ht=[0];continue;case 7:ht=Se.ops.pop(),Se.trys.pop();continue;default:if(!(Ae=(Ae=Se.trys).length>0&&Ae[Ae.length-1])&&(6===ht[0]||2===ht[0])){Se=0;continue}if(3===ht[0]&&(!Ae||ht[1]>Ae[0]&&ht[1]<Ae[3])){Se.label=ht[1];break}if(6===ht[0]&&Se.label<Ae[1]){Se.label=Ae[1],Ae=ht;break}if(Ae&&Se.label<Ae[2]){Se.label=Ae[2],Se.ops.push(ht);break}Ae[2]&&Se.ops.pop(),Se.trys.pop();continue}ht=Ue.call(ke,Se)}catch(Gt){ht=[6,Gt],He=0}finally{Ne=Ae=0}if(5&ht[0])throw ht[1];return{value:ht[0]?ht[1]:void 0,done:!0}}([ht,Gt])}}}function ae(ke){var Ue="function"==typeof Symbol&&Symbol.iterator,Se=Ue&&ke[Ue],Ne=0;if(Se)return Se.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ne>=ke.length&&(ke=void 0),{value:ke&&ke[Ne++],done:!ke}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(ke,Ue){var Se="function"==typeof Symbol&&ke[Symbol.iterator];if(!Se)return ke;var He,lt,Ne=Se.call(ke),Ae=[];try{for(;(void 0===Ue||Ue-- >0)&&!(He=Ne.next()).done;)Ae.push(He.value)}catch(Xe){lt={error:Xe}}finally{try{He&&!He.done&&(Se=Ne.return)&&Se.call(Ne)}finally{if(lt)throw lt.error}}return Ae}function je(ke,Ue,Se){if(Se||2===arguments.length)for(var Ae,Ne=0,He=Ue.length;Ne<He;Ne++)(Ae||!(Ne in Ue))&&(Ae||(Ae=Array.prototype.slice.call(Ue,0,Ne)),Ae[Ne]=Ue[Ne]);return ke.concat(Ae||Array.prototype.slice.call(Ue))}},8239:(At,ze,q)=>{"use strict";function w(J,Ee,be,me,Be,we,ue){try{var ee=J[we](ue),ne=ee.value}catch(ae){return void be(ae)}ee.done?Ee(ne):Promise.resolve(ne).then(me,Be)}function v(J){return function(){var Ee=this,be=arguments;return new Promise(function(me,Be){var we=J.apply(Ee,be);function ue(ne){w(we,me,Be,ue,ee,"next",ne)}function ee(ne){w(we,me,Be,ue,ee,"throw",ne)}ue(void 0)})}}q.d(ze,{Z:()=>v})}},At=>{At(At.s=1668)}]);